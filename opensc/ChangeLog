# Generated by Makefile. Do not edit!
commit d505a55483f830bb612e1ff6c7fb1c65b7a9ad81
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Fri Jul 15 13:40:07 2011 +0300

    Release OpenSC 0.12.2

commit a8df0b37cdb51770ec07c890c8965f009bcb2b43
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jul 13 17:27:13 2011 +0300

    PreReleases: publish 0.12.2 RC2, the final RC.

commit 358c6828c206089397f271ea54854aaf9865fc05
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jul 13 17:26:28 2011 +0300

    NEWS: add note about 17bc2c8

commit 17bc2c8809463b5194fb95645ce6cc7a33adbda2
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jul 12 11:49:24 2011 +0300

    FINeID: fix for broken organisation cards.
    
    Certain FINeID cards for organisations return 6A88 instead of 6A82 for missing files.
    This makes sc_enum_apps fail and will result in unknown card behavior from OpenSC.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-June/016910.html

commit 4294f3ca98effd7a986e816c8972377700aa0393
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 30 16:50:25 2011 +0300

    MacInstaller: Mac OS X 10.6.8 was released on 23.06.2011. Require it by default

commit 11a7a9ebfb0fee7cc490db20a6f7cbf2ac2c87c9
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 30 13:26:09 2011 +0300

    Update NEWS about silent builds

commit e8b22f63e7a9757be1c6ff78331daa28ba6875f1
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Thu Jun 30 11:42:31 2011 +0200

    Silent build rules by default
    
    Use make V=1 for the verbose mode (as used before)

commit 2680a55abdc4e09be0875797ce18c25bc48d6375
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jun 28 13:10:43 2011 +0300

    Amend previous commit, configure.ac was unpublished.

commit f717b678c06dae4330084023e4475b4824edfa6a
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jun 28 12:33:11 2011 +0300

    Update NEWS and version information for the RC.

commit ea4eee5dc2a1b39646e86b216512e1234fce75c1
Merge: 78adc76 a59ded7
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jun 28 11:18:23 2011 +0300

    Merge remote-tracking branch 'ludovic/master' into proposed

commit 78adc76da3914af9bbaab369dde3d704a523fd2f
Merge: dcf9a8e 2ffa346
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jun 28 11:17:36 2011 +0300

    Merge remote-tracking branch 'viktor/master' into proposed

commit a59ded782e090660652a4161720628b58eb5277d
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Thu Jun 23 17:07:26 2011 +0200

    Fix compiler warnings
    
    ctx.c:679:7: warning: "ENABLE_CTAPI" is not defined
    ctx.c:681:7: warning: "ENABLE_OPENCT" is not defined

commit b7c2836d943db19fb6bd6cd945b5bfe10e93ca63
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Thu Jun 23 16:10:46 2011 +0200

    C_Digest(): check context validity before logging
    
    If the context is invalid (no C_Initialize) the we get a:
    log.c:76: sc_do_log_va: Assertion `ctx != ((void *)0)' failed.

commit 1f6a85fea9e8733f9d65d216a4ae0f224326be06
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Thu Jun 23 11:57:05 2011 +0200

    only C_GetFunctionList needs to be exported
    
    Calling applicatinos must locate function pointers through
    C_GetFunctionList() after dlopen().

commit b9c43b9214b843ec55875632b8d9a6a0fae6ad80
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 21 13:56:40 2011 +0200

    Remove a useless cast in sc_dlopen()

commit d3c13fd4713ccf0788a8d6d0c80de117dc16d71a
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 21 13:53:08 2011 +0200

    Fix compiler warning
    
    libscdl.c: In function 'sc_dlerror':
    libscdl.c:86: warning: old-style function definition

commit ce2d3c09bed53e4a9e77e327d39f0a4e2187ba3a
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 21 10:41:41 2011 +0200

    Check the lib is initialized before logging
    
    C_CloseSession() and C_CloseAllSessions() were calling sc_debug() before
    any check on the validity of the context. So if C_Initialize() was not
    previously called you get an assert:
    log.c:76: sc_do_log_va: Assertion `ctx != ((void *)0)' failed.

commit dcf9a8e0b2fe5e11df2047a63691c2154aea065b
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Fri Jun 17 12:12:38 2011 +0300

    setcos: remove useless #if 1

commit 17c295ab1e5ed21fb85864cc650081aa12d99666
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 16 15:58:55 2011 +0300

    Fix compiler warnings:
    
     ../../src/libopensc/cardctl.h:231:30: warning: comma at end of enumerator list
     ../../src/libopensc/cardctl.h:629:13: warning: comma at end of enumerator list

commit bc307ae975168efb34d5ab258d011672eb46eff7
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 16 15:49:04 2011 +0300

    compiler warning: muscle.c:588:12: warning: unused variable ‘buffer_size’
    
    Also remove asserts, production code is compiled with asserts turned off, thus the unused variable warning.

commit 46e0c49d7bdf0aacda2abc6d88f0b6a18ecf1530
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 16 10:15:34 2011 +0300

    pcsc: correctly handle timeout situation when refreshing reader state.
    
    The code that treated a timeout as success was never reached, because the
    surrounding if eliminated the possibility of entering the block when the return code
    from SCardGetStatusChange was SCARD_E_TIMEOUT.
    
    Issue found by Coverity Scan.

commit 1f870b0c0760c516f0781b9b33ae0c586ab53bc1
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 16 10:08:04 2011 +0300

    pcsc: initialize variables
    
    Patch by Frank Morgner
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-May/016659.html

commit f4a45da61733dc61682394e9b5f81da9b8793ca1
Merge: 6c24bd5 2757253
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Thu Jun 16 09:31:32 2011 +0300

    Merge branch 'proposed' of github.com:martinpaljak/OpenSC into proposed

commit 6c24bd5cfff0b577d4a054a079ae4a8c91625ca0
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 15 20:53:50 2011 +0200

    opensc-explorer: silence compiler warnings

commit 27572537ce8de2b5627eb669607abee15338504c
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jun 15 14:10:37 2011 +0300

    FinnishEid: fix the symbolic names for FINeID v2 cards with 2048 keys and restore compatibility with v2 cards with 1024 keys.
    
    The more proper name for the 2048bit cards could be "v2.5".
    
    Thanks to jem@iki.fi, kivinen@iki.fi and tuju@iki.fi for the patch.

commit 6e70c09012f20500d311b618789af2d1120bdda0
Merge: 0ae9962 d4e90c1
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jun 15 11:07:52 2011 +0300

    Merge branch 'github-transition' into proposed

commit 0ae996254fa48d5e11d44b6af58f04d26005b8cb
Merge: f4c39e2 5a23069
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jun 15 11:07:23 2011 +0300

    Merge branch 'pkcs11' into proposed

commit f4c39e20b1328ecb85ccf1f34296f47694f9033e
Merge: 6690975 75524a5
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jun 15 11:06:38 2011 +0300

    Merge remote-tracking branch 'ludovic/PCSCv2_PART10_PROPERTY_bMaxPINSize' into proposed

commit 6690975498358cd745b8dedc1c3dc5a2c881e1e6
Merge: a3a8ae3 2faad42
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jun 15 11:06:30 2011 +0300

    Merge remote-tracking branch 'peter/tools-20110611' into proposed

commit a3a8ae3ef9c634e96323341e9b83ffb187b375f3
Merge: a6b7743 4939432
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Wed Jun 15 11:06:23 2011 +0300

    Merge remote-tracking branch 'peter/OpenPGP-20110611' into proposed

commit d4e90c171a77bc58c4c9a5665fd3ddc8ec35004e
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jun 7 12:28:25 2011 +0300

    Changes to build scripts requires for Git transition

commit 75524a5be87c0657f4ecc8aa8e1cfe1658972f68
Author: Ludovic Rousseau <ludovic.rousseau@free.fr>
Date:   Sun Jun 12 20:37:51 2011 +0200

    Fix PIN min and max sizes for pinpads
    
    Some pinpads do not support PIN size less than 4 or greater than 8.
    PC/SC v2 part 10 allows to ask the driver/reader for the supported
    values. This avoids to have the SECURE PIN CCID command rejected by the
    reader.
    
    This should fix OpenSC ticket #361 "card-entersafe should ask the pinpad
    reader for the maximum pin size"

commit 3b63bf351e1cddcecfbd1ee876ee3aeff647c3f9
Author: Ludovic Rousseau <ludovic.rousseau@free.fr>
Date:   Sun Jun 12 20:36:43 2011 +0200

    Add PCSCv2_PART10_PROPERTY_* values
    
    These are the tag values returned by PC/SC v2 part 10
    FEATURE_GET_TLV_PROPERTIES command.

commit 2ffa346eff4fe5de22dcd8d0fe23ad97cc7b19a2
Author: Viktor Tarasov <viktor.tarasov@gmail.com>
Date:   Tue Jun 14 14:56:49 2011 +0200

    OpenSC.msi: install opensc.dll into the 'tools' directory
    
    Now the DLLs installed into the 'system' directory are static.
    Only opensc tools depend on opensc.dll.

commit c2abd9fd16401da7e56cea4b2553d7479991705c
Author: Viktor Tarasov <viktor.tarasov@gmail.com>
Date:   Tue Jun 14 14:38:58 2011 +0200

    win32: build static version of the onepin PKCS#11 module

commit 40cb1c9e35bc5efc8fd597277f7297261b6ae498
Merge: 8936901 a6b7743
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 14 14:00:18 2011 +0200

    Merge remote branch 'upstream/master'

commit 8936901e2b8fade5d9831b224f3313b7b3255133
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 14 13:50:37 2011 +0200

    Correctly wait for card event
    
    The timeout parameter of SCardGetStatusChange() is a DWORD (unsigned
    int). An int timeout parameter was used instead.
    The problem happens on 64-bits architectures where DWORD is 64-bits long
    and int is only 32-bits long. The sign extension C mechanism transforms
    the PC/SC value INFINITE into -1 instead of 4294967295.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-June/016831.html
    "Kobil KAAN Advanced Reader, "waiting for card" timeout"

commit 5a2306967175ea96eaf9d058224fb9c394791f74
Author: Martin Paljak <martin@martinpaljak.net>
Date:   Tue Jun 14 14:41:29 2011 +0300

    pkcs11: only C_GetFunctionList needs to be exported, calling applicatinos must locate function pointers though it after dlopen()

commit a7ea231989718de5e0977d79a7c1333aa3a8c238
Author: Viktor Tarasov <viktor.tarasov@gmail.com>
Date:   Tue Jun 14 11:51:21 2011 +0200

    win32: build only static version of the OpenSC minidriver

commit b9f05137440891887c9fb3e84371c64098d768ab
Author: Viktor Tarasov <viktor.tarasov@gmail.com>
Date:   Tue Jun 14 11:47:01 2011 +0200

    win32: build only static version of the PKCS#11 module

commit 6bddab7417d325a261be8e4b436f67d630777c5b
Author: Viktor Tarasov <viktor.tarasov@gmail.com>
Date:   Tue Jun 14 11:34:25 2011 +0200

    win32: 'Minimal Size' code optimization

commit a6b774308887a849b144c488951b3b28c3658c84
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 13 09:23:30 2011 +0000

    pkcs15: add comments for the authentication object data type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5569 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ef95c71e684a7ce31fefa85de50a7135c730e78
Merge: 3920417 00d9a5d
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Mon Jun 13 10:12:22 2011 +0200

    Merge branch 'master' of https://github.com/LudovicRousseau/OpenSC

commit ba64c5573ddca9e723f4356361793089ba3f876b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 11 20:17:30 2011 +0000

    pkcs11: framework-pkcs15: invalid function name
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5568 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2faad4232573b9616921548425fff69a0540e468
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 19:47:50 2011 +0200

    opensc-explorer: consolidate filename generation
    
    * add new function path_to_filename() that converts a path into
      filename, and returns a static buffer to it
    * convert all occurrences where file names get generated
      to using this function
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit c03eedde5416e2894ec068f4b17d925e962be676
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 18:43:27 2011 +0200

    opensc-explorer: use util_hex_dump() in do_info()
    
    Use standard function util_hex_dump() in do_info() instead of
    enumerating lists of bytes ourselves.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 12fce0f3299c302340c2c644e78e3b540806c2c4
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 18:20:58 2011 +0200

    opensc-explorer: replace if..else with ?:
    
    Use the easier to read & shorter expression
      path->type = (is_id) ? SC_PATH_TYPE_FILE_ID : SC_PATH_TYPE_PATH;
    nstead of the longer, but equivalent if () .. else construction.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 52b601ee53caa548c3597c50dda9e600becf2e1b
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 17:46:30 2011 +0200

    opensc-explorer: re-factor do_apdu()
    
    * allow double-quoted strings besides hexdata in ADPU generation
    * detect errors in parameter parsing
    * use utility function to print bytes sent,
      fixing an error that only showed parts of the APDU wheni
      it was generated from multiple arguments
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 81aa02d59808da712092a147dff5d0528779bc93
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 17:17:08 2011 +0200

    opensc-explorer: convert all mapping tables to id2str_t
    
    Use type id2str_t for all mapping tables mapping IDs<->names.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 1c437c049caf8842ff9f3430eecc21894db3f3b3
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 16:40:24 2011 +0200

    opensc-explorer: simplify arg parsing in do_change() & do_unblock()
    
    Simplify argument handling in do_change() and do_unblock(),
    making the functions shorter and deasier to understand.,
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 61855ebd225778b79dd89909304d272163ba774a
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 16:19:38 2011 +0200

    opensc-explorer: remove unnecessary var's in do_update_*()
    
    The variables "in_str" in do_update_binary() & do_update_record()
    do not serve a purpose: use argv[x] directly & remove them.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 291ec6bf1cd3cf1295871691674d9c00d16e591d
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 16:15:30 2011 +0200

    opensc-explorer: remove hex2binary()
    
    With the last users gone, there's no need to keep hex2binary().
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 4cc1ab41ffd859731eb229082672fb968e22d69e
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 16:13:04 2011 +0200

    opensc-explorer: detect AID conversion errors in arg_to_path()
    
    Convert arg_to_path() to using the standard sc_hex_to_binary() instead of
    the local hex2binary().
    While at it, return erros on failed conversions.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit c3ba355531697660c39dda74f3607cb7945c960e
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 16:02:17 2011 +0200

    opensc-explorer: consolidate string parsing in do_update_record()
    
    Update do_update_record() to use parse_string_or_hexdata() instead of the old
    hex2binary().
    This change allows to use double-quoted strings in the "update_record" command.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit aa7a5ae5f832c03c510f241aa3a10770e0ad66d0
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 15:51:30 2011 +0200

    opensc-explorer: fix argc checks in do_update_*()
    
    do_update_binary() and do_update_record() expect a fixed number of parameters
    each: adapt the checks for argc so that they do the right thing.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 081bf9fc7e3ece7178d0e3d8dceafba0aacbc79c
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 15:39:12 2011 +0200

    opensc-explorer: consolidate string/hexdata parsing
    
    * add new function parse_string_or_hexdata() that parses
      a double-quoted string or a hex-data string (e.g: AA:BB:CC)
      into a buffer
    * use parse_string_or_hexdata() wherever strings or hexdata
      gets parsed into a buffer
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 9c9317d11b88477007ad5ef4359db39daec6e4c0
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 13:21:25 2011 +0200

    opensc-explorer: centralize usage
    
    * extend cmds struct by a new element args for a description of the arguments
    * use args in help texts
    * new function usage() for centralited dispaly of usage info
    * harmonize argument strings for usage / help texts
    * re-sort cmd list shown in help texts
    * add function "help" to cwallow asking for for help
    * space-police
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 8780ddb2e19611f59250d0d14fbf6bf34412be2b
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 21:07:13 2011 +0200

    opensc-tool: no unnecessary spaces around "DF"
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 9abb39875075f5f68640cfced6926a8df4a29687
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 21:01:23 2011 +0200

    opensc-tool: update EF structure names
    
    Use EF structure names that are more sensible & grammatically more correct.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 78838812fb586eb06de3a14fdb2b5158897886a8
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 19:58:55 2011 +0200

    opensc-explorer: convert do_info() to using tables
    
    * use ID<->name tables instead of arrays of strings where
      the index was treated like some "magic" constant.
      With the new mapping tables, the meaning is obvious.
    
    * fix a bug with ac_ops_df[]: before the conversion, it was a list
      of pointers to strings but was in one case treated like it was a mapping table.
      With the conversion to a mapping table, and the adaption of other code parts
      this bug got fixed "automagically" ;-)
    
    * use common code to cleanly print ACLs for DFs & EFs
    
    * harmonize EF structure names to the ones used in ISO 7816-4
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 49394323043a1f4c37497c32c43a0633453fd645
Author: Peter Marschall <peter@adpm.de>
Date:   Thu Jun 2 10:10:48 2011 +0200

    OpenPGP: unlink blob from blob tree in pgp_free_blob()
    
    Remove links pointing to the blob to be deleted from other blobs in the
    blob tree structure, so that removing a subordinate blob does not hurt
    its parent or siblings.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit da5a223e2636493003f590efbd8d7bf344967b2f
Author: Peter Marschall <peter@adpm.de>
Date:   Tue May 31 18:34:41 2011 +0200

    OpenPGP: use pgp_new_blob() to setup MF blob
    
    Use the standard way to create blobs, pgp_new_blob(), also for the MF.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 4ddec5d384ee95f4a968ca5c99d83cb3d08ddd49
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 13:33:23 2011 +0200

    OpenPGP: add DO info entries for MF
    
    For consistency, add DO info entries for the MF 3F00.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 961a27c921a65698c4c08e59b945b45da0421ce5
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 13:17:26 2011 +0200

    OpenPGP: update pgp_list_files()
    
    * fail if buffer passed as parameter is too small
    * only list readable objects
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 2e7406922f15ffade1872dad5f261787b9c01cac
Author: Peter Marschall <peter@adpm.de>
Date:   Tue May 31 21:00:42 2011 +0200

    OpenPGP: re-factor gpg_new_blob()
    
    * get file as parameter & fail if it is NULL
    * allow parent to be NULL
    * do not rely on DO info to be passed as parameter,
      search it yourself using the global DO info list for the card.
    * infer file type automatically from DO info matching the file ID.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit b6ee0e3d751acfbc8f24619a6c700a60749a24ec
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 13:41:25 2011 +0200

    OpenPGP: immediately quit on allocation errors in init
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit e3fca4ac1195c25af01d9e88e49fb685ff54c5b4
Author: Peter Marschall <peter@adpm.de>
Date:   Wed Jun 1 13:29:07 2011 +0200

    OpenPGP: remove DO info entry for DO FF
    
    DO FF is a "catch-all" DO that returns all the infos contained in the other
    DOs in one hierarchy.
    It is hence duplicate and not necessary.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 01e63424f57ef0f5413d8d3eb1585087fcf9553f
Author: Peter Marschall <peter@adpm.de>
Date:   Tue May 31 14:16:21 2011 +0200

    OpenPGP: fix algorithms & key lengths calculation
    
    Also include forgotten DO C3 in keylength calculation.
    It contains the parameters for the authentication key.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>

commit 986307284590b420dce2c29fd68ab519a4609cc3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 10 16:46:41 2011 +0000

    pkcs11: framework-pkcs15: OpenSC specific 'non-repudiation' cryptoki attribute ...
    
    In PKCS#11 there is no CKA_ attribute dedicated to the NON-REPUDIATION flag.
    We need this flag in PKCS#15/libopensc to make dinstinction between 'signature' and 'qualified signature' key slots.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5567 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7607b8f30b7b186ca7e159b1c9122dcbdfdc680
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 10 16:41:04 2011 +0000

    pkcs11: framework-pkcs15: when storing private key, set the key usage from the object attributes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5566 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93cc9bef1a8a498c469f69d83148476b085a67ed
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 10 09:14:02 2011 +0000

    For CardOS 4.3B and 4.4, the Verify Retry Counter Package
    can be loaded at ADMINISTRATION life cycle phase to change
    the behavior of the VERIFY command in regard to return codes.
    When that package is loaded, the return code of the VERIFY
    will be ISO7816-4 compliant (63Cx with x being the value of
    the remaining retry counter when required verification has failed).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5565 c6295689-39f2-0310-b995-f0e70906c6a9

commit 00d9a5d7ac4d03d0e135ff3538e629d92f9e5774
Merge: 9027279 93baf13
Author: Ludovic Rousseau <ludovic.rousseau@free.fr>
Date:   Fri Jun 10 11:06:36 2011 +0200

    Merge remote branch 'upstream/master'

commit 93baf137c30bc509827c40aef6c4c28c9d06f887
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 9 10:59:04 2011 +0000

    libopensc: Fix for drivers returning an error if a challenge of length zero was requested. Actually nothing is done when obtaining such a challenge, thus nothing could fail.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5564 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a5961e970006a58e57c5aae7eb9e5cb0532afd3
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 8 08:50:42 2011 +0000

    pkcs11-tool.c: At least CKS_RO_PUBLIC_SESSION is needed.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5563 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5c2366a0b5317320df3eebcfccd548510a45b89
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 8 07:58:51 2011 +0000

    Revert 5558
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5562 c6295689-39f2-0310-b995-f0e70906c6a9

commit a28bacf02c2ea83541c433796214721faace3ebc
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 8 07:35:03 2011 +0000

    libopensc: Reveal another Belpic hack introduced in r2117.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5561 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7cc559ec39bfab3850c9753ce2eda67fe0549ed7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 13:13:43 2011 +0000

    MacInstaller: when building OpenSC.tokend, refresh remote branches before trying to switch.
    
    Old checkout is used by build slaves, where new branches might not be visible
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5560 c6295689-39f2-0310-b995-f0e70906c6a9

commit 203eb871d6547aa79ea6c3c6a5245c025804804e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 13:06:41 2011 +0000

    MacInstaller: when building the engine on 10.6, extent the pkg-config search path with freshly built libp11 location instead of replacing the path.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5559 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3920417e94a8b03045b6f482b726b1caad770cea
Merge: 9027279 b422872
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 7 15:02:54 2011 +0200

    Merge remote branch 'upstream/master'

commit b422872813b72fe3e9d81c4f69fbbd0959f904b0
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 12:44:53 2011 +0000

    For CardOS 4.3B and 4.4, the Verify Retry Counter Package
    can be loaded at ADMINISTRATION life cycle phase to change
    the behavior of the VERIFY command in regard to return codes.
    When that package is loaded, the PIN can be created with this
    "verifyRC" flag in cardos.profile if the return code must be
    ISO7816-4 compliant (63Cx with x being the value of the remaining
    retry counter when required verification has failed).
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5558 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2da113f54d98553793da28187b2338086296445
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 10:49:04 2011 +0000

    MacInstaller: r5550/[d888b3fd55053894dcc751b21301d53669e966ba] changed ABI, bump OpenSC.tokend branch revision.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5557 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90272799f04997cb0ee72f96e123a68c85b51c65
Author: Ludovic Rousseau <ludovic.rousseau+github@gmail.com>
Date:   Tue Jun 7 10:23:56 2011 +0200

    Fix compiler warning
    
    Declare the function static to fix:
    pkcs15-lib.c:1069: warning: no previous prototype for 'sc_pkcs15init_encode_prvkey_content'

commit ffdcad49c5cb1a4320e1a2aaee3baa729aac3cbb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 07:08:08 2011 +0000

    NEWS: add details to existing lines
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5556 c6295689-39f2-0310-b995-f0e70906c6a9

commit 947cdad80151e5106cffb00806b6f1387e4cd754
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 06:33:01 2011 +0000

    pkcs15.c: In function ‘compare_obj_flags’:
    pkcs15.c:1115: warning: unused variable ‘data’
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5555 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0ab93203131da42e2af1fa043f88b5cc7cbe232
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 17:03:23 2011 +0000

    minidriver: 'PinObject-info' data type is changed for the 'AuthenticatioObject-info' data type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5554 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5b8a6cd5feb638336e5ab3b71bf8f9d9113c5a7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 16:53:07 2011 +0000

    RuToken: 'use uninitialized variable' warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5553 c6295689-39f2-0310-b995-f0e70906c6a9

commit 226bfaac7413cc2139b9ba66ae44ba5dc36e393f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 16:51:36 2011 +0000

    pkcs15: add few attributes to the biometric authentication data type ...
    
    to make happy VS compiler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5552 c6295689-39f2-0310-b995-f0e70906c6a9

commit efc5760646a0592917de535916707333245b03d1
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 16:14:11 2011 +0000

    win32: build also static version the pkcs11 module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5551 c6295689-39f2-0310-b995-f0e70906c6a9

commit d888b3fd55053894dcc751b21301d53669e966ba
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 15:46:25 2011 +0000

    pkcs15: use general 'AuthenticationObject' instead of 'PinObject'
    
    now the attributes of the previous 'pin-info' data type are included
    as the sub-type attributes of the general 'auth-info' data .
    It will allow to include support of the 'biometricTemplate' and 'authKey' authentication types.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-May/016655.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5550 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32d035a9adaff0e0dd9354e9a6acd8d94573dc03
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 15:13:06 2011 +0000

    AuthentIC: when returning PIN info set the 'tries-left' data to the 'non-initialized' value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5549 c6295689-39f2-0310-b995-f0e70906c6a9

commit f45f22ca73f2efc7e8a43f04577edb8c746f26d8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 15:05:58 2011 +0000

    westcos: resolve signed/unsigned comparison warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5548 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9b1a1e10240532be9ce45c958dffc75863d95df
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 15:01:15 2011 +0000

    pkcs15: in 'TokenInfo' data the 'serialNumber' attribut is optional
    
    If 'serialNumber' attribute is absent in the 'TokenInfo' data,
    in the parsed data, this attribute will be set to the value of the card's serial.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5547 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9eba2b20537ba03a9fb1bf405dc40c2fd2fe534
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 5 11:08:36 2011 +0000

    libopensc: Remove unused parameter 'file_out' in function 'sc_pkcs15_read_file'.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5546 c6295689-39f2-0310-b995-f0e70906c6a9

commit c74d33d0b0aa3b701430de7819a9ba09158c2b0b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 19:43:10 2011 +0000

    coding style: tiny indent style issue
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5545 c6295689-39f2-0310-b995-f0e70906c6a9

commit f53b9521761dcad501da0daa3702fa20fa32dca9
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 19:29:15 2011 +0000

    doc: pkcs11-tool: precise description of the options to select a slot
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5544 c6295689-39f2-0310-b995-f0e70906c6a9

commit a479c368a6523fa3125361a8d79792e35ffaf59f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 19:20:11 2011 +0000

    pkcs11-tool: allow non-interactive change of User/SO PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5543 c6295689-39f2-0310-b995-f0e70906c6a9

commit 438cf4b2d4aee8f2ba4a4cffc3630360de3de7ec
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 19:06:43 2011 +0000

    RuToken-ECP: profile option to allow the reset of User PIN with SoPIN
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-May/016716.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5542 c6295689-39f2-0310-b995-f0e70906c6a9

commit da0a77b8c00fc50b169416ed32f7d9fbcb7a41be
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 18:22:42 2011 +0000

    authentic: spelling of message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5541 c6295689-39f2-0310-b995-f0e70906c6a9

commit d43e692e98e82d3b4fefb440123a8f26e973ed1a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 18:17:02 2011 +0000

    pkcs11: implement changing of SoPIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5540 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35bd07ed5e31965f0c7064bd0620c6c4508ed666
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 18:05:02 2011 +0000

    pkcs11: with 'init-pin-in-SO-session' PIN unblock style, try to set PIN when PUK value is not available
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5539 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36a85ffe5b3aae5535c42df17b48016b4ffd9df0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 17:28:37 2011 +0000

    iso7816: resolve problem 'r5237 breaks support for Belgian eID', thanks to Jean-Pierre.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-May/016703.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5538 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3cbf5453e31d1a56491e73ff645907ff9880543
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 17:20:10 2011 +0000

    pkcs11: resolve problem 'change 5421 breaks MIT Kerberos login', thanks to Douglas.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-June/016734.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5537 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3095f5479fb71f9cac23d401ffddcbd7d749ba4f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 17:12:12 2011 +0000

    pkcs11-tool: resolve compiler warning '"OPENSSL_VERSION_NUMBER" is not defined', thanks to Ludovic
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5536 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5679f58afb15cc83dfcdb1b85a16b64a9ad64b8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 17:00:36 2011 +0000

    warning: resolve 'suggest parentheses around operand' compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5535 c6295689-39f2-0310-b995-f0e70906c6a9

commit f026db6f84694b761f58b2e1f8a8df790a1bd7dc
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 2 16:59:39 2011 +0000

    compile warnings: resolve 'comparison between signed and unsigned' compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5534 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31a56bb374cb61554ceb0650e7f5f10642646c9d
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 1 18:51:26 2011 +0000

    pkcs11-tool.c: Remove useless parameter 'slot' from a lot of function prototypes.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5533 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ac55871fbd56eb4a3f1f92a043fa1679b9fc41a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 1 17:15:31 2011 +0000

    pkcs15init: oberthur: cleanup compiler warnings
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-May/016724.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5532 c6295689-39f2-0310-b995-f0e70906c6a9

commit e966cc1e6ea8251e77268c89df7d7281cfcf7bc8
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 1 16:54:40 2011 +0000

    dir.c: In function ‘update_single_record’:
    dir.c:318: warning: unused parameter ‘file’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5531 c6295689-39f2-0310-b995-f0e70906c6a9

commit dfbb55777c3493e0bde995ce1cee6f2348bd3143
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 31 15:12:31 2011 +0000

    pkcs15.c: In function ‘__sc_pkcs15_search_objects’:
    pkcs15.c:981: warning: unused variable ‘ctx’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5530 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7dff44ae53218fc8ded72468ae19bb75dbc56374
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 31 15:09:01 2011 +0000

    framework-pkcs15.c: In function ‘set_gost_params’:
    framework-pkcs15.c:1892: warning: comparison between signed and unsigned
    framework-pkcs15.c:1902: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5529 c6295689-39f2-0310-b995-f0e70906c6a9

commit 185e3f825968a1bb57e627ca0d3c67df91456155
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 30 14:47:50 2011 +0000

    pkcs11-tool: replace 'slot-label' argument with the two new ones -- 'slot-description' and 'token-label'...
    
    the main difference between 'slot-description' and 'token-label' is that
    the first one is unique in any case,
    the second one can be the same for more then one slots.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5528 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8931231396e862d59e6e13dfa9e6ee5a99bac86d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 30 13:28:16 2011 +0000

    pkcs11-tool: show CKA_VALUE of the GOST public key object
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5527 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40cf9a5ccaae1847f5fd311eda8021f2f565c677
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 19:23:18 2011 +0000

    libopensc: reverse data to sign when signing with the GOST key
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5526 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e8df6d22667cfc84779ecbfae459704f0fbadd0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:50:33 2011 +0000

    libopensc: eliminate repetetive debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5525 c6295689-39f2-0310-b995-f0e70906c6a9

commit b21e04f42a35df65ccf0763b7d24dea82220bb2a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:47:44 2011 +0000

    libopensc:  avoid warning "missing braces around initializer"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5524 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf830d63daac2ab7bc1f44cea3442d88e381cd09
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:45:00 2011 +0000

    gost: when decoding public key, add explicit key params
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5523 c6295689-39f2-0310-b995-f0e70906c6a9

commit a41a9c3f823af99df9da24819fe58cee87e0a6f8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:35:34 2011 +0000

    pkcs11: pkcs15 framework support for the import of the GOST key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5522 c6295689-39f2-0310-b995-f0e70906c6a9

commit e81c17437250a3e6636dd9398ba8e3a5bc091f6b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:25:04 2011 +0000

    pkcs15-tool: encode GOST public key with the key parameters ...
    
    .. so that it can be used with the OpenSSL tools
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5521 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9e9aaee787ac1c290e2421b047eb6b3d0211707
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:18:43 2011 +0000

    gost: GOST key parameters data type, encode gost parameters procedure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5520 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1dd7d1fdeb315e4b67ba70c7c09154afbe09c175
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 18:07:18 2011 +0000

    pkcs11: debug title for GOSTRPARAMS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5519 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d2428378dbb83989e2297770ee53e9174bd7ab7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 17:55:26 2011 +0000

    pkcs11-tool: CKA_VALUE of imported GOST key has to be presented in the little endian order
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5518 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71b1f55f7cf6254c8c0303ba2bdfc64c7a5b4c70
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 17:49:00 2011 +0000

    pkcs15-init: use general function to reverse memory buffer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5517 c6295689-39f2-0310-b995-f0e70906c6a9

commit dce63c8bfc0eb0d389aa3a7836ac03df9438a527
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 17:47:54 2011 +0000

    libopensc: new exported function to reverse memory buffer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5516 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f9924eae84ca004070ba4813cce738a37d0aa2e
Author: pk <pk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 12:04:18 2011 +0000

    added news about TOCS-driver to NEWS-file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5515 c6295689-39f2-0310-b995-f0e70906c6a9

commit a045543cc1593f279fbb707f7ae9085a1dc2dbd8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 11:50:13 2011 +0000

    minidriver: unused variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5514 c6295689-39f2-0310-b995-f0e70906c6a9

commit 319cb6f071c86bb62fa53e61a39f29ab3e077491
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 29 11:48:50 2011 +0000

    minidriver: when reading 'cardid' file return the content of 'cardid' file ...
    
    'cardid' size is 16 bytes.
    It's initialized by the 'empty-cardid' value (00-0F) overwritten (from left) by the last 16 (or less) bytes
    of the card's serial.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5513 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee4f346b075f77fc37e17068050aee944ec25150
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 28 22:47:05 2011 +0000

    pkcs15init oberthur: avoid warnings 'signed/unsigned mismatch'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5512 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d43c601e9b8c728060381b41ea55b9cc1455a6c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 28 22:14:14 2011 +0000

    Remove unused code: sc_pkcs15init_get_label()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5511 c6295689-39f2-0310-b995-f0e70906c6a9

commit 215c133ba078c12b783308d898ab7683917c2437
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 28 22:14:07 2011 +0000

    libopensc: remove more traces of software token/non-native private key related code.
    
    pkcs15-wrap.c can be removed. Clarified/changed the meaning of "insecure" flag to pkcs15-init tool,
    which will be needed to explicitly enforce the creation of a key which does not require a PIN.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5510 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7179778e228806a034a55858beac57ae6e055db1
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 28 19:30:26 2011 +0000

    authentic: avoid warning C4018: signed/unsigned mismatch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5509 c6295689-39f2-0310-b995-f0e70906c6a9

commit c97fc2e719f33d6750e6c9d6ff4e5fa9a98a167b
Author: pk <pk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 28 14:24:27 2011 +0000

    support for TCOS3 IdKey cards and fix for bug #256
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5508 c6295689-39f2-0310-b995-f0e70906c6a9

commit 661cc0dd47238bc654f75b07cfdfe98fd9a055c2
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 27 12:33:52 2011 +0000

    libopensc: Remove the somewhat mysterious flag SC_CARD_CAP_NO_FCI.
    
    It's solely purpose was to get opensc-explorer to work with card-belpic (r2118, r2119).
    
    Relates to #296.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5507 c6295689-39f2-0310-b995-f0e70906c6a9

commit 487a7ab372e38bc6cd6fb3581f4668dcd31ee25a
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 27 09:29:01 2011 +0000

    sc-test.c: In function ‘sc_test_init’:
    sc-test.c:80: warning: comparison between signed and unsigned
    sc-test.c:94: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5506 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a2dfa6822d1a8b489ee90f8c034417eb33bc80b
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 27 09:24:09 2011 +0000

    pkcs11-tool.c: In function ‘sign_data’:
    pkcs11-tool.c:1253: warning: comparison between signed and unsigned
    pkcs11-tool.c: In function ‘write_object’:
    pkcs11-tool.c:1777: warning: unused variable ‘type’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5505 c6295689-39f2-0310-b995-f0e70906c6a9

commit bbcb867a8f8a89e47f9a38e52a56de0dba5ad7dd
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 27 08:49:43 2011 +0000

    card-openpgp.c: In function ‘pgp_enumerate_blob’:
    card-openpgp.c:584: warning: comparison between signed and unsigned
    card-openpgp.c: In function ‘pgp_card_ctl’:
    card-openpgp.c:1036: warning: unused variable ‘priv’
    card-openpgp.c: In function ‘pgp_init’:
    card-openpgp.c:272: warning: ‘child’ may be used uninitialized in this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5504 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2facf390427d6e94f7a1a3cd150cc087104ed496
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 24 20:46:14 2011 +0000

    NightlyBuilds: add NEWS file entries for r5502 and r5468 to r5499
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5503 c6295689-39f2-0310-b995-f0e70906c6a9

commit dffe79d55938c0fdcead7b90e385a3502b8946cf
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 24 19:08:55 2011 +0000

    SetCOS/FinEID: add support for cards issued after 01.03.2011
    
    Thanks to Juha Tuomala & Tero Kivinen <kivinen@iki.fi> for the patch.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5502 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bb6c706b9936efe2ef29b38080fa7d493ee0484
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 24 19:08:43 2011 +0000

    pkcs15-crypt: remove extractable key support. Only native keys (operations on the card) are supported.
    
    This amends r4646 and related commits.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5501 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3655d1a1e4ceb15b9d8a2df9572d51a1c894c559
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 24 19:08:05 2011 +0000

    pkcs15-tool: align access flags with the rest of output.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5500 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4899f70b4e7811347d130858f2fbb9bea91451b8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:50 2011 +0000

    OpenPGP: use updated ushort2bebytes() in pgp_get_pubkey()
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5499 c6295689-39f2-0310-b995-f0e70906c6a9

commit 15cdf5367d191eee19facf18b61abe4457970c3b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:45 2011 +0000

    rewrite bebyte conversion functions: NULL check, return buffer
    
    Rewrite bebyte conversion functions:
    * check whether the buffer passed is non-NULL
    * for conversions to bebytes, return the buffer passed
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5498 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa259c63d543dec68be9de7c5b54567030b6f9d9
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:38 2011 +0000

    OpenPGP: re-factor pgp_list_files()
    
    Use ushort2bebytes instead of calculating the mapping to IDs ourselves.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5497 c6295689-39f2-0310-b995-f0e70906c6a9

commit e422a57449a9a4adedc5b2676103195819e3fbb8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:33 2011 +0000

    OpenPGP: re-factor pgp_get_blob()
    
    Instead of jumping out of the loop when the correct child is found,
    and checking afterwards again if we found the correct object,
    do everything directly in the loop and return from there.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5496 c6295689-39f2-0310-b995-f0e70906c6a9

commit 782b4efa734cf7be249445647f49b19385d68832
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:27 2011 +0000

    OpenPGP: get flags & algorithms in pgp_get_card_features()
    
    Extend pgp_get_card_features() to get card's flags & supported algorithms
    from the card:
    * get algorith values from "algorithm attributes" DOs 0x00c1 - 0x00c3
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5495 c6295689-39f2-0310-b995-f0e70906c6a9

commit c46152d89bd12da65953098b6b3a22c87ec71c5a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:15 2011 +0000

    OpenPGP: extend pgp_get_card_features()
    
    Extend pgp_get_card_features() with these features:
    * get SC_CARD_CAP_RNG capability from "extended capabilities" DO 0x00c0
    * for OpenPGP 2.0 cards get max_send_size / max_recv_size values
      from "extended capabilities" DI 0x00c0
    * get max_pin_len from "CHV status bytes" DO 0x00c4
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5494 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1342648a89c31e34625cb8f1c7408c2d37207e75
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:33:04 2011 +0000

    OpenPGP: new function to get card's features
    
    Add a new function pgp_get_card_features() to get the card's capabilities,
    algorithms, features, ... instead of doing it all in pgp_init():
    * get SC_CARD_CAP_APDU_EXT capability from ATR
    * for openPGP 2.0 cards, if not found in ATR,
      get SC_CARD_CAP_APDU_EXT capability from "historical bytes" DO 0x5f52
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5493 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee446adf09137ad57943d988b6af14d628bcdd5d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:59 2011 +0000

    OpenPGP: check for get_fn != NULL in pgp_read_blob()
    
    In pgp_read_blob(), check if the pointer to the function we want to call
    is defined.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5492 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19142ee9afe638c3ce0fa276e3ba84951d9ac4e2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:54 2011 +0000

    OpenPGP: deal with DOs depending on card version
    
    Have separate copies of pgp_objects[] data elements specific to the card's
    version, and extend these structures with additional information:
    * Some spec changes cannot be compatibly expressed in one common
      simple data structure without making it too complex.
    * depending on specification version, only deal with those DOs
      that are legal within that version
    * add information or read & write access conditions
    * add information for non-toplevel and/or write-only DOs
    * use symbolic names for constants
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5491 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88e88d931750716706484f30eb8a5330084d41a4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:49 2011 +0000

    OpenPGP: read BCD version from card
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5490 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf3a34cbef269506b36331a14c1de352926e08de
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:43 2011 +0000

    OpenPGP: re-factor pgp_select_file()
    
    * remove unnecessary copy operations with a temporary path object,
      instead increase the start index.
    * addd comments
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5489 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a3df984501d391e6436660b34af7259ec48527d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:36 2011 +0000

    OpenPGP: comment use of "current"
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5488 c6295689-39f2-0310-b995-f0e70906c6a9

commit 101cf28766ac62564dd714388cecc7854258da37
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:31 2011 +0000

    OpenPGP: clean up with pgp_finish()
    
    Use pgp_finish() wherever possible to clean up.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5487 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9aa73420004f0d0a1307cce2648035fbb883dd55
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:26 2011 +0000

    OpenPGP: re-factor pgp_finish()
    
    Re-structure pgp_finish() for easier reading.
    While at it, check for priv != NULL before free()ing it.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5486 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec1f1bd8128f3f26452050252179bcc08983b664
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:21 2011 +0000

    OpenPGP: sprinkle with LOG_... macros
    
    Instrument functions used in the card operations table pgp_ops[]
    with log macros to ease debugging.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5485 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c26b8f7d315f0b40b88ca9d57394111b51e2c4f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:10 2011 +0000

    OpenPGP: briefly document each function
    
    Write a short comment at the beginning of each function,
    shortly sketching what the function does.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5484 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70fa98232a084479ef9e915610f9090077c337ec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:05 2011 +0000

    OpenPGP: remove unused element from structure
    
    The element size in struct do_info is never used. Get rid of it.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5483 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9765eda21cc7366257ec489d2eb622fca882aa3d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:32:00 2011 +0000

    OpenPGP: implement card_ctl() command SC_CARDCTL_GET_SERIALNR
    
    Implement card_ctl(), crrently restricted only to SC_CARDCTL_GET_SERIALNR.
    The card's serial number is copied from the respective bytes in the AID.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5482 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e04d7f6bfb1024aaca5bb54239cc27efeb2d871
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:55 2011 +0000

    OpenPGP: free memory when selecting the application fails
    
    free() the memory already reserved when the file identifying the OpenPGP
    application fails & reset the pointers in the card strcuture back to NULL.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5481 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56f6718bf2a705bb9849d17fecb8107eb08b08ca
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:50 2011 +0000

    OpenPGP: allow extended APDUs in all functions
    
    Depending on the card's capabilities and the necessity (requested response
    size > 256) allow extended APDUs in all functions talking to the card.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5480 c6295689-39f2-0310-b995-f0e70906c6a9

commit f32a8ff59c4808f170479f45e76aa2a87b6ef0a2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:45 2011 +0000

    OpenPGP: use card "extended Lc/Le" capabilities
    
    adapt pgp_get_pubkey() and pgp_read_blob() to make use of the information
    about the "extended Lc/Le" capabilities.
    
    This allows reading OpenPGP Card v2.0 keys!
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5479 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1911db7532c63519817d3258ab603a308ef4992b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:39 2011 +0000

    OpenPGP: update card capabilities from historical bytes
    
    According to OpenPGP card specs 1.1 & 2.0 historical bytes in the ATR
    indicate capabilities:
    * bit 0x40 of the 3rd byte of the compact-TLV entry with TL 0x73 tells
      whether the card supports extended Lc/Le fields in APDUs.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5478 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bb69cb8470c977408112c07dfc70c1190a395f9
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:31 2011 +0000

    OpenPGP: catch calloc() errors in pgp_new_blob()
    
    Detect and react on out of memory errors in pgp_new_blob() and its callers.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5477 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b7906f0a2e2c5a7dc8dab432b53c22b47854a12
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:24 2011 +0000

    OpenPGP: use symbolic names for errors/success
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5476 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75a89e7c25e6e4802551086eb1a50eeaaaccd8ef
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:18 2011 +0000

    OpenPGP: add some comments
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5475 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4892af32c42b12f4d7133d9271d2616f2ab98582
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:09 2011 +0000

    OpenPGP: re-factor pgp_set_blob()
    
    * NULL-ify freed data pointer
    * avoid unnecessary malloc() calls
    * cope with malloc() errors
    * do not rely on blob->file for be set
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5474 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea64ba24af5c17c0a89f31dc4a3c78c8d5c4c573
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:31:02 2011 +0000

    OpenPGP: NULL-ify free()'d pointer
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5473 c6295689-39f2-0310-b995-f0e70906c6a9

commit d248026abca9ac016cd1b699fc006cb89a9d8fac
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:30:56 2011 +0000

    OpenPGP: implement function to free the fake file system
    
    * pgp_iterate_blobs(): walk through the blob tree
    * pgp_free_blob(): free a blob
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5472 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03381a25941f27049a621a641bdb72bcdf6a28d3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:30:49 2011 +0000

    OpenPGP: re-factor pgp_enumerate_blob()
    
    Leverage the fact that OpenPGP cards use TLV encoding according to
    ASN.1 BER-encoding rules and use sc_asn1_read_tag() as the workhorse
    within pgp_enumerate_blob().
    
    There's one peculiarity though:
    OpenPGP cards expect 'cla' to be merged into 'tag'.
    This is done manually after calling sc_asn1_read_tag().
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5471 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61bbb0f9042a77c3e77428522e6872f53364f8de
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:30:42 2011 +0000

    OpenPGP: try to match flags with specification
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5470 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5bee3326092acf46b124df580b10dc3215edd34
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:30:36 2011 +0000

    OpenPGP: add indication of 2048 RSA agorithm for OpenPGP 2.0 cards
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5469 c6295689-39f2-0310-b995-f0e70906c6a9

commit 223f704b83d574121b3d4c6bfb6f35f89d3d2f13
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 23 17:29:09 2011 +0000

    OpenPGP: fix top-level DOs according to spec
    
    Added:
    * 00c4: new top-level DO in 2.0
            can also be found inside constructed DOs 006E/0073 in 2.0 & 1.1
    * 0101: new optional top-level DO starting in 1.1
            for private use
            max 254 bytes;
            access: read - always; write - verify CHV2
    * 0102: new optional top-level DO starting in 1.1
            for private use
            max 254 bytes;
            access: read - always; write - verify CHV3
    * 5f52: new top-level DO in 2.0
            can also be found inside constructed DOs 006E in 2.0
    * 7f21: new optional top-level DO in 2.0
            use: card holder certificate (e.g. X.509) for the AUT key in the card
    Removed:
    * 0073: never a top-level DO, but part of top-level constructed DO 006E
    Changed:
    * 005e: not a constructed DO, but a simple/primitive DO
    
    Note:
    Trying to read non-existent top-level DOs or top-level DOs that weren't defined
    in a spec version later than the current card's version does not hurt.
    They are returned as empty.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5468 c6295689-39f2-0310-b995-f0e70906c6a9

commit d139c2281bf23a112b8ea7c1a8fc640424836f3d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 11:42:53 2011 +0000

    pkcs15init: move the key type specific code to the dedicated procedure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5467 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7596cc72be505c29542203e38fe725d85f35455
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 11:35:42 2011 +0000

    Fix compiler warning
    
    opensc-explorer.c: In function 'main':
    opensc-explorer.c:1602: warning: declaration of 'argv' shadows a parameter
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5466 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd30eb19055f26cb4e7640edc73cf7bc58bed1c5
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:52:44 2011 +0000

    pkcs11-tool: import GOST key; key to import in DER or PEM format
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5465 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8183732da812ae743fe69ffedc5ebd193988f9c8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:21:59 2011 +0000

    Fix compiler warning and potential bug
    
    pkcs15-piv.c:129: warning: 'fbyte' may be used uninitialized in this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5464 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9fae6f6a153e9fa17c9ac036429d2ada54f5af5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:19:35 2011 +0000

    Fix typo in comment
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5463 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7124273dee11b4e65396b1f8236afc6b72b14c36
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:16:36 2011 +0000

    Fix a bug and a compiler warning
    
    pkcs15-actalis.c: In function 'sc_pkcs15emu_actalis_init':
    pkcs15-actalis.c:232: warning: dereferencing type-punned pointer will
    break strict-aliasing rules
    
    Never cast a pointer between types of different sizes. On 64-bit Unix
    (LP64) int is 32 bits long and long is 64 bits long.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5462 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38e420bec3b45c8254c073089c6797e264e0e29f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:10:21 2011 +0000

    Fix compiler warning
    
    card-piv.c: In function 'piv_write_binary':
    card-piv.c:1364: warning: signed and unsigned type in conditional expression
    
    count is a size_t and must be casted in an int since the fucntion
    returns an int.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5461 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96ff2bbe36850d30cf909fd08826c85f75469775
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:07:24 2011 +0000

    Fix compiler warning
    
    sc.c: In function 'sc_remote_apdu_allocate':
    sc.c:725: warning: unused variable 'counter'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5460 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0dfe6331fa4d37e62d9f980ec9d17e699dfbdcef
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 10:00:12 2011 +0000

    Fix compiler warning
    
    pkcs15-lib.c:167: warning: no previous prototype for 'sc_pkcs15init_empty_callback'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5459 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb39b2dcc91943ca755661f35a954486b5d0fbde
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 07:13:09 2011 +0000

    pkcs11-tool: when doing signature try at first the procedure for the short input data ...
    
    Not all PKCS#11 driver support the C_SignUpdate.
    So, for the short data begin with procedure "C_SignInit & C_Sign".
    If no success, try to applicate the procedure "C_SignInit & C_SignUpdate & ... & C_SignFinal".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5458 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7e9f5b227069a4f0395db52ec85ecde659658b8f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 20 11:24:46 2011 +0000

    pkcs15: in 'compute-signature', when doing 'zero-padding', set properly the new input data length
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5457 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2cc8f1364ca8a6db2d3aadde4497e45a13a3b1a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 19 17:00:29 2011 +0000

    ruToken-ECP: error in revert 'compute-signature' result procedure ...
    
    'comute-signature' can be called with length of output data greater then signature size
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5456 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30eb1e989788033024a06b01b108023cfc5e8cb4
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 19 08:48:57 2011 +0000

    ruToken-ECP: in compute-signature procedure limit Le to 256 bytes ...
    
    so that the APDU can pass the validity check
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5455 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5deeef69c9feeab320d3f45251abf5bd52c8f1e5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 18 05:33:40 2011 +0000

    MacInstaller: fix distribution style, which accidentially got changed in r5376.
    
    This only affects (corrects) Mac OS X binary packaging.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5453 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0dcab4abefe6b1231a33751d8bfaf680280f8b61
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 17 17:07:37 2011 +0000

    NightlyBuilds: trunk shall be 0.12.2
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5452 c6295689-39f2-0310-b995-f0e70906c6a9

commit a449ab4d1b21a9e006aec01b109f7c13e576cf99
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 17 16:59:49 2011 +0000

    Release r5449 as OpenSC 0.12.1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5450 c6295689-39f2-0310-b995-f0e70906c6a9

commit b47263d463af831e1cf3bbcb2804883ab7ef9e47
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 17 14:04:24 2011 +0000

    NEWS: add pkcs11-tool change to NEWS file
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5449 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6277099a2789a484ca462874600e2bbad6a97d26
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 17 13:27:13 2011 +0000

    pkcs11-tool: correct typos about --login-type option, change id -> ID in help texts.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5448 c6295689-39f2-0310-b995-f0e70906c6a9

commit 18baf42780bb9aba2a93eba580db8a38b567deab
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 17 13:27:09 2011 +0000

    pkcs11-tool: move --module to the first position in help text and make it mandatory.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5447 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce79a61d30dca24c944d99cc46c462a2adcdf1de
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 16 08:32:07 2011 +0000

    tools: print value of 'BOOLEAN' asn1 type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5446 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38473e1ea6c43d9928b30a07995d348592f4a2a6
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 14 18:00:08 2011 +0000

    pkcs15-tool: for PIN object print 'Auth ID'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5445 c6295689-39f2-0310-b995-f0e70906c6a9

commit a44ec385bdf340a3b040e3db6443483a332efdb7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 16:11:06 2011 +0000

    iasecc: no support for SHA256 in the OpenSSL previous to v0.9.8
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5444 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65e10c29ad0dd1662df4e1f2e22d2af7f9437e8c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 15:34:03 2011 +0000

    libopensc: add description for the 'remote data' data types
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5443 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3294c9f74ea02de9b9c96dbd346e600ef2d2f95
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 14:04:55 2011 +0000

    suspend commit of SM support until the nearest release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5442 c6295689-39f2-0310-b995-f0e70906c6a9

commit d04dd5c6490aaeacdae97981dc2314fd9ddd3b35
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 13:27:25 2011 +0000

    configure: add configuration option for support of 'Secure Messaging', desabled by default
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5441 c6295689-39f2-0310-b995-f0e70906c6a9

commit c7ed3da50288e6ab73cf318136bd5362053c370c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 12:57:18 2011 +0000

    libopensc: authentIC: use macros; use common CPLC data type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5440 c6295689-39f2-0310-b995-f0e70906c6a9

commit e6a3d92de7520c5c0130268dab566ef87d238d90
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 12:50:24 2011 +0000

    libopensc: SM related errors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5439 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fbb37ae7e625ebe6501b7eb2122148b1675fb1a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 12:44:31 2011 +0000

    libopensc: 'remote data' related procedures: init, allocate, free
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5438 c6295689-39f2-0310-b995-f0e70906c6a9

commit 292d561882abaad1891887fbf844f4e4adc9f86a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 13 12:19:29 2011 +0000

    libopensc: move declaration of 'serial number' related data types from 'opensc.h' to 'types.h'...
    
    also define CPLC and 'remote_data' data types.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5437 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07e0af59b0c5f8e3f243a5f2ef8f393467ac3c05
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 11 16:52:13 2011 +0000

    minidriver: in CardAuthenticatePin() the PIN to verify is selected by ROLE_USER, thanks to HOURY William
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-May/016633.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5436 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbecf23395e19acd42076f752d4b2362e47a8616
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 10 08:24:27 2011 +0000

    iasecc: when getting data for qualified signature, take the last SHAxx block from the input data ...
    
    ... and not from the SHAxx-CTX, to avoid big/little endian uncertainty
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5435 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16abe7f3a7fff44f453bf09d3b4c209de8878762
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 9 17:11:13 2011 +0000

    pkcs11: Ticket #353: in pkcs15init framework allocate only one slot with uninitialized token ...
    
    aldo, when allocating existing slot to the card, return an error if there is no more free virtual slot.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5434 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e025a0ded44e3da3d5e6651f021b98e26250a28
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 9 15:31:02 2011 +0000

    iasecc: support the digital signature with RSA scheme PKCS#1 SHA-256 ...
    
    in this mode the final digest (SHA-256) step has to be performed by card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5433 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f892af9eba435c3a87603b53b58740504d3510c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 8 15:53:39 2011 +0000

    pkcs15init: non-unique ID is forbidden for the public key objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5432 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81dd8b77757b3a0ec965c3c0ad0f49a65b9af42b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 8 08:10:16 2011 +0000

    libopensc: export 'sc_do_log_noframe' instead of internal 'sc_do_log_va'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5431 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1176c59370bdc6cec92d0e6d1b0ebd3fb46c6de0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 8 08:07:03 2011 +0000

    libopensc: export the wrapper for the internal log function dedicated to minidriver
    
    http://www.opensc-project.org/pipermail/opensc-commits/2011-May/011049.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5430 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e75d971cb7eadfef9b5b50adb3cb6d18e641ed2
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 8 07:59:16 2011 +0000

    asn1: when encoding the OID, make sure that unused part of input data is properly initialized
    
    it's a supplement to r5355.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5429 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34302525fc50054a252773aa5d9e6149cc5fc28b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 5 14:26:27 2011 +0000

    MiniDriver: add two exports used by MiniDriver. PKCS#1 related functions could be exported, internal logging should be eventually fixed in MiniDriver instead.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5428 c6295689-39f2-0310-b995-f0e70906c6a9

commit e4711a485e810c6d6a404be7575e1cac5a5a34a3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 5 14:03:36 2011 +0000

    WindowsInstaller: don't link against winscard.lib, winscard.dll is loaded on runtime. Link minidriver against correct opensc.lib
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5427 c6295689-39f2-0310-b995-f0e70906c6a9

commit 79db5647324267d55105d3e30c61188b8bae18b7
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 17:17:28 2011 +0000

    piv-tool.c: Leftover from r5412.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5426 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85b40a553c8c24c194a1e68a7d955d85e804ed45
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 16:45:51 2011 +0000

    pkcs11-tool.c:54: warning: missing initializer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5425 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03b4891c1e379cb0a62d1d970a982470e88345d9
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 16:45:01 2011 +0000

    pkcs15-pubkey.c:975: warning: missing initializer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5424 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b7a320f459ffd49187bd7e2cce3a101468ff48e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 16:28:34 2011 +0000

    doc: pkcs11-tool: precise the usage of 'write-object' argument
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5423 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc07974be8351ca9a9b9081f09179f34d232da59
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 11:41:13 2011 +0000

    iasecc: pkcs15init: test for the wrong error code was used ...
    
    in 'Delete SDO' procedure to ignore the 'SDO don not exist' error.
    Thanks to Gilles Blanc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5422 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc55351767ec68d92c09ee3278a865a5b8adbee2
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 07:17:28 2011 +0000

    pkcs11: hide empty slots ...
    
    The list of slots returned by C_GetSlotList() contains:
     - if present, virtual hotplug slot;
     - any slot with token;
     - without token(s), one empty slot per reader;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5421 c6295689-39f2-0310-b995-f0e70906c6a9

commit 822fdc7f38003638240a122fb32c38265d77b4df
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 3 07:55:38 2011 +0000

    pkcs15init: pkcs15init emulator for PIV card will not be commited
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5420 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0783ffd4c73f7fd634c48babed1dc2d21ccc7d1c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 3 07:54:13 2011 +0000

    iasecc: pkcs15init: when deleting SDO, do not try to overwrite 'non-updateable' SDO attribut
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5419 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2aa46735778452de94c3ad59918055fff9a11bc9
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 3 07:50:26 2011 +0000

    iasecc: obsolete syntax of the 'Adele Common' card profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5418 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f2acc5bcb9b0360bb2c243066f15f9347ff3b5b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 3 05:39:24 2011 +0000

    opensc-explorer: use relative addressing in do_asn1
    
    'asn1' takes a file_id as argument. This should be selected relative
    to the currently selected DF instead of being treated as an ID.
    (compare with 'get' & 'cat' that also take a file_id argument)
    
    Patch from Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5417 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59e3e659b5429b2c7b5c434b1be167b2d07d2929
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 3 05:38:59 2011 +0000

    opensc-explorer: more room for commands in 'help'
    
    In the output of the interacive command 'help', leave more room
    for the command names so that they do not flow into the descrition.
    
    Patch from Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5416 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab225db83d5f4654fda676485e75b8b1383e43e5
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 1 20:21:31 2011 +0000

    pkcs15init: more of debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5415 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e59a09dbd9f945e351ec4dd300a28be22f76e07
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 1 20:14:06 2011 +0000

    pkcs15init: for the EC key put the EC specific data into the 'params' member of 'key-info' data ...
    
    ; more of debug messages;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5414 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e50a14b3f9b16a6461f53530506d843c3f2e43c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 1 19:18:14 2011 +0000

    libopensc: introduce 'key-params' data type that contains pointer, size and 'free' handler ...
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-April/016441.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5413 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08c9328e6214a439646332b3532bbb1d61983376
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 1 18:44:53 2011 +0000

    piv-tool: remove the Oberthur's specific features of the PIV card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5412 c6295689-39f2-0310-b995-f0e70906c6a9

commit c70e0ae982e322ba5e3a836c7580444b932068e3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 30 17:51:43 2011 +0000

    iasecc: use atr mask to accept the Gemalto's IAS/ECC card without MF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5411 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3637d6024235498f475277e33f9d91f3aca699d0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 29 12:15:54 2011 +0000

    manpages: unify the look and feel of "See also" sections, removing references to missing manual pages.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5410 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23bbe9e2038b1485ddb6942db6d2221408ca9283
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 29 09:47:06 2011 +0000

    PreReleases: update NEWS file for 0.12.1-rc1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5409 c6295689-39f2-0310-b995-f0e70906c6a9

commit e477d66d0751c74d22cb1d63dd44daa358c7725f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 29 09:02:09 2011 +0000

    NightlyBuilds: prepare for OpenSC 0.12.1-rc1 PreReleases
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5408 c6295689-39f2-0310-b995-f0e70906c6a9

commit e93dd598c2c898bcad88012a467bf3e0d5601e5b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 15:01:38 2011 +0000

    doc: describe the 'verify-pin' option in pkcs15-tool documentation ...
    
    Thanks to Juan Antonio.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5407 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49fb08f92356c32ce234faf1e7c11d00883491ed
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 14:45:23 2011 +0000

    pkcs15init: use macro for the maximal number of linked ACL for one operation ...
    
    Thanks to NdK.
    http://www.opensc-project.org/pipermail/opensc-devel/2011-April/016448.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5406 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8098e82b16fba299801bf941cb62617ac5e4249c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 14:37:57 2011 +0000

    libopensc: in 'READ BINARY' ignore the 'FILE_END_REACHED' error ...
    
    see discussion
    http://www.opensc-project.org/pipermail/opensc-devel/2011-April/016413.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5405 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5471aea023f07ec47575064e885135b2a94ad62e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 14:28:03 2011 +0000

    libopensc: new error code macros -- 'corrupted data' and 'file end reached'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5404 c6295689-39f2-0310-b995-f0e70906c6a9

commit 670942a0b4a7034089a55187702db5c70eba1ede
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 14:12:40 2011 +0000

    iasecc: when preparing data to update PRIVATE KEY SDO use index to enumerate the SDO components
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5403 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad478eb9ccb42d75b83d68b5b751947712e3ac71
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 14:06:58 2011 +0000

    iasecc: write 'compulsorily use' data for the new key slot ...
    
    Once written the 'compulsorily use' data cannot be changed.
    Write this data immediately after a new key slot has been created.
    It helps to avoid further confusion between 'use new key slot' and 'reuse existing slot'.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5402 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c3b43f636334f10358e15ee52b4faba8347a6cd
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 13:56:31 2011 +0000

    iasecc: when signing short data sequence with PSO_DST ...
    
    ... 'last-hash-step' APDU do not includes the 'pre-hash' and 'counter' data -- only the 'last-data-block'.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5401 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06347f3a44453f5a16c46338bcbaf8b38a3ce4f4
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 27 13:45:27 2011 +0000

    iasecc pkcs15init: when creating key slot, there is no needs to write zero value components
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5400 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81e16761224c59486f599a1d4c524dca49a17616
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 17:32:34 2011 +0000

    iasecc pkcs15init: create/delete SDO private/public RSA key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5399 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9bf9bc22c7dabe34168d894b12bf140121f0fea
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 17:29:08 2011 +0000

    iasecc: 'DELETE SDO' card ctl ...
    
    to be used by Obertbur's IAS/ECC card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5398 c6295689-39f2-0310-b995-f0e70906c6a9

commit 346490b9534ecd4204838ffbe357907121eff0d5
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 16:42:48 2011 +0000

    iasecc: 'CREATE SDO' card ctl ...
    
    ; static function dedicated to emulate FCP data of application DF when it's not returned by card
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5397 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b9f5b94ae449764333ba884c075bbe6885112ca
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 16:34:44 2011 +0000

    iasecc: encode data for the SDO creation, ...
    
    ; dedicated function to parse ACLs from DOCP data;
    ; when converting ACL chack and parse ACLs;
    ; change prototype of the internal static functions.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5396 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e6d310491fce4d35422dbb6d15ecaab32921cb8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 16:27:42 2011 +0000

    iasecc: pkcs15init profiles: add 'CREATE' acl for the Oberthur's application DF ...
    
    Obertbur's card do not returns FCP for selected application DF.
    Newly introduced option will supply the missing ACL when creating new objects or files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5395 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1cdb3fa9716bf287387020f06892a5f45cde98fc
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 07:29:53 2011 +0000

    APDU parsing: switch to Frank Morgner's implementation
    
    Patch by Frank Morgner, proposed in
    http://www.opensc-project.org/pipermail/opensc-devel/2011-April/016419.html and
    http://www.opensc-project.org/pipermail/opensc-devel/2011-April/016420.html:
    
    * replace partly incorrect extended APU parsing implementation
      with one factored-out in function sc_bytes2apdu() in apdu.c
    * re-factor APDU parsing functions in
      - opensc-explorer
      - opensc-tool
      - piv-tool
      to make use of sc_bytes2apdu()
    
    Thanks to Peter Marschall and Frank Morgner
    This fixes #260 and #351.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5394 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d5ba618e0d7d1c1897154e80d5301ac6e1faf65
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 25 09:45:25 2011 +0000

    maintainer-clean cleanup, thanks to JONSITO
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5393 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27cd40629e82e337523ce66960dd5997bf0591c7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 24 17:57:49 2011 +0000

    iasecc: Oberthur's card strictly follows specification in 'IO buffer size' ...
    
    Most of the card producers interpret 'send' values in 'IO buffer size' data as "maximum APDU data size" .
    The last Oberthur's card strictly follows specification and interpret these values as "maximum APDU command size".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5392 c6295689-39f2-0310-b995-f0e70906c6a9

commit a14bbe7e32e7e8002f9204fcedece2f0d576cd78
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 23 06:32:53 2011 +0000

    opensc-explorer: DF_NAME type path value should not be appended by the file ID ...
    
    When composing path to file (for ex. to be read), if the type of parent DF is DF_NAME,
    the value of the parent path is moved to the aid path member and
    file ID takes place of the path value.
    
    ; 'cd ..' command takes into account the parent can be presented by DF_NAME
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5391 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54f3e8c423498d8b8ddddf482bea89019199640b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 22 14:02:45 2011 +0000

    pkcs15init: little correction of r5386
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5390 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b04ab76505e33292a9a0e7b247a8c671cae2708
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 22 14:00:47 2011 +0000

    pkcs15init: in 'change-attribute' procedure use card specific 'update DF' handler ...
    
    ... when it's available.
    'Change-attribute' is used by pkcs15 framework for PKCS#11.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5389 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fa96794635c67d1967cb65ef8a9fc2607416984
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 22 13:50:01 2011 +0000

    pkcs15init: use dedicated function to fix the EC parameters ...
    
    ; use pointQ data to calculate intrinsic ID for the EC keys/certs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5388 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9376b73d14b6e31ff0d5952b9fa24edd37866125
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 22 13:35:57 2011 +0000

    EC support: new exported function to fill up the EC parameters data ...
    
    for ex. with the given named curve fills the 'OID' and 'encoded OID' members
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5387 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78d90c47655a98c185ced2616989a0f5e88bcb05
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 22 13:08:45 2011 +0000

    EC support: introduce data type dedicated to EC parameters ...
    
    EC parameters can be presented in a three forms: namedCurve, OID and implicit data.
    This new data type will facilitate manipulation of ec-parameters in the OpenSC tools and library.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5386 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e9b88d6d6e8a8e0bd3b027e89173cc3b856e702
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 17:20:39 2011 +0000

    pkcs15init iasecc: old syntax in the profile of the Oberthur's generic application
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5385 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7db9532f00dade73a771f9c28bdaab8126dc1448
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 16:29:13 2011 +0000

    pkcs11 framework-pkcs15: add EC key generation mechanism
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5384 c6295689-39f2-0310-b995-f0e70906c6a9

commit e430fe9d870ee987f3c68568b0c1edefae564123
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 16:18:23 2011 +0000

    pkcs11-tool: add test procedure for EC keys ...
    
    ... for a while it includes key generation and data signing.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5383 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9758bb28bfc49fcddd6753b1fea063c9c89ba28b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 16:14:36 2011 +0000

    pkcs11: copy&past issue in r5356
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5382 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2a87ae2b10e2fd83b592a328d93307c60a0f623
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 14:29:51 2011 +0000

    pkcs11-tool: prepare 'gen_keypair' procedure to generate also the EC keys ...
    
    ... 'prime256v1' and 'secp384r1'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5381 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38103c64cf4bc3e19bbfc2933f87ae6f77289fb3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 14:12:03 2011 +0000

    pkcs15: new function to encode an OID in DER format
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5380 c6295689-39f2-0310-b995-f0e70906c6a9

commit 669a10572a609373683dbf567886ee13eacdf104
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 21 13:46:28 2011 +0000

    asn1: now sc_der_copy() returns int value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5379 c6295689-39f2-0310-b995-f0e70906c6a9

commit df7d560c3539a46c184bbaf567add1b132fda213
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 20 14:53:07 2011 +0000

    WindowsInstaller: Use OpenSC version information in Windows file version resource.
     * Fix license information in file info (GPL->LGPL)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5378 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b4f1369c4720c4dba71192e07de564fccb3f410
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 20 13:41:04 2011 +0000

    MacInstaller: fix 10.5 build script, broken with previous change.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5377 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7934b307e453f72ed76e258a282e603fec9fc96
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 20 12:14:44 2011 +0000

    MacInstaller: use autoconf to write the correct version to ReadMe files of installers.
     * Better version tagging of generated files
     * Bundle files necessary for OS X installer generation to the distribution targzip
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5376 c6295689-39f2-0310-b995-f0e70906c6a9

commit 094eb8697cc82c539ae328759925309a210ba835
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 13:45:30 2011 +0000

    opensc-tool.c: Fixes literal names in 'const id2str_t alg_type_names[]'.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5375 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9026ea6f3fd9759d5a1565cb4c7b0d35f201d227
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 13:03:49 2011 +0000

    pkcs11-tool.c: Avoid warning:
    
    pkcs11-tool.c:1978: warning: ‘getPUBLIC_EXPONENT’ defined but not used
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5374 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff7bb8fbf440a5bbb542a6decc0ac9b6413f832a
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 12:59:23 2011 +0000

    profile.c: Avoid warning:
    
    profile.c:1212: warning: comparison between signed and unsigned
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5373 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa8fd1602d02543ad02faf1f66e7e83e25948108
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 12:34:16 2011 +0000

    types.h: Avoid warning:
    
    opensc-tool.c:356: warning: comparison between signed and unsigned
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5372 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8665b44059e43a61a637bd02cd023fc06e5f913
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 11:19:47 2011 +0000

    manpages: add a rudimentary manual page for eidenv command. Fixes #339
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5371 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f0ba374f3651b0b0cca074c403fab016bdae8d2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:51:27 2011 +0000

    Add reminders to bytes2apdu style code blocks.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5370 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1932ce861f8c494681c6590abf2b806e683eccde
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:51:22 2011 +0000

    opensc-{explorer,tool}: allow sending extended APDUs
    
    In do_apdu() resp send_apdu/(, flexibilize parsing the APDU string passed
    so that extended APDUs are accepted a valid APDUs too.
    
    While at it, fix a bug where more data than available would have been copied,
    potentially leading to a SIGSEGV.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5369 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dc233163a7cbe29553e77dc0a871b5daedcab10
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:51:16 2011 +0000

    opensc-tool: convert print_file() to using tables
    
    Use ID<->name tables in print_file() innstead of arrays of strings where
    the index was treated like some "magic" constant. With the new mapping tables,
    the meaning is obvious.
    
    While on it, fix a bug with ac_ops_df[]: before the conversion, it was a list
    of pointers to strings but was in one case treated like it was a mapping table.
    With the conversion to a mapping table, and the adaption of other code parts
    this bug got fixed "automagically" ;-)
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5368 c6295689-39f2-0310-b995-f0e70906c6a9

commit be5456d3ca23a68c36bbb3fb329208480d0133ab
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:51:11 2011 +0000

    opensc-tool: make list_algorithms() table driven
    
    Use easily extensible tables instead of explicit coding to display
    algorithm names and options in list_algorithms.
    
    Leverage the new tables to add more RSA hashes.
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5367 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5a133d00cf9fb1cbc62017672c349d25311fdc4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:51:06 2011 +0000

    Fix a crash on Windows, where pkcs15-tool -E would always crash in sc_pkcs15_free_card()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5366 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f768fcdc5ad243e02441512e0609c010c1622eb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:51:01 2011 +0000

    WindowsInstaller: Fix warning CNDL1069 about deprecated attribute
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5365 c6295689-39f2-0310-b995-f0e70906c6a9

commit 404d84ae48dd7b3e2f231866956f02e9af62cc09
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 10:50:52 2011 +0000

    WindowsInstaller: Fix Wix warning:
    
    Z:\opensc\win32\OpenSC.wxs(22) : warning CNDL1121 : Package/@InstallerVersion must be 200 or greater for a 64-bit package.
    The value will be changed to 200. Please specify a value of 200 or greater in order to eliminate this warning.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5364 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6409755beaee348245fed5bd599fadcf0f7e060f
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 09:18:12 2011 +0000

    pkcs11-tool.c: Avoid warning:
    
    pkcs11-tool.c:2000: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5363 c6295689-39f2-0310-b995-f0e70906c6a9

commit 261d5269e5b54faf3d5c391bee686674cb0389f2
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 09:12:17 2011 +0000

    pkcs15-init.h: Avoid warning:
    
    pkcs15-init.c:1473: warning: assignment discards qualifiers from pointer target type
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5362 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90ffef6dc9161364aa7ab49f6514ed72532b52eb
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 18 12:29:47 2011 +0000

    asn1.c: Check boundaries __before__ accessing memory.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5361 c6295689-39f2-0310-b995-f0e70906c6a9

commit c0c0882a1e4aad2928a7afaac3851d00e787d453
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 18 10:01:32 2011 +0000

    WindowsInstaller: split the UpgradeCode for x86 and x64, so that both versions could be installed in parallel on x64
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5360 c6295689-39f2-0310-b995-f0e70906c6a9

commit 007d27feebe4a09ce9e02c501cefc8d83daa6e79
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 18 10:01:27 2011 +0000

    Introduce sc_ctx_log_to_file to set the debug file of libopensc.
    
    On Windows every DLL has their own file descriptor table, thus specifying
    -v from any of the OpenSC tools resulted in a crash when the tool tried to override
    ctx->debug_file with stderr.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5359 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c244f86448db0cf9093ddb3d4e76d2aed700c55
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 18 09:29:15 2011 +0000

    WindowsInstaller: fix "parallel installs"
    
    Before this change, installing a new MSI would create a new OpenSC entry in "Add/Remove programs".
    Now correctly a single instance exists and a seamless upgrade can be done.
    
    Make the URL-s for support information more specific and add the OpenSC icon to the programs list.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5358 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8de6b57882b55de3290599a2b839b57fe8b048f4
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 18:48:12 2011 +0000

    pkcs15init: different possible kinds of EC generate key parameters ...
    
    named curve, oid and der
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5357 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef1726e7820ef871e8943f5010a5bcabea873a23
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 18:45:27 2011 +0000

    pkcs11: process the EC key generation type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5356 c6295689-39f2-0310-b995-f0e70906c6a9

commit caf3789439c7dfb91bcba7f8c30d13906750a434
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 18:39:01 2011 +0000

    asn1: in encode-object-id procedure do not stop on zero -- it's a valid value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5355 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4072b2bc0d01ac64e93446812917e41e78fdac09
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 16:58:09 2011 +0000

    WindowsInstaller: fix x86 build after r5351
    
    error CNDL0150 : Undefined preprocessor variable '$(var.PlatformProgramFilesFolder)'.
    NMAKE : fatal error U1077: '"C:\Program Files\Windows Installer XML v3.6\bin\candle.exe"' : return code '0x96'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5354 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0c200c8852a5e7635875ccf0229f5a854b9eefd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 16:12:03 2011 +0000

    WindowsInstaller: Always use a canonical name for OpenSC related registry entries.
    
    This fixes the 64bit build looking for registry keys under "OpenSC (64 bit)" which is the name of the package.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5353 c6295689-39f2-0310-b995-f0e70906c6a9

commit 15d6ecddc6afaf760f3073f565ae773ff5a69497
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 13:18:11 2011 +0000

    WindowsInstaller: One more fix for x64 installer: opensc.conf
    
    c:\jenkins\workspace\OpenSC_win64_nightly\win32\OpenSC.wxs(61) : error LGHT0204 : ICE80: This 32BitComponent opensc.conf uses 64BitDirectory INSTALLDIR
    NMAKE : fatal error U1077: '"C:\Program Files (x86)\Windows Installer XML v3.6\bin\light.exe"' : return code '0xcc'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5352 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ccfeddf46daf5e0fbf8a46bbd1d9f1e36600556
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 13:05:47 2011 +0000

    WindowsInstaller: Add win64 flag even to platform-independent files.
     * Install to "System64Folder" on x64
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5351 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82258b01f7ac1b151c3cd865a2736471eb555818
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 12:50:30 2011 +0000

    WindowsInstaller: fix typo, causing the x86 installer to claim to be x64
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5350 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2202614fdcdca5804ec9008ecd1ad2e576c407ee
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 17:57:49 2011 +0000

    pkcs15init setcos: no need of card specific 'delete-object' callback ...
    
    there is nothing specific inside and it's never called by pkcs15init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5349 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28ccae791888d4b9b64839a39ece59922e201b40
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 17:35:56 2011 +0000

    card-piv: store serial number into the 'serialnr' member of sc_card structure ...
    
    ... when serial number was asked for the first time.
    Then return the stored value for the every next request of serial number.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5348 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2aac209d249f5e0b31dac36ee322131380cad0f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 14:25:21 2011 +0000

    WindowsInstaller: amend r5345, Win64 is a property of a Component, not File
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5347 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e20fab5657cb02372a27d4272ce3f037400971d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 14:14:56 2011 +0000

    Add back removed product name
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5346 c6295689-39f2-0310-b995-f0e70906c6a9

commit af098605d7cd9b17d2f9248c87aba30ea8a51f3b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 14:10:07 2011 +0000

    WindowsInstaller: set Win64 flag for binaries when building for win64 and use the right program files folder.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5345 c6295689-39f2-0310-b995-f0e70906c6a9

commit d673e5f109abf5e4234cad82968e7c58456fd6ee
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 15 17:11:38 2011 +0000

    pkcs15init myEID: in profile increase size of xDF files, also ...
    
    during initialization add the all xxDF to the ODF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5344 c6295689-39f2-0310-b995-f0e70906c6a9

commit 614e9fa566d050cbaac5abe147062d271cbd5532
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 15 16:50:04 2011 +0000

    pkcs15init: sipmlify the 'delete-object' callaback prototype ...
    
    now it takes 'sc_pkcs15_object' argument instead of two arguments - object's type and object's data.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5343 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3aae1d39c2e1c7705ca19bc7463937462263a9a5
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 15 16:35:29 2011 +0000

    framework-pkcs15: minor coding style issues
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5342 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb97d8b4b40afacc8eaa3928d157dccdd4e96173
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 15 16:34:22 2011 +0000

    pkcs15-tool: print title and size of the EC public keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5341 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99fac2685afd02e79a4c2054a78ed7e313d05afb
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 15 16:33:18 2011 +0000

    piv-tool: increase receive buffer for the 'send-apdu' command
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5340 c6295689-39f2-0310-b995-f0e70906c6a9

commit 461721cf6d6ac844a556cbf55b642b47e49cb592
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 14 16:51:25 2011 +0000

    PIV piv_get_uid to derive a better guid from the
    FASCN or the GUID so that most of the uniquness
    is maintained.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5339 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ca350f409e8c6e25325ac9b4a98242169704f74
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 21:58:04 2011 +0000

    Use check target for tests
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5338 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49da421ac0340f74ea5be6cd6dac89b4e4d9415e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 18:08:18 2011 +0000

    pkcs15init: prepare pkcs15-lib for the EC key type ...
    
    use keygen consistency procedure to return the EC key size;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5337 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b6cf4219e5cc46e1edc83053dd2dab8d68c47e8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 17:59:59 2011 +0000

    pkcs15init: when deleting object, do not try to select object file without valid path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5336 c6295689-39f2-0310-b995-f0e70906c6a9

commit 622570a28e91d207b0f401575d0d88b584fb007d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 17:55:20 2011 +0000

    pkcs15-init tool: in keygen parameters use 'curve' name without leading separators
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5335 c6295689-39f2-0310-b995-f0e70906c6a9

commit d611dcc9ed3c5f2ee17f0da5d7e5e14ea5116159
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 17:51:08 2011 +0000

    piv-tool: add containers discovery
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5334 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6705e2506b431ccc25bbadb75aae8e17fcbd2bcf
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 13:23:05 2011 +0000

    pkcs15init: remove useless function, use OpenSC standard convention for return value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5333 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fecaa73bd12d1e7e3724c9f3c85fbc1daa81399
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 11:36:40 2011 +0000

    pkcs15init: introduce EC key generation parameters
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5332 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdf88a895b98f108590370a1933f4839298a187b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 07:49:07 2011 +0000

    WindowsInstaller: amend r5329, object name is not the target name.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5331 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c17247446e4a6481f4740403056d1dd3b421c4b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 07:48:53 2011 +0000

    WindowsInstaller: enable zlib by default.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5330 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44cf3d06aea96d8867e0b6ee26c9ab2616174fa5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 07:40:12 2011 +0000

    MiniDriver: rename cardmod to minidriver in source.
    Also change some grammar, whitespace (reported by git) and wording (Opensc->OpenSC) issues.
    Add some comments here and there.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-April/016261.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5329 c6295689-39f2-0310-b995-f0e70906c6a9

commit 577ccdbf26af120dcf0badc836c2e645817c7781
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 14:42:55 2011 +0000

    Fix #337 rutoken-tool is obsolete and can be removed, thus no manpage is needed.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5328 c6295689-39f2-0310-b995-f0e70906c6a9

commit 639ca655b62d9e721c635fa9794cb4490ff48526
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 14:42:48 2011 +0000

    WindowsInstaller: Correct support for x64 builds
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5327 c6295689-39f2-0310-b995-f0e70906c6a9

commit 771aeb32af3b02aec1c54c26c2ea5171773b3ca8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 13:07:34 2011 +0000

    pkcs15-tool: print EC key label
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5326 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8f6a3e407c289448c6e9823d3e353c352a5f293
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 13:00:57 2011 +0000

    pkcs11-tool: now it's possible to show only the objects of a given type ...
    
    when 'type' option is used with the 'list-objects' actions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5325 c6295689-39f2-0310-b995-f0e70906c6a9

commit b85e1a798fe481903c4e8c8fd2134d8aa0d02e38
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 12:02:47 2011 +0000

    piv-tool: new action to print the key slots properties
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5324 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb7bc552b145020fc2656f0630c74dcef43a7802
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 11:55:00 2011 +0000

    piv: no 'usepin' authentication mode in PIV tools
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5323 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54fb4228311f1d12863b7288c52de7a3babd9c90
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 11:30:45 2011 +0000

    pkcs15: include EC private/public key types into the pkcs#15 object search procedures
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5322 c6295689-39f2-0310-b995-f0e70906c6a9

commit 383d6e83625b6639f6848f5642a4754d03ee322b
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 10:34:55 2011 +0000

    ctx.c: Replaces magic integer -1 with defined constant value.
    
    See [http://www.opensc-project.org/opensc/browser/trunk/src/libopensc/cards.h?rev=5320#L32 cards.h]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5321 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1dec64630ac0b638787659650f74bcb9b81fd1f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 20:08:09 2011 +0000

    piv-tool: in 'send-apdu' command increase size of response buffer ...
    
    'GET DATA' apdu can return the code 'data still available'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5320 c6295689-39f2-0310-b995-f0e70906c6a9

commit 848180ab5026d83b0748ce009747a7c0043e8c9a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 09:20:15 2011 +0000

    libopensc: use short debug macros in card.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5319 c6295689-39f2-0310-b995-f0e70906c6a9

commit b614444aae50fe00caa818495ddc540d342b98fa
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 09:18:25 2011 +0000

    libopensc: use short debug macros in pkcs15.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5318 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5102e4d88293f292bd581e2eb9d875a71f3e8af8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 08:47:35 2011 +0000

    card-piv: 'emulate' MF selection by selection of the PIV applet ...
    
    so that, PIV card can be used with the 'opensc-explorer' interactive tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5317 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3169f14b32dc7b332ca85f9bf34b20dc670a8380
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 04:09:33 2011 +0000

    libopensc: Removes useless attribute 'file' in 'struct sc_pkcs15_df'
    
    There is no need to carry around that attribute, because it's easy to look up the 'file' as needed. This is done by issuing a single sc_select_file command in sc_pkcs15init_update_any_df (pkcs15-lib.c).
    
    The parameter 'file' of sc_pkcs15_add_df (pkcs15.c) became useless too and was removed in turn.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5316 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86af8eed3d2425a6d6c3735cd334a8392fb8583e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 9 19:26:34 2011 +0000

    card-pin: make working 'external authenticate' ...
    
    'key-ref' and 'algo' arguments of the piv_general_external_authenticate() function
    were not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5315 c6295689-39f2-0310-b995-f0e70906c6a9

commit 004c08b6a0b0412d728bda393ed70830b6029b7f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 8 15:16:47 2011 +0000

    card-piv: invalid arguments for SC_TEST_RET macro
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5314 c6295689-39f2-0310-b995-f0e70906c6a9

commit be2c17c7e94e1f6d3b9e89b06944658295b97fb0
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 8 13:50:02 2011 +0000

    pkcs11: Fixes leftover from r4646.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5313 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69c846f90487e5b62fa81712f514beb46fb3a0b6
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 8 13:30:32 2011 +0000

    libopensc: Re-defines SC_CARD_FLAG_ONBOARD_KEY_GEN to be local to the file card-flex.c, because that flag is used nowhere else. In principle, this patch only reverts some changes made by r2192.
    
    Relates to #296.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5312 c6295689-39f2-0310-b995-f0e70906c6a9

commit cfffb7f5dd4ffa1dd96adcadb87c27a9685845c9
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 8 12:28:59 2011 +0000

    piv-tool: 'admin' and 'genkey' options need an argument ...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5311 c6295689-39f2-0310-b995-f0e70906c6a9

commit a5d1058157ac02236d2e8116e16d48908cb9a17c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 8 10:03:42 2011 +0000

    pkcs15-tool: print GUID for private key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5310 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8b4c74d07f38d1b974e21e76a28141827ceca5b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 8 09:57:38 2011 +0000

    pkcs15-tool: print key reference in a decimal and hexadecimal formats
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5309 c6295689-39f2-0310-b995-f0e70906c6a9

commit b21eeb46b9f7f6b3897fffb998adc0c69b1b2762
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 18:16:40 2011 +0000

    libopensc: Removes unused flag SC_CARD_CAP_RSA_2048.
    
    Relates to [http://www.opensc-project.org/opensc/ticket/296#comment:1 #296].
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5308 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ec415f605c037fe677433de41f95f5964c4dcb4
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 17:14:56 2011 +0000

    msi: no need backslash after [INSTALLDIR]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5307 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c1862eea6a9ada7cf35c2b2bb7a107957ea9e75
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 16:58:01 2011 +0000

    minidriver: use common routines to get serialized GUID
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5306 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74208f1814f140410369bf9dc526161f6dd462ff
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 16:55:07 2011 +0000

    minidriver: resolve 'unreferenced variable' and 'comparaison signed with unsigned' warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5305 c6295689-39f2-0310-b995-f0e70906c6a9

commit be46a660e7e832422d6d6dff5de642b21bd9d2e2
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 16:46:38 2011 +0000

    libopensc: export names of the 'get GUID' routines
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5304 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17fea1f65fcc2ac09df23d0e6f35c43920212d87
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 16:43:54 2011 +0000

    pkcs15-tool: include GUID to the printed certificate info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5303 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8ba3ea76d976056a21e672f7f334ca555c7bb52
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 16:42:23 2011 +0000

    libopensc: general routines to get serialized GUID
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5302 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89b975022ca1512eda66c44a5e0c66926cc9b5d2
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 16:18:56 2011 +0000

    opensc.h: Removes unused flag SC_CARD_CAP_EMV.
    
    Relates to [http://www.opensc-project.org/opensc/ticket/296#comment:1 #296].
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5301 c6295689-39f2-0310-b995-f0e70906c6a9

commit 213fa68ea002c6b85038c2dcccb26bb19c9c56b6
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 15:38:22 2011 +0000

    card-setcos.c: Fixes misuse of SC_CARD_FLAG_ONBOARD_KEY_GEN. From [http://www.opensc-project.org/opensc/browser/trunk/src/libopensc/opensc.h?rev=5299#L411 opensc.h]:
    
    #define SC_CARD_FLAG_ONBOARD_KEY_GEN    0x00000001
    #define SC_CARD_CAP_APDU_EXT            0x00000001
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5300 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac3a48d7caa812b960efa2788d589d63657485ce
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 6 22:46:46 2011 +0000

    pkcs15.h: Fixes type inconsistency, because in [http://www.opensc-project.org/opensc/browser/trunk/src/libopensc/opensc.h?rev=5190#L148 opensc.h] algo_ref is defined as unsigned int.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5299 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93deff01616759b38bc0a7f94ceb92f93d528c99
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 6 15:11:18 2011 +0000

    dir.c: Avoid warnings:
    
    dir.c:212: warning: comparison between signed and unsigned
    dir.c:220: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5298 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3215b67df90f2ffe5aaf61f8f3911b067e85748
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 6 15:06:02 2011 +0000

    asn1.c: Avoid warnings:
    
    asn1.c:747: warning: comparison between signed and unsigned
    asn1.c:785: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5297 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0961818a8f379f782d86aa10e614fd5365517c9e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 6 08:22:15 2011 +0000

    WindowsInstaller: remove variable, added too early.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5296 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25c2d497b2dcc11a45375d06d3413333c2897f4e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 6 08:10:25 2011 +0000

    WindowsInstaller: reduce the warning level, parsing error output on level 4 takes Jenkins warnings plugin 25 minutes.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5295 c6295689-39f2-0310-b995-f0e70906c6a9

commit dbaad0ab941194b7e97ae28d0557bce91008eaab
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 6 08:07:57 2011 +0000

    WindowsInstaller: Simplify the wix script even further. Thanks to Kalev Lember.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5294 c6295689-39f2-0310-b995-f0e70906c6a9

commit db3ebb1514dbafcf03a7a8c622bd0d67c3d046b8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 10:35:28 2011 +0000

    WindowsInstaller: set the product version programmatically for MSI
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5293 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f5534323e3f877d88d6b4296ae5d41becf4e30c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 08:29:30 2011 +0000

    WindowsInstaller: display the LGPL license in the installer.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5292 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5162ec06346b3bde85a46716e85d6cef696142aa
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 08:04:16 2011 +0000

    WindowsInstaller: re-work WiX installer file for OpenSC. Add meaningful components.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5291 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c5583513b264bbaf22510295aea79d60dc2e06d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 08:04:10 2011 +0000

    WindowsInstaller: Using /Wall was a bad idea, use /W4 instead.
    
    http://stackoverflow.com/questions/4001736/what-with-the-thousands-of-warnings-in-standard-headers-in-msvc-wall
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5290 c6295689-39f2-0310-b995-f0e70906c6a9

commit 282f6dc6db4a29a1f4ecefea9e3f202b3c21debc
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 07:44:19 2011 +0000

    Enable all warnings on MSVC
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5289 c6295689-39f2-0310-b995-f0e70906c6a9

commit ccee81d8a261ab4ed49fe5739eb01dd94abb0a86
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 06:42:34 2011 +0000

    WindowsInstaller: create an internet shortcut to start menu. Wix invocation change.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5288 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0639e077627f9012b065b37c7272f6f5061dcc1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 3 07:41:56 2011 +0000

    WindowsInstaller: Separate makefile changes for building for x64 and building on x64.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5287 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea7eb699e52156dc8edd76e3288f432cffa3618f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 1 08:06:25 2011 +0000

    WindowsInstaller: build for x64 with nmake -f Makefile.mak BUILD_TYPE=WIN64
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5286 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ab9919610ebcc47fad1cf47351d701275b45c3f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 12:04:57 2011 +0000

    WindowsInstaller: link against crypt32.lib
    
    libeay32MT.lib(e_capi.obj) : error LNK2019: unresolved external symbol __imp__CertFreeCertificateContext@4 referenced in function _capi_free_key
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5285 c6295689-39f2-0310-b995-f0e70906c6a9

commit 223a8b90e5e53b87d09c79d1e808bf153b480d41
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 11:28:29 2011 +0000

    WindowsInstaller: tune for default build
     * remove opensc-msi folder, everything related to building on/for Windows is in /win32
     * OpenSC shall be built in static mode
     * set default paths for OpenSSL Win32 installer locations
     * build with OpenSSL by default
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5284 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6c606ad91355249fac0283e9e007a281f83f61b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 10:34:12 2011 +0000

    WindowsInstaller: opensc.conf is (incorrectly) generated with make. This is not run on Windows. Use opensc.conf.in as the template for the *example* config file on Windows.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5283 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6ac8b6f5678407353cd49cd88aeeb8fb97e192c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 10:24:28 2011 +0000

    WindowsInstaller: fix .ico path. Everything related to building on/for Windows is in win32/
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5282 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2fac5b7b512264886f573dfbbd016067ec4a670
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 09:18:23 2011 +0000

    WindowsInstaller: Build MSI by default on native Windows build.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5281 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19aff30b03b69981e86424892a59547c43d24328
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 07:45:19 2011 +0000

    opensc-explorer: use relative addressing in do_cat
    
    'cat' takes a file_id as argument. This should be selected relative
    to the currently selected DF instead of being treated as an ID.
    (compare with 'get' that also takes a file_id argument)
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016172.html
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5280 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71daf094de720e8bd0bf1b227f479d5ddb1d91a2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 07:45:13 2011 +0000

    opensc-explorer: re-factor do_cat()
    
    * use strlen(..) instead of sizeof(..)-1
      - easier to read
      - avoids errors if string is defined with explicit size
    * bring sfi:-related code closer together
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016172.html
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5279 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7939d8b72371e5759b01a7c51e6d56977df031ce
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 07:45:08 2011 +0000

    opensc-explorer: re-factor print_file()
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016172.html
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5278 c6295689-39f2-0310-b995-f0e70906c6a9

commit f63c85d4cddbecf68cf0dd1c7a91106c1561c794
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 31 07:44:59 2011 +0000

    opensc-explorer: support writing to stdout in 'get'
    
    Treat the value '-' of the second parameter to get special.
    If it is given, use stdout as the file to write to.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016172.html
    
    Signed-off-by: Peter Marschall <peter@adpm.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5277 c6295689-39f2-0310-b995-f0e70906c6a9

commit d26d23ccfcc77e05a497cdcf28a05bf8ca470924
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 30 10:36:17 2011 +0000

    man pages: fix piv-tool XML syntax
    
    tools/piv-tool.xml:28: parser error : Opening and ending tag mismatch: refsect1 line 21 and para
    		</para>
    		       ^
    
    Thanks to Juan Antonio for noticing: http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016227.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5276 c6295689-39f2-0310-b995-f0e70906c6a9

commit d77f1576ad7dde2bd4ad14c68e4d48641f142b99
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 29 18:11:45 2011 +0000

    Add piv-tool.xml to list of man pages to be built
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5275 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6701d063c30db9a5c44e38cae1f98e9bbacd0eec
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 29 18:08:22 2011 +0000

    Add a piv-tool.xml for man page. See #338
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5274 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd3012f55e30c79798971d10afe8f2ffcda58f1a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 29 11:36:45 2011 +0000

    Fix #340: ignore pinpad properties of readers known to be broken.
    
    On Mac OS X the HP smart card keyboard claims secure PIN entry support but the PIN is transmitted to host.
    Disregard the pinpad flag for this reader. Other readers claiming pinpad support but having problems to follow in this list.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5273 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4393f7231ea0230624885d879e2f6680d687bd52
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 29 11:36:39 2011 +0000

    eidenv: update copyright and correct used license to match the rest of OpenSC.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5272 c6295689-39f2-0310-b995-f0e70906c6a9

commit eae680501a3f3d2833fe0d663739b28bc9968daa
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 25 18:19:28 2011 +0000

    cardmod: when getting serial number use GET_SERIAL ctl call ...
    
    rather then card->serialnr value. Not all card drivers initialize this member.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5271 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d9b40fc04ec66f0c36f76907950ab9cf077b6d8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 18:37:46 2011 +0000

    cardmod: adopt classic form for container's GUID ...
    
    also:
    - debug function to dump the objects;
    - function to get pin by role, used in CardAuthenticateEx();
    - CALG_* flags are not translated into the SC_ALGORITHM_RSA_HASH_* flags
      (http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016130.html);
    - minor changes to the procedure to find the keys.
    
    tested with 'ruToken ECP' and 'IAS/ECC' from Sagem
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5270 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe630c884fbb9570b67510149c7bebddbd11a8d2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 17:17:07 2011 +0000

    Fix a real bug (and a compiler warning)
    
    pkcs15-oberthur.c: In function 'sc_pkcs15emu_oberthur_add_pubkey':
    pkcs15-oberthur.c:585: warning: statement with no effect
    pkcs15-oberthur.c: In function 'sc_pkcs15emu_oberthur_add_cert':
    pkcs15-oberthur.c:654: warning: statement with no effect
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5269 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04154504a1340024192d082af03b860f6e00d21c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 16:12:21 2011 +0000

    Fix compiler warning
    
    pkcs15-init.c: In function 'verify_pin':
    pkcs15-init.c:2840: warning: declaration of 'r' shadows a previous local
    pkcs15-init.c:2836: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5268 c6295689-39f2-0310-b995-f0e70906c6a9

commit b435f6007a2e4872b48cd04b2d6073256e602a2f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 16:05:24 2011 +0000

    Fix compiler warning
    
    pkcs15-itacns.c: In function 'itacns_add_data_files':
    pkcs15-itacns.c:478: warning: declaration of 'list_size' shadows a global declaration
    ../../src/common/simclist.h:497: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5267 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c0dbf4b022bfc8606e3db46c29eceb2a0cd97b9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 16:02:42 2011 +0000

    Fix compiler warning
    
    card-iasecc.c: In function 'iasecc_get_serialnr':
    card-iasecc.c:2218: warning: declaration of 'ii' shadows a previous local
    card-iasecc.c:2165: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5266 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e6b87b135de4a838c376e2b4aaec220f95f63e3
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 16:01:45 2011 +0000

    Fix compiler warning
    
    card-iasecc.c: In function 'iasecc_select_file':
    card-iasecc.c:647: warning: declaration of 'rv' shadows a previous local
    card-iasecc.c:635: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5265 c6295689-39f2-0310-b995-f0e70906c6a9

commit 161678d8a62cc6ffb8b998409dd4261337a61e77
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 16:00:56 2011 +0000

    Fix compiler warning
    
    card-iasecc.c:1529: warning: declaration of 'ffs' shadows a global declaration
    /usr/include/string.h:121: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5264 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11ae160d5548b473823e79802243da1d5ffad04d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:58:17 2011 +0000

    Fix compiler warning by commenting dead code
    
    card-authentic.c:510: warning: 'authentic_resize_file' defined but not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5263 c6295689-39f2-0310-b995-f0e70906c6a9

commit 577499f80cecb346e0980e2ce6eb2bc1f49a1bd2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:57:20 2011 +0000

    Fix compiler warning
    
    card-authentic.c: In function 'authentic_chv_verify_pinpad':
    card-authentic.c:1255: warning: declaration of 'ffs' shadows a global declaration
    /usr/include/string.h:121: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5262 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4410ae03974babcec6e6e14f08fd7a23d62132ab
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:55:06 2011 +0000

    Fix compiler warning
    
    card-westcos.c: In function 'westcos_init':
    card-westcos.c:255: warning: declaration of 'priv_data' shadows a previous local
    card-westcos.c:210: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5261 c6295689-39f2-0310-b995-f0e70906c6a9

commit 902e4b139afb973fc0c5ffd17355486cbd7a6748
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:53:15 2011 +0000

    Fix compiler warning by commenting dead code
    
    card-piv.c:179: warning: 'oid_prime256v1' defined but not used
    card-piv.c:180: warning: 'oid_secp384r1' defined but not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5260 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f2c8211adf8ed95ee9d09f4e13de7ca6b86bd1a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:51:29 2011 +0000

    Fix compiler warnings
    
    card-oberthur.c: In function 'auth_pin_verify_pinpad':
    card-oberthur.c:1581: warning: declaration of 'ffs' shadows a global declaration
    /usr/include/string.h:121: warning: shadowed declaration is here
    card-oberthur.c: In function 'auth_pin_reset_oberthur_style':
    card-oberthur.c:1802: warning: declaration of 'ffs' shadows a global declaration
    /usr/include/string.h:121: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5259 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1170e009a562efdbdccc9555db81c533c3df138
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:46:51 2011 +0000

    Fix compiler warning
    
    reader-pcsc.c: In function 'refresh_attributes':
    reader-pcsc.c:339: warning: declaration of 'rv' shadows a previous local
    reader-pcsc.c:273: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5258 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7f6213d24add5d4b0f0816e8015dde00ccd5a77
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:45:41 2011 +0000

    Fix compiler warning
    
    reader-pcsc.c: In function 'refresh_attributes':
    reader-pcsc.c:337: warning: declaration of 'state' shadows a previous local
    reader-pcsc.c:272: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5257 c6295689-39f2-0310-b995-f0e70906c6a9

commit 842550ae20002ee458a851c7c79b1bce556d6fb6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:43:00 2011 +0000

    Fix compiler warning
    
    pkcs15-pubkey.c: In function 'sc_pkcs15_pubkey_from_spki_filename':
    pkcs15-pubkey.c:944: warning: 'buflen' may be used uninitialized in this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5256 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88a07de60d5d4a704d6cda0a3f5a25234f8dadf0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:41:20 2011 +0000

    Fix compiler warning
    
    ctx.c: In function 'sc_context_create':
    ctx.c:646: warning: implicit declaration of function 'lt_dlinit'
    ctx.c:646: warning: nested extern declaration of 'lt_dlinit'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5255 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6fe27b2c4a9f1a0031907eee1675409c67914f20
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:19:15 2011 +0000

    Fix compiler warning
    
    pkcs15-iasecc.c:63: warning: no previous prototype for 'iasecc_reference_to_pkcs15_id'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5254 c6295689-39f2-0310-b995-f0e70906c6a9

commit c824662a03de8d9e73f84949b2ff780810081b1f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:16:52 2011 +0000

    Fix compiler warning
    
    pkcs15-lib.c: In function 'prkey_fixup_rsa':
    pkcs15-lib.c:1936: warning: declaration of 'ctx' shadows a previous local
    pkcs15-lib.c:1911: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5253 c6295689-39f2-0310-b995-f0e70906c6a9

commit de196fa205162b180544d3439d8a409c69bae78c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:15:30 2011 +0000

    Fix compiler warning
    
    pkcs15-lib.c: In function 'sc_pkcs15init_store_private_key':
    pkcs15-lib.c:1339: warning: declaration of ‘ctx’ shadows a previous local
    pkcs15-lib.c:1278: warning: shadowed declaration is here
    
    The ctx variable was already declared with the correct value.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5252 c6295689-39f2-0310-b995-f0e70906c6a9

commit f88bbe117fcbd0ff8e9fef67499b1a2a5032fd39
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:12:40 2011 +0000

    Remove typedef file_info to complete the change/cleanup in revision 5250
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5251 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99bbc06bcb794315948aa1baab76275d4715bba1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:10:10 2011 +0000

    Fix compiler warning
    
    profile.c: In function 'sc_profile_get_pin_id_by_reference':
    profile.c:785: warning: declaration of ‘pin_info’ shadows a global declaration
    profile.c:217: warning: shadowed declaration is here
    
    Avoid using a typedef with a "common" name
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5250 c6295689-39f2-0310-b995-f0e70906c6a9

commit 18ca8b94e12463746dbf3b8ece2c08d2c730d5b7
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:02:18 2011 +0000

    Fix compiler warning
    
    ibscdl.c:30: warning: no previous prototype for 'sc_dlopen'
    libscdl.c:35: warning: no previous prototype for 'sc_dlsym'
    libscdl.c:40: warning: no previous prototype for 'sc_dlerror'
    libscdl.c:45: warning: no previous prototype for 'sc_dlclose'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5249 c6295689-39f2-0310-b995-f0e70906c6a9

commit a88972b36a5d3fed494e51fb16de2f0cd4e38bff
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 15:00:04 2011 +0000

    Fix compiler warning
    
    libscdl.c: In function 'sc_dlerror':
    libscdl.c:38: warning: old-style function definition
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5248 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2c1756a1cf67144a24e156bd2df7e9bcf55de09
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 14:58:45 2011 +0000

    Fix compiler warning
    
    libpkcs11.c: In function 'C_LoadModule':
    libpkcs11.c:37: warning: implicit declaration of function 'lt_dlinit'
    libpkcs11.c:37: warning: nested extern declaration of 'lt_dlinit'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5247 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1bd559f991ddb568b31ef0cd5d230ea822076fd
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 14:56:22 2011 +0000

    Fix compiler warning
    
    cards.h:221: warning: function declaration isn’t a prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5246 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5fd2ef4b12969a59a3d768876be0d77301c13e83
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 14:55:23 2011 +0000

    Fix compiler warning
    
    libscdl.h:24: warning: function declaration isn’t a prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5245 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0b5da2ab6f80ba94c800d210c9b1bed3df47156
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 21 06:54:16 2011 +0000

    Fix building CT-API after r5061, noticed by Jenkins autobuild
    
    reader-ctapi.c:255: error: ‘sc_reader_t’ has no member named ‘atr_len’
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5244 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ef19c4ad2f1ee0958d3a433f42517f896434b87
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 20 14:50:44 2011 +0000

    typo: dont -> don't
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5243 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dde0476b15d9453864c97f06ce211041dec2b77
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 20 13:17:29 2011 +0000

    Fix some of the spelling errors in westcos-tool man page and utility, triggered by lintian
    
    I: opensc: spelling-error-in-manpage usr/share/man/man1/westcos-tool.1.gz authentification authentication
    I: opensc: spelling-error-in-binary ./usr/bin/westcos-tool attemps attempts
    
    Make text in westcos-tool manpage more readable, harmonize PIN/PUK capitalization.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5242 c6295689-39f2-0310-b995-f0e70906c6a9

commit db66f696580bb4793619b40a45119a265d8fd083
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 20 12:19:11 2011 +0000

    Fix a typo reported by lintian
    
    I: opensc: spelling-error-in-binary ./usr/bin/pkcs15-init dont don't
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5241 c6295689-39f2-0310-b995-f0e70906c6a9

commit 719bc293a1972fc20c8c19ff9faab319a1e4cfc2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 20 12:19:06 2011 +0000

    Fix a typo reported by lintian
    
    I: opensc: spelling-error-in-manpage usr/share/man/man1/netkey-tool.1.gz diplay display
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5240 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7406d844159fffb1fd5243cd28a753cf914b00d4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 20 12:19:01 2011 +0000

    Fix a typo reported by lintian
    
    I: libopensc3: spelling-error-in-binary ./usr/lib/libopensc.so.3.0.0 enviroment environment
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5239 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ab9b7f10d726c99de952d015ab665c1c6dd8ced
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 20 12:18:55 2011 +0000

    Fix a typo reported by lintian
    
    I: libopensc3: spelling-error-in-binary ./usr/lib/libopensc.so.3.0.0 extention extension
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5238 c6295689-39f2-0310-b995-f0e70906c6a9

commit a55f2f098b3670f74762c65e3cdf1b710c9947aa
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 15 12:18:51 2011 +0000

    iso7816: try to read full amount of the requested data ...
    
    actually, if an error 'Wrong Le' happens, the APDU with the reduced size is re-transmitted
    (http://www.opensc-project.org/opensc/browser/trunk/src/libopensc/apdu.c#L401) .
    iso7816_read_binary() returns this reduced amount of data and do not trying to read the missing part .
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5237 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c5d61716ca34413609d2524d67ad1ff62c53da7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 15 09:39:04 2011 +0000

    pkcs15init: EnterSafe: increase size of the xDF files
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-February/016051.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5236 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8fcfa8a1fca1a7d77d71011c0cfddbd1aa08344
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 20:18:01 2011 +0000

    openct: Wrong size
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5235 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a19093b421439d6c009904de139b72b5ce1b07f
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 19:45:02 2011 +0000

    Make openct compile again
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5234 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39f3c2b7c68eee3b4f14e153a6512e03a2749dea
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 18:19:07 2011 +0000

    rtecp: in non-extended APDUs the 'Le' value cannot be more then 256 bytes ...
    
    after r5186 the SC_MAX_APDU_BUFFER_SIZE has been increased
    and so existing defintion of Le value became invalid.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5233 c6295689-39f2-0310-b995-f0e70906c6a9

commit a0763976715817c7a14c390b33da29a78ef5f6f3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 18:13:38 2011 +0000

    pkcs15: without AID specified return the first available PKCS#15 application ...
    
    revert accidential commit, thanks to Pierre Ossman.
    http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016149.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5232 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1a1dc245a4f09a4bf1cf2985e4f37daa4930906
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 18:09:48 2011 +0000

    pkcs15: accept more then one xDF file of the same type ...
    
    partial revert of r4096, thanks to Pierre Ossman
    http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016148.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5231 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27f493e6d82a1c1b0c584c68a28845e7e63e7003
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 18:02:50 2011 +0000

    libopensc: fix debug message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5230 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42aee0f4d54f594bbb617f2f688a8fa6792da55d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 14 18:01:40 2011 +0000

    pkcs15-tool: use dedicated function to free the object memory
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5229 c6295689-39f2-0310-b995-f0e70906c6a9

commit a067bf35a34371ed2cb88348d37224732a5e6851
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 13 18:11:07 2011 +0000

    pkcs15: more of the debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5228 c6295689-39f2-0310-b995-f0e70906c6a9

commit d174edf1d2328eaf12b6b6bd72c7b018c9606953
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 12 15:17:02 2011 +0000

    msi: fix component ID of the rutoken profiles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5227 c6295689-39f2-0310-b995-f0e70906c6a9

commit dda747f8fc42cca8210fcce00a021b6a6fb17f0d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 12 14:20:13 2011 +0000

    msi: include 'cardmod.dll' and 'rutoken' PKCS#15 profiles into MSI
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5226 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7c0ad71ff9c1efd5aa32718804ea68a0ef39f9a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 11 17:57:46 2011 +0000

    ruToken: in non-extended APDUs the 'Le' value cannot be more then 256 bytes ...
    
    in r5186 the SC_MAX_APDU_BUFFER_SIZE has been increased
    and so the previous defintion of Le value became invalid.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5225 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10e5a18ec9a48d703c1a78f65c238715efe0c29f
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 7 18:14:31 2011 +0000

    pkcs15-tool.c: Avoid compiler warnings:
    
    pkcs15-tool.c:1111: warning: comparison between signed and unsigned
    pkcs15-tool.c:1117: warning: comparison between signed and unsigned
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5224 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12df79c14b54fb5df3055e4c0e390e236c3a244d
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 7 18:10:11 2011 +0000

    pkcs15.c: Avoid compiler warning:
    
    pkcs15.c:286: warning: unused variable ‘conf_block’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5223 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3442649b4278903597f9d2ae6e5dbffa78badfdd
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 7 16:15:41 2011 +0000

    pkcs15-pin: Fixing the method of obtaining objects protected by a particular PIN. Now it's in accordance with PKCS15. See [http://www.opensc-project.org/pipermail/opensc-devel/2011-January/015818.html discussion].
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5222 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39db52640721353867d773fc9f9192bcb66ccf20
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 7 16:00:23 2011 +0000

    pkcs15-piv: Remove unused functionality.
    
     These lines made use of the attribute card->flags which is mostly unused in the whole framework. That attribute becomes nearly obsolete without these lines. See [http://www.opensc-project.org/pipermail/opensc-devel/2011-March/016104.html discussion].
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5221 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33f44f8dc1b92eaa20716680a566830592e5b009
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 6 12:35:35 2011 +0000

    pkcs15: pin references are always positive integers ...
    
    In the OpenSC versions previous to 0.11.5 the references greater then
    127 were erroneously encoded by one byte (negative value ecording to the
    ASN.1 rules).
    Actually some other proprietary PKCS#15 cards have also this infirmity.
    
    Actual commit makes general the application of the hack used for 'starcos' card.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-February/016062.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5220 c6295689-39f2-0310-b995-f0e70906c6a9

commit 763c0bcefe80a7f6c49a1e4b7d82cd59d9a93d76
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 6 11:34:58 2011 +0000

    pkcs15init: #327: unique ID for the private key objects. Thanks a Diego (NdK) ...
    
    http://www.opensc-project.org/opensc/ticket/327
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5219 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ff3d5d6476764feea94797bf99303f1191900a8
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 4 16:23:07 2011 +0000

    Fixing misuse of SC_CARD_FLAG_RNG. From opensc.h :
    
    [http://www.opensc-project.org/opensc/browser/trunk/src/libopensc/opensc.h?rev=5190#L88 #define SC_ALGORITHM_RSA_PAD_PKCS1      0x00000002]
    [http://www.opensc-project.org/opensc/browser/trunk/src/libopensc/opensc.h?rev=5190#L413 #define SC_CARD_FLAG_RNG                0x00000002]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5218 c6295689-39f2-0310-b995-f0e70906c6a9

commit 711cbda2e0a06fa587e2f02f973735e01a78eddc
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 14:18:09 2011 +0000

    PC/SC: Add "PIN length not in range" interpretation to PC/SC pinpad code.
    
    This way this condition won't get translated to a generic -1200 error, as 0x6403 is not a known SW.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5217 c6295689-39f2-0310-b995-f0e70906c6a9

commit d59197748ce5bd39f5cbf7d3a33589bef30c028e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 11:19:45 2011 +0000

    EstonianEid: Force T=0 for the newest ATR as well.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5216 c6295689-39f2-0310-b995-f0e70906c6a9

commit d4bcba58084a43188dbe59272afb314eaefa8ff9
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 25 17:20:52 2011 +0000

    Allow a key to be used to sign a certificate request
    even if the normal usage does not allow sign.
    This is need when initializing a card when called by
    OpenSSL req -engine
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5215 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc7cde4d791abd61ce342ce0abddf87db6bdde14
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 08:57:30 2011 +0000

    ias/ecc: do not throw an error when there is SM or Auth.Ext protection
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5214 c6295689-39f2-0310-b995-f0e70906c6a9

commit c55a581b5a4406f0c093275bccc76357029e7ae3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 22 19:00:22 2011 +0000

    cardmod: fix log printing into the 'debug_file' ...
    
    compiled with VS 10.0 and tested on Vista,
    probably can be extended for mingw32
    http://www.opensc-project.org/opensc/browser/trunk/src/cardmod/cardmod.c#L131
    
    also fix warning C4715: 'check_reader_status' : not all control paths return a value'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5213 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5b2b021be642e7d0f7363e5771d8c7426455ac1
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 18 20:48:22 2011 +0000

    opensc-cardmod.dll can now by built as "static"
    using the VS. The dll will contain all of OpenSC,
    OpenSSL and zlib in a single dll, and thus can
    reside anywere. Without this, winlogin would require
    it to reside in system32.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5212 c6295689-39f2-0310-b995-f0e70906c6a9

commit 432a89c18b19f6a544002753b26f56b17f1db00f
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 18 20:37:50 2011 +0000

    Fix malloc warning by using stdlib.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5211 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f4dfe2c859d1d75f6cbdd1346838d167ad97645
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 20:46:13 2011 +0000

    Amend r5201: put libscdl.h/libpkcs11.h to distribution package and link against libltdl where needed.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5210 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47b1c9a86d2a558ceb6e51fc6a195f61a794bb80
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 17:26:43 2011 +0000

    opensc-msi: do not install libltdl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5209 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ca921fc4a0ba7fa3aac07290bbb02a8102eec3d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 17:24:31 2011 +0000

    ias/ecc: use extended path in the 'include' macros
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5208 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ef7366074070ffa4b8529bfc3d88980023dbe86
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 14:50:33 2011 +0000

    void issues with ssize_t See r5135 and r5195
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5207 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f266b6099afea8e08f3f6ce620ba89a5b6a5141
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 13:35:25 2011 +0000

    libopensc: include 'scdl' library when linking with Visual Studio ...
    
    missing 'scdl' header file in 'pkcs15-lib'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5206 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16ca4b05f842af9c9b75087356f44871a84cb383
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 09:36:36 2011 +0000

    opensc.conf: by default comment out all IAS/ECC specific configuration lines ...
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-February/016013.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5205 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6dd928bdfb83a3cda60ec94820a65ccb08f289e8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 09:28:40 2011 +0000

    libopensc: fix name of 'LTDL' macro
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5204 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ea78bf7411787bf652960fa77453eeb2a6be64c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 17 07:45:36 2011 +0000

    Amend r5201: also move libltdl build properties to the right Makefile and other leftovers.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5203 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6eb3a3085394f56f1be1309f9a63a0f4cc45e0e
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 21:05:52 2011 +0000

    Allow use of seperate build and source dir when building
    common/libpkcs11
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5202 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffb46d25733bb517611861a03916887beecb5446
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 19:02:11 2011 +0000

    core: reanimate the sc_dlopen API for dynamic loading
     * shift libpkcs11 from src/pkcs11 to src/common as it is not used to implement the OpenSC PKCS#11 module
     * invent a "libscdl" mini library that implements either libltdl based dynamic loading or uses native interfaces
     * drop hard requirement for libltl to build OpenSC
     * native Windows build does not need libltdl any more
     * specify CNGSDK include dir to find cardmod.h. CNGSDK only registers with a handful of compilers
    
    Deals with #323
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5201 c6295689-39f2-0310-b995-f0e70906c6a9

commit 53dd2ceafa6940a90de608df4e335ee280db50af
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 14:05:17 2011 +0000

    IAS/ECC: remove dead code and '//' coments, resolve some warnings ...
    
    to be continued, thanks to Martin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5200 c6295689-39f2-0310-b995-f0e70906c6a9

commit e02becc6e2d0a2b230b022fc70d7e23792c3719c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 11:01:46 2011 +0000

    IAS/ECC: for the IAS/ECC cards include into the OpenSC configuration the 'card_atr' sections
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5199 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69b7f200eb23780415abdba0b7c98e27a48847b0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 10:59:10 2011 +0000

    IAS/ECC: include support of the IAS/ECC v1.0.1 cards ...
    
    http://www.opensc-project.org/pipermail/opensc-devel/2011-January/015756.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5198 c6295689-39f2-0310-b995-f0e70906c6a9

commit 57b7a81c3a3233e93e9b60927103b26f9a20463e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 10:55:05 2011 +0000

    IAS/ECC: add IAS/ECC card specific files ...
    
    as it was announced in
    http://www.opensc-project.org/pipermail/opensc-devel/2011-January/015756.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5197 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce116f42b641e0f5297b8e1055dcdb79e13fa6fc
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 10:46:06 2011 +0000

    pkcs15init: for MyEID card set tokenInfo flags ...
    
    it's a part of demand of the card driver's maintainer
    http://www.opensc-project.org/pipermail/opensc-devel/2011-February/015994.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5196 c6295689-39f2-0310-b995-f0e70906c6a9

commit d953d4ade48e428f6640fe0b50862acb16be404b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 16 10:31:59 2011 +0000

    card-piv: 'ssize_t' is not defined when compiling with Visual Studio
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5195 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43be49b4a325964a3ebf510c56b67779f6e13e0c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 20:31:34 2011 +0000

    libopensc: correct ASN.1 parsing of EF(TokenInfo).
    
    Two fields should be optional. This also fixes #322
    
    Thanks to Toni for finding and Andre for fixing the problem.
    See http://www.opensc-project.org/pipermail/opensc-devel/2011-January/015613.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5194 c6295689-39f2-0310-b995-f0e70906c6a9

commit f73eb87fedf689b4b93b64f7d8c809723fcf7928
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 13:40:35 2011 +0000

    MacInstaller: use the pre-built libopensc.dylib for building OpenSC.tokend
    
    This way it can be built without installing OpenSC on a clean machine.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5193 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a9d5075562f2aac1d9421f20c7ce2c2f2aea23e
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 17:52:00 2011 +0000

    Fixes to cardmod:
        The registry in no longer used to pass the
        handles provided by BaseCSP. sc_ctx_use_reader
        is used instead.  (uses r5190)
    
        A decryption routine was added as it is needed by login.
    
        Key container names are based on the card serial
        number and cert ID. The must be unique as they
        are searched for in the certificate store to
        find the card to insert in some situations.
    
        If the handles change, the association to the reader
        and card is refreshed as it may be a different card
        or reader.  (uses r5127)
    
        Extra low lowel debugging was added. To use
        it the CARDMOD_LOW_LEVEL_DEBUG but be defined in
        cardmod.c This can log entries before and sc_context
        is established.
    
        The use of "texte" was replaced, as it looked like there
        could be buffer overflows. It was replaced with a
        loghex routine.
    
        SC_ALGORITHM_RSA_HASH_MD5_SHA1 can now be used
        (IE uses this.)
    
        Several other bugs were fixed.
    
    The code can now bue used for AD login, and was tested
    with swaping cards duirng login, and with several readers.
    The code is still experimental, and for login to work,
    the dlls were moved to system32.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5192 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0180a969dbed180cd10a96fbf108f49f9f1a109f
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:45:51 2011 +0000

    Remove dependency on sc_establish_context, and provide appname
    via sc_ctx_create_context and ctx_param.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5191 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3b3faa91af06ce27bed3ab580a16e9b54a90c5a
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:33:52 2011 +0000

    Add sc_ctx_use_reader as a reader driver operation.
    It is used by cardmod to pass in pointers to the PC/SC handles
    provided by the caller of cardmod. Other drivers will return
    an error if this routine called.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5190 c6295689-39f2-0310-b995-f0e70906c6a9

commit 025da6d0f548e197bcc209c66a36b2cdf4c2fa6e
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 8 15:49:35 2011 +0000

    Fix #325 add SC_PKCS15_PRKEY_USAGE_ENCRYPT and SC_PKCS15_PRKEY_USAGE_DECRYPT
    to PIV KEY Management keys and certificates, includeing the Retired keys.
    This applies to 0.12.0 and needs to be in 0.12.1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5189 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98aa4cb5712d07cfb428b17484ef5b0d8fd74a9c
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 7 16:23:54 2011 +0000

    Fix uninitialized variables and warning messages.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5188 c6295689-39f2-0310-b995-f0e70906c6a9

commit c209e3a7570f4c1cccfa7bf7654e655da1f90753
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 22:43:12 2011 +0000

    Allow hex-strings to be separated by space characters:
    
    opensc-tool -s "00 A4 00 00 02 3F 00 00"
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5187 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1008062844367e9bd0bdd8a15f0ea3d90a127db5
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 22:33:13 2011 +0000

    Adjust SC_MAX_APDU_BUFFER_SIZE to maximum size of Short APDU.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5186 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b76cee5727d8f3d5842a88de24b23e5f2f7f830
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 17:28:30 2011 +0000

    Revert r5137, because size_t is defined as unsigned integer type (without further qualification).
    
    http://www.opengroup.org/onlinepubs/000095399/basedefs/stddef.h.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5185 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f186bee8be0bd823c52ff79aded8a5909c67d09
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:40:08 2011 +0000

    Remove unused variables
    
    card-authentic.c: In function ‘authentic_init_oberthur_authentic_3_2’:
    card-authentic.c:423: warning: unused variable ‘resp’
    card-authentic.c: In function ‘authentic_process_fci’:
    card-authentic.c:1042: warning: unused variable ‘acls_NEVER’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5184 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9afa56f740d7c3bd4433cedb98f5b0598340d796
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:37:51 2011 +0000

    card-piv.c:564: warning: unused variable ‘buf_len’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5183 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe31597e4d13d4781de3210037081090710f7149
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:17:57 2011 +0000

    Remove dead code
    
    p15card-helper.c:263:22: warning: Although the value stored to 'r' is used in
          the enclosing expression, the value is never actually read from 'r'
      ...!= (r = sc_pkcs15emu_add_x509_cert(p15card, &cert_obj, &cert_info))) {
             ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    p15card-helper.c:237:22: warning: Although the value stored to 'r' is used in
          the enclosing expression, the value is never actually read from 'r'
      ...if(SC_SUCCESS != (r = sc_select_file(card, &cert_info.path, NULL))) {
                           ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    p15card-helper.c:224:3: warning: Value stored to 'r' is never read
                    r = SC_SUCCESS;
                    ^   ~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5182 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc40ad754cd78a9d8dbb527b9f793de1abe11d67
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:14:19 2011 +0000

    Remove dead code
    
    pkcs15-oberthur.c:353:3: warning: Value stored to 'len' is never read
                    len = sizeof(label) - 1;
                    ^     ~~~~~~~~~~~~~~~~~
    pkcs15-oberthur.c:587:3: warning: Value stored to 'sz' is never read
      ...sz = len > sizeof(key_obj.label) - 1 ? sizeof(key_obj.label) - 1 : len;
         ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur.c:669:2: warning: Value stored to 'offs' is never read
            offs += 2 + len;
            ^       ~~~~~~~
    pkcs15-oberthur.c:656:3: warning: Value stored to 'sz' is never read
      ...sz = len > sizeof(cobj.label) - 1 ? sizeof(cobj.label) - 1 : len;
         ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5181 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c03435cc97a05730302bf7a2cd6ffdea0ded385
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:12:14 2011 +0000

    Remove dead code
    
    pkcs15-westcos.c:198:3: warning: Value stored to 'usage' is never read
                    usage =
                    ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5180 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7789948e4db5926795d1a597f3023591730df79b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:11:03 2011 +0000

    Remove dead code
    
    pkcs15-tccardos.c:253:3: warning: Value stored to 'pinType' is never read
                    pinType   = key_descr & TC_CARDOS_PIN_MASK;
                    ^           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5179 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8fc900c2091e8c3192149cc6a330996d3c8d301
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:09:20 2011 +0000

    Remove dead code
    
    pkcs15-openpgp.c:110:2: warning: Value stored to 'length' is never read
            length = r;
            ^        ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5178 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c81ad9aa3dd859d4446ddb9bde8bee2df37d700
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:08:13 2011 +0000

    Fix typo in error message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5177 c6295689-39f2-0310-b995-f0e70906c6a9

commit 034cdb11512be18f911bc8a42f8ef1da21bf1474
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:07:52 2011 +0000

    Add missing checks for NULL before dereferencing
    
    card-authentic.c:913:33: warning: Field access results in a dereference of a
          null pointer (loaded from variable 'apdus')
                    rv = sc_check_sw(card, apdus->sw1, apdus->sw2);
                                           ~~~~~  ^
    card-authentic.c:958:33: warning: Field access results in a dereference of a
          null pointer (loaded from variable 'apdus')
                    rv = sc_check_sw(card, apdus->sw1, apdus->sw2);
                                           ~~~~~  ^
    card-authentic.c:1001:33: warning: Field access results in a dereference of a
          null pointer (loaded from variable 'apdus')
                    rv = sc_check_sw(card, apdus->sw1, apdus->sw2);
                                           ~~~~~  ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5176 c6295689-39f2-0310-b995-f0e70906c6a9

commit 52251f931cf07c8ac11b5a7278c1fb67f943e582
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:02:42 2011 +0000

    Remove dead code
    
    card-authentic.c:440:2: warning: Value stored to 'resp_len' is never read
            resp_len = sizeof(resp);
            ^          ~~~~~~~~~~~~
    card-authentic.c:1053:4: warning: Value stored to 'acls' is never read
                            acls = acls_NEVER;
                            ^      ~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5175 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d8fdd103c18b92b737a3c0ef9967bbada7affc9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 22:01:21 2011 +0000

    Remove dead code
    
    card-ias.c:132:32: warning: Although the value stored to 'ins' is used in the
          enclosing expression, the value is never actually read from 'ins'
            r = len = pad = use_pin_pad = ins = p1 = 0;
                                          ^     ~~~~~~
    card-ias.c:132:2: warning: Value stored to 'r' is never read
            r = len = pad = use_pin_pad = ins = p1 = 0;
            ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    card-ias.c:366:2: warning: Value stored to 'ctx' is never read
            ctx = card->ctx;
            ^     ~~~~~~~~~
    card-ias.c:361:6: warning: Although the value stored to 'pathlen' is used in the
          enclosing expression, the value is never actually read from 'pathlen'
            r = pathlen = stripped_len = offset = 0;
                ^         ~~~~~~~~~~~~~~~~~~~~~~~~~
    card-ias.c:361:2: warning: Value stored to 'r' is never read
            r = pathlen = stripped_len = offset = 0;
            ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    card-ias.c:361:31: warning: Although the value stored to 'offset' is used in the
          enclosing expression, the value is never actually read from 'offset'
            r = pathlen = stripped_len = offset = 0;
                                         ^        ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5174 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75ef203f27046bd6002ecf6ff9e8fed8c33193c1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:58:40 2011 +0000

    Remove dead code
    
    card-westcos.c:1066:4: warning: Value stored to 'r' is never read
                            r = SC_ERROR_INVALID_ARGUMENTS;
                            ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5173 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6473a883d415711cdba262bab558c80a435799db
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:57:51 2011 +0000

    Remove dead code
    
    card-asepcos.c:446:19: warning: Value stored to 'p' during its initialization is
          never read
            u8     buf[64], *p = buf;
                             ^   ~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5172 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8cc0e41da7712d9d74132098fcb267aba2f02d0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:57:16 2011 +0000

    Add a missing check for NULL before dereferencing
    
    card-asepcos.c:312:52: warning: Dereference of null pointer
                    r = asepcos_parse_sec_attr(card, *file, (*file)->s...
                                                                     ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5171 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f68f4440dd8155cb990cada17342609135fc44e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:54:36 2011 +0000

    Remove dead code
    
    card-piv.c:614:2: warning: Value stored to 'buf_end' is never read
            buf_end = rp + buf_len;
            ^         ~~~~~~~~~~~~
    card-piv.c:1129:3: warning: Value stored to 'r' is never read
                    r = 0;
                    ^   ~
    card-piv.c:1478:2: warning: Value stored to 'q' is never read
            q = rbuf;
            ^   ~~~~
    card-piv.c:1628:2: warning: Value stored to 'q' is never read
            q = rbuf;
            ^   ~~~~
    card-piv.c:2456:4: warning: Value stored to 'certobjlen' is never read
                            certobjlen = 0;
                            ^            ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5170 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a1431a56d036ee0a9db1d025a78fed5169122e5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:51:48 2011 +0000

    Remove dead code
    
    card-atrust-acos.c:548:2: warning: Value stored to 'keyID' is never read
            keyID = env->key_ref[0];
            ^       ~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5169 c6295689-39f2-0310-b995-f0e70906c6a9

commit 870a00cc8ad8dd27397e7334fb16b897a93fe1d9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:50:48 2011 +0000

    Remove a useless test
    
    If card is NULL we can't dereference card->ctx to log an error
    We must assume card i snever NULL
    
    card-oberthur.c:1537:3: warning: Field access results in a dereference of a null
          pointer (loaded from variable 'card')
      ...SC_FUNC_RETURN(card->ctx, SC_LOG_DEBUG_NORMAL, SC_ERROR_INVALID_ARGUMENTS)...
         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    card-oberthur.c:1537:24: note: instantiated from:
                    SC_FUNC_RETURN(card->ctx, SC_LOG_DEBUG_NORMAL, ...
                                   ~~~~  ^
    card-oberthur.c:2258:3: warning: Field access results in a dereference of a null
          pointer (loaded from variable 'card')
      ...SC_FUNC_RETURN(card->ctx, SC_LOG_DEBUG_NORMAL, SC_ERROR_INVALID_ARGUMENTS)...
         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    card-oberthur.c:2258:24: note: instantiated from:
                    SC_FUNC_RETURN(card->ctx, SC_LOG_DEBUG_NORMAL, ...
                                   ~~~~  ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5168 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd55567cf96d5509d9166c1237cb0c0de0310e79
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:45:17 2011 +0000

    Remove dead code
    
    card-oberthur.c:1539:2: warning: Value stored to 'prv' is never read
            prv = (struct auth_private_data *) card->drv_data;
            ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5167 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28b6b60870a4b5a69164eeb309e7690a93adc59f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:44:14 2011 +0000

    Remove dead code
    
    card-starcos.c:657:5: warning: Value stored to 'p' is never read
                            *p++ = file->record_length & 0xff;
                             ^~~
    card-starcos.c:652:5: warning: Value stored to 'p' is never read
                            *p++ = file->record_length & 0xff;
                             ^~~
    card-starcos.c:647:5: warning: Value stored to 'p' is never read
                            *p++ = file->size & 0xff;
                             ^~~
    card-starcos.c:609:4: warning: Value stored to 'p' is never read
                    *p++ = tmp;     /* SM ISF */
                     ^~~
    card-starcos.c:572:4: warning: Value stored to 'p' is never read
                    *p++ = tmp;
                     ^~~
    card-starcos.c:1024:2: warning: Value stored to 'keyID' is never read
            keyID = env->key_ref[0];
            ^       ~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5166 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d490bc2739f5bab30a3c1a7db5ef12aad529418
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:41:24 2011 +0000

    Remove dead code
    
    card-mcrd.c:1023:20: warning: Value stored to 'linep' during its initialization
          is never read
                    char line[256], *linep = line;
                                     ^       ~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5165 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81581ff6e87e219adde85da07ab98e9a109cb758
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:39:15 2011 +0000

    Remove dead code
    
    card-cardos.c:304:3: warning: Value stored to 'r' is never read
                    r = 256;
                    ^   ~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5164 c6295689-39f2-0310-b995-f0e70906c6a9

commit e46c4ccd1ff1b938f9440a1d4869a2478f5ce0f1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:35:17 2011 +0000

    Remove dead code
    
    card-flex.c:358:2: warning: Value stored to 'left' is never read
            left = *p++;
            ^      ~~~~
    card-flex.c:358:10: warning: Value stored to 'p' is never read
            left = *p++;
                    ^~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5163 c6295689-39f2-0310-b995-f0e70906c6a9

commit 451121f9b5057aca60ab0d46e5ee32d93d04a8d1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:34:04 2011 +0000

    Remove dead code
    
    card-setcos.c:506:3: warning: Value stored to 'bKeyNumber' is never read
                    bKeyNumber = 0;
                    ^            ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5162 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4e314e453c2a06868ef866aa0a5d9c0eda4e8d2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:32:28 2011 +0000

    Add missing check code for NULL before dereferencing
    
    reader-pcsc.c:1076:3: warning: Dereference of null pointer (loaded from variable
          'event_reader')
                    *event_reader = NULL;
                    ^~~~~~~~~~~~~
    reader-pcsc.c:1098:3: warning: Dereference of null pointer (loaded from variable
          'event')
                    *event = 0;
                    ^~~~~~
    reader-pcsc.c:1137:6: warning: Dereference of null pointer (loaded from variable
          'event_reader')
                                            *event_reader = ...
                                            ^~~~~~~~~~~~~
    reader-pcsc.c:1112:6: warning: Dereference of null pointer (loaded from variable
          'event_reader')
                                            *event_reader = NULL;
                                            ^~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5161 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67d0a41ed27afaf549dcc87b6b371e1b1cc521e1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:18:34 2011 +0000

    Remove dead code
    
    muscle.c:417:2: warning: Value stored to 'ptr' is never read
            ptr += newPinLength;
            ^      ~~~~~~~~~~~~
    muscle.c:918:2: warning: Value stored to 'inPtr' is never read
            inPtr += toSend;
            ^        ~~~~~~
    muscle.c:917:2: warning: Value stored to 'left' is never read
            left -= toSend;
            ^       ~~~~~~
    muscle.c:1012:26: warning: Value stored to 'p' is never read
            ushort2bebytes(p, use); p+=2;
                                    ^  ~
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5160 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab589d7c99492ae4be273554aa4f5b639baa72d9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:16:10 2011 +0000

    Remove dead code
    
    pkcs15-gemsafeV1.c:262:5: warning: Value stored to 'endptr' is never read
        endptr = (char *)(apdu.resp + apdu.resplen);
        ^        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5159 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3da2a84b0d98ddaa982e5f0883f58866ea18f1ed
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:11:59 2011 +0000

    Remove dead code
    
    pkcs15.c:1033:3: warning: Value stored to 'r' is never read
                    r = sc_pkcs15_parse_df(p15card, df);
                    ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15.c:1677:3: warning: Value stored to 'obj_len' is never read
                    obj_len = p - oldp;
                    ^         ~~~~~~~~
    pkcs15.c:1948:4: warning: Value stored to 'r' is never read
                            r = len;
                            ^   ~~~
    pkcs15.c:1942:6: warning: Value stored to 'record_len' is never read
                                            record_len = head[2] * 256 + head[3];
                                            ^            ~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5158 c6295689-39f2-0310-b995-f0e70906c6a9

commit f76600b90111e4480613af25d86e650a9b3c4357
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:09:15 2011 +0000

    Remove dead code
    
    apdu.c:166:5: warning: Value stored to 'p' is never read
                            *p++ = (u8)apdu->le;
                             ^~~
    apdu.c:156:4: warning: Value stored to 'p' is never read
                            p += apdu->lc & 0xff;
                            ^    ~~~~~~~~~~~~~~~
    apdu.c:147:5: warning: Value stored to 'p' is never read
                            *p++ = (u8)apdu->le;
                             ^~~
    apdu.c:139:3: warning: Value stored to 'p' is never read
                    p += apdu->lc;
                    ^    ~~~~~~~~
    apdu.c:118:3: warning: Value stored to 'p' is never read
                    p += apdu->lc;
                    ^    ~~~~~~~~
    apdu.c:112:5: warning: Value stored to 'p' is never read
                            *p++ = (u8)apdu->le;
                             ^~~
    apdu.c:107:5: warning: Value stored to 'p' is never read
                            *p++ = (u8)apdu->le;
                             ^~~
    apdu.c:102:4: warning: Value stored to 'p' is never read
                    *p++ = (u8)apdu->le;
                     ^~~
    apdu.c:99:5: warning: Value stored to 'p' is never read
                            *p++ = (u8)0x00;
                             ^~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5157 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46946f285f18b8682a14ebeecd6f3a92ea8ccc87
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:04:28 2011 +0000

    Remove dead code
    
    ef-atr.c:41:16: warning: Value stored to 'category' during its initialization is
          never read
            unsigned char category = *buf;
                          ^          ~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5156 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9906e5af66a6b893478f43330b5abb8a6fa14023
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:03:28 2011 +0000

    Remove dead code
    
    asn1.c:1321:3: warning: Value stored to 'r' is never read
                    r = 0;
                    ^   ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5155 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49f19fecb0b9eada4c8f118e0b17dadcc803dbc0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:01:35 2011 +0000

    Remove dead code
    
    log.c:107:2: warning: Value stored to 'left' is never read
            left -= r;
            ^       ~
    log.c:106:2: warning: Value stored to 'p' is never read
            p += r;
            ^    ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5154 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4af7743f144b7e5b89bda706f3d89e023103a38
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 21:00:38 2011 +0000

    Remove dead code
    
    ctx.c:550:25: warning: Value stored to 'count' is never read
                            ctx->conf_blocks[count++] = blocks[0];
                                             ^~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5153 c6295689-39f2-0310-b995-f0e70906c6a9

commit c8f5ab4fe5ad38bedc0bf2f302842bb354a0c4ea
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:59:28 2011 +0000

    Fix analyzer warnings. The code looked good.
    
    sc.c:667:12: warning: The left operand of '>=' is a garbage value
            if (tx[2] >= 0)
                ~~~~~ ^
    sc.c:656:12: warning: The left operand of '>=' is a garbage value
            if (tx[0] >= 0) {
                ~~~~~ ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5152 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6ea61fcf5b031446a3855e3451bb425ee8887f0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:54:31 2011 +0000

    Remove dead code
    
    pkcs15-authentic.c:692:2: warning: Value stored to 'caps' is never read
            caps = card->caps;
            ^      ~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5151 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28bf3bf02e036ba8c4721bc874c23adb595f92e5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:53:08 2011 +0000

    Remove dead code
    
    pkcs15-oberthur-awp.c:143:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP container list";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:138:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP private object list";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:133:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP public object list";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:128:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP token info";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:122:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP private data object info";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:117:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP data object info";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:112:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP public key info";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:106:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP private key info";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:100:3: warning: Value stored to 'desc' is never read
                    desc = "Oberthur AWP certificate info";
                    ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur-awp.c:338:2: warning: Value stored to 'rec_offs' is never read
            rec_offs = 0;
            ^          ~
    pkcs15-oberthur-awp.c:1369:2: warning: Value stored to 'offs' is never read
            offs += len;
            ^       ~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5150 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12a0613da2b9650f58e6c4c96ff83fbd405a72c7
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:51:02 2011 +0000

    Remove dead code
    
    pkcs15-oberthur.c:457:4: warning: Value stored to 'type' is never read
                            type = SC_PKCS15INIT_USER_PIN;
                            ^      ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur.c:452:4: warning: Value stored to 'type' is never read
                            type = SC_PKCS15INIT_USER_PUK;
                            ^      ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-oberthur.c:445:4: warning: Value stored to 'type' is never read
                            type = SC_PKCS15INIT_SO_PIN;
                            ^      ~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5149 c6295689-39f2-0310-b995-f0e70906c6a9

commit 041a1449f53a267de9a4682e686ff38d1b283452
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:50:00 2011 +0000

    Remove dead code
    
    pkcs15-myeid.c:251:4: warning: Value stored to 'type' is never read
              type = SC_PKCS15INIT_USER_PIN;
              ^      ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-myeid.c:244:4: warning: Value stored to 'type' is never read
              type = SC_PKCS15INIT_SO_PIN;
              ^      ~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5148 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3a5a1389f5e429b57530ef2db5b43664e0cfcc4
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:48:56 2011 +0000

    Remove dead code
    
    pkcs15-muscle.c:101:3: warning: Value stored to 'type' is never read
                    type = SC_PKCS15INIT_USER_PIN;
                    ^      ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-muscle.c:99:3: warning: Value stored to 'type' is never read
                    type = SC_PKCS15INIT_SO_PIN;
                    ^      ~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5147 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4bdb7274522f8856e5a1a117dedafdb542e250c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:47:40 2011 +0000

    Remove dead code
    
    pkcs15-incrypto34.c:133:7: warning: Although the value stored to 'r' is used in
          the enclosing expression, the value is never actually read from 'r'
      ...r = sc_pkcs15init_authenticate(profile, p15card, file, SC_AC_OP_DELETE)...
         ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5146 c6295689-39f2-0310-b995-f0e70906c6a9

commit 80ed46d6891523345a5f715ee3837e90a59fb1b1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:46:24 2011 +0000

    Remove dead code
    
    pkcs15-starcos.c:158:3: warning: Value stored to 'p' is never read
            *p++ = ipf_file->size & 0xff;
             ^~~
    pkcs15-starcos.c:128:3: warning: Value stored to 'p' is never read
            *p++ = 0x00;    /* SM ISF: no */
             ^~~
    pkcs15-starcos.c:239:3: warning: Value stored to 'p' is never read
            *p++ = ipf_file->size & 0xff;
             ^~~
    pkcs15-starcos.c:206:3: warning: Value stored to 'p' is never read
            *p++ = 0x00;            /* SM ISF: no */
             ^~~
    pkcs15-starcos.c:636:4: warning: Value stored to 'p' is never read
                    *p++ = 0x00;
                     ^~~
    pkcs15-starcos.c:613:4: warning: Value stored to 'p' is never read
                    *p++ = (u8) kinfo->key_reference;       /* CHA byte */
                     ^~~
    pkcs15-starcos.c:699:3: warning: Value stored to 'p' is never read
            *p++ = (u8) kinfo->key_reference;       /* CHA */
             ^~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5145 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98dd13f44feca3162d1bb10aa27d5431a335f930
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:45:05 2011 +0000

    Remove dead code
    
    pkcs15-jcop.c:118:17: warning: Value stored to 'type' is never read
                    type = SC_PKCS15INIT_USER_PIN;
                    ^      ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-jcop.c:112:17: warning: Value stored to 'type' is never read
                    type = SC_PKCS15INIT_SO_PIN;
                    ^      ~~~~~~~~~~~~~~~~~~~~
    pkcs15-jcop.c:171:9: warning: Value stored to 'pub_len' is never read
            pub_len = 2 + mod_len + exp_len;
            ^         ~~~~~~~~~~~~~~~~~~~~~
    pkcs15-jcop.c:284:6: warning: Value stored to 'bytes' is never read
         bytes   = mod_len / 2;
         ^         ~~~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5144 c6295689-39f2-0310-b995-f0e70906c6a9

commit 18c144603a489970be7836ddc8b9b0ab668542d5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:42:50 2011 +0000

    Remove dead code
    
    pkcs15-cflex.c:747:3: warning: Value stored to 'key' is never read
            *key++ = 0;
             ^~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5143 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9df8712b9e5fc1c976696b8ee09efc0f5a5fc262
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:41:51 2011 +0000

    Remode dead code
    
    pkcs15-gpk.c:213:3: warning: Value stored to 'type' is never read
                    type = SC_PKCS15INIT_USER_PIN;
                    ^      ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-gpk.c:207:3: warning: Value stored to 'type' is never read
                    type = SC_PKCS15INIT_SO_PIN;
                    ^      ~~~~~~~~~~~~~~~~~~~~
    pkcs15-gpk.c:853:3: warning: Value stored to 'pe' is never read
                    pe++;
                    ^~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5142 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8a9abe314947340be5b877c279adaf0d34d3401
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:38:49 2011 +0000

    Remove dead code
    
    pkcs15-lib.c:727:4: warning: Value stored to 'pin_type' is never read
                            pin_type = SC_PKCS15INIT_USER_PIN;
                            ^          ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-lib.c:1011:3: warning: Value stored to 'pin_type' is never read
                    pin_type = SC_PKCS15INIT_SO_PIN;
                    ^          ~~~~~~~~~~~~~~~~~~~~
    pkcs15-lib.c:1009:3: warning: Value stored to 'pin_type' is never read
                    pin_type = SC_PKCS15INIT_USER_PUK;
                    ^          ~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-lib.c:1505:2: warning: Value stored to 'usage' is never read
            usage = SC_PKCS15_PRKEY_USAGE_SIGN;
            ^       ~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-lib.c:1507:3: warning: Value stored to 'usage' is never read
                    usage = sc_pkcs15init_map_usage(args->x509_usage, 0);
                    ^       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    pkcs15-lib.c:2560:3: warning: Value stored to 'file' is never read
                    file = df->file;
                    ^      ~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5141 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb9e21d8232fa0960008bed92e2a07919b867f99
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:29:52 2011 +0000

    Fix a memory leak
    The initializations are already done a few lines below
    
    pkcs15-lib.c:1938:11: warning: Value stored to 'ctx' during its initialization
          is never read
                    BN_CTX *ctx = BN_CTX_new();
                            ^     ~~~~~~~~~~~~
    pkcs15-lib.c:1937:11: warning: Value stored to 'aux' during its initialization
          is never read
                    BIGNUM *aux = BN_new();
                            ^     ~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5140 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19343c77e26b24df465e773cb37641b8bb6244f2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 20:25:08 2011 +0000

    Remove dead code
    
    scconf.c:195:2: warning: Value stored to 'ret' is never read
            ret = scconf_put_str(block, option, !value ? "false" : "true");
            ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    scconf.c:585:3: warning: Value stored to 'r' is never read
                    r = 0;
                    ^   ~
    scconf.c:711:3: warning: Value stored to 'r' is never read
                    r = 0;
                    ^   ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5139 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8da1aa8866b23a814e77e6367e77bef4bb095e0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:47:09 2011 +0000

    Fix compiler warning
    
    card-piv.c:2014:7: warning: unused variable 'outp' [-Wunused-variable]
            u8 * outp = out;
                 ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5138 c6295689-39f2-0310-b995-f0e70906c6a9

commit 63c293e9630a6dab62497cd0d430cc29b9bf5477
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:44:56 2011 +0000

    Fix a compiler warning
    
    opensc-explorer.c:1440:22: warning: conversion specifies type 'unsigned int' but
          the argument has type 'size_t' (aka 'unsigned long') [-Wformat]
                    printf("expecting %u, got only %d bytes.\n", len, r);
                                      ~^                         ~~~
                                      %lu
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5137 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b192154d0b2ef777d372f974112058275017bc4
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:42:49 2011 +0000

    Fix compiler warning
    
    pkcs15-westcos.c:247:8: warning: initializing 'char *' with an expression of
          type 'char const [8]' discards qualifiers
            char *name = "WESTCOS";
                  ^      ~~~~~~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5136 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3aee43e96458d814c46662aa480b23aa2b49fb1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:34:29 2011 +0000

    Fix a bug. read(2) returns a signed value. read(2) errors were not detected in
    the previous code.
    
    card-piv.c:833:10: warning: comparison of unsigned expression < 0 is always
          false [-Wsign-compare]
            if (len < 0) {
                ~~~ ^ ~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5135 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ccb540185f3917e91d8adefa27237f04abbfa54
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:20:43 2011 +0000

    Fix compiler warning
    
    ctx.c:56:1: warning: control may reach end of non-void function [-Wreturn-type]
    }
    ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5134 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4459b3df6c230eb927a9dce195a85bdd61429a5b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:16:54 2011 +0000

    Fix compiler warnings
    
    sc.c:406:39: warning: missing field 'usage' initializer
          [-Wmissing-field-initializers]
                    SC_AC_NEVER, SC_AC_KEY_REF_NONE, {{0}}, NULL
                                                        ^
    sc.c:409:38: warning: missing field 'usage' initializer
          [-Wmissing-field-initializers]
                    SC_AC_NONE, SC_AC_KEY_REF_NONE, {{0}}, NULL
                                                       ^
    sc.c:412:41: warning: missing field 'usage' initializer
          [-Wmissing-field-initializers]
                    SC_AC_UNKNOWN, SC_AC_KEY_REF_NONE, {{0}}, NULL
                                                          ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5133 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9811426bc5274ad4f58ab8e3b400244c125ac3ad
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:11:18 2011 +0000

    Fix compiled warnings
    
    card-authentic.c:1770:1: warning: no previous prototype for function
          'authentic_manage_sdo_encode_prvkey' [-Wmissing-prototypes]
    authentic_manage_sdo_encode_prvkey(struct sc_card *card, struct ...
    ^
    card-authentic.c:1832:1: warning: no previous prototype for function
          'authentic_manage_sdo_encode' [-Wmissing-prototypes]
    authentic_manage_sdo_encode(struct sc_card *card, struct ...
    ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5132 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2bd5b1cc65a4f7eb329564ace9dbebe71a08ace
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:05:33 2011 +0000

    Fix compiler warning
    
    pkcs15-pubkey.c:787:5: warning: no previous prototype for function
          'sc_pkcs15_read_der_file' [-Wmissing-prototypes]
    int sc_pkcs15_read_der_file(sc_context_t *ctx, char * filename,
        ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5131 c6295689-39f2-0310-b995-f0e70906c6a9

commit c17eb11d41243daf0ca8b3feb61b168df9c9f3d7
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 17:04:02 2011 +0000

    Fix compiler warning
    
    pkcs15-authentic.c:97:1: warning: no previous prototype for function
          'authentic_reference_to_pkcs15_id' [-Wmissing-prototypes]
    authentic_reference_to_pkcs15_id (unsigned int ref, struct sc_pkcs15_id *id)
    ^
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5130 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65b65e588b2f04166b3f9b969d52dd26a58712fb
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 16:54:28 2011 +0000

    Use & for logical and
    
    pkcs15-asepcos.c:518:23: warning: use of logical && with constant operand; switch to bitwise & or remove constant [-Wconstant-logical-operand]
            *p++ = (fileid >> 8) && 0xff;
                                 ^  ~~~~
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5129 c6295689-39f2-0310-b995-f0e70906c6a9

commit 689ac169d485a99fda361e13600b7c01bb6edbe1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 16:37:11 2011 +0000

    Fix compiler warning
    
    cards.h:215: warning: function declaration isn’t a prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5128 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1adcc611c2545dfcf2b0b426e917b6d901259c75
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 3 21:18:26 2011 +0000

    Add _sc_delete_reader to allow for a single reader to be
    deleted from the ctx->readers list. This will be used
    by cardmod and for consistence by sc_release_context.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5127 c6295689-39f2-0310-b995-f0e70906c6a9

commit d57395173cc2cfda46babadf54a50457c5c458e3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 1 17:32:03 2011 +0000

    EstonianEid: better detection and workaround for the double tag bug with v3.0 cards
    
    See wiki:EstonianEid for the description of known issues with the card.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5126 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13dd0041980bf74d2d94b988d3b8485a4fa355b0
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 27 22:18:16 2011 +0000

    pkcs15.c: Check info->label for NULL before calling strdup(). Avoids segmentation fault in the case where info->label == NULL. Fixes #318.
    
    Thanks lmamane.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5125 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03be5942438957c5ae0cbb3cdb7c7a617b22c5ef
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 27 14:25:35 2011 +0000

    core: Fix PIN caching for PIN codes protecting user consent keys, broken in r4048
    
    Such PIN codes were erroneously cached in memory, even though not used with revalidation..
    User consent relates to private keys, not PIN codes.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5124 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9afbc558835685e001ae90b6011817ea4faa768d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 27 14:25:30 2011 +0000

    pkcs15-tool: check for remaining PIN tries before changing a PIN.
    
    If the card supports it, changing a blocked PIN will result in an error before PIN entry, not when the card re-states that the PIN is already blocked.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5123 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ed93af035d6a6ea31068c1730c5923ff88522cc
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 27 08:43:32 2011 +0000

    Amend and update register of IC manufacturers for itacns
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5122 c6295689-39f2-0310-b995-f0e70906c6a9

commit e033245ad1b41216c7d8c90f76a2a50d452fb7cb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 10:59:20 2011 +0000

    MacInstaller: track Tokend branch in Git based on OpenSC release.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5121 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b04b0c328fc14668e4a6272a5fb761a122d6278
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 22 12:53:09 2011 +0000

    libopensc: calling sc_context_create without parameters is not allowed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5120 c6295689-39f2-0310-b995-f0e70906c6a9

commit dac7b9f7500548d77e2c738b97d4947c75f19717
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 20 13:02:50 2011 +0000

    MiniDriver: MS Visual Studio is identified by _MSC_VER not VISUAL_STUDIO
    
    http://predef.sourceforge.net/precomp.html#sec35
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5119 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c263bd234ceb577d5c0128047403cbb831f6904
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 20 12:58:39 2011 +0000

    MiniDriver: change cardmod.h include style to help building with compilers which don't have cardmod.h registered in the search path.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5118 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c51f4212148887810eef435f3944ecb3bf2a072
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 20 12:58:30 2011 +0000

    MiniDriver: embed the manifest into minidriver DLL
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5117 c6295689-39f2-0310-b995-f0e70906c6a9

commit c44ad2c028f0725751c18d6458d6118f55656578
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 15:06:29 2011 +0000

    MiniDriver: Create cardmod DLL with nmake as well.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5116 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e81e3912b20932d66b25e9c61a9b5465c84a9a7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 14:47:54 2011 +0000

    MyEID: pkcs15init: create all xDF files at the stage of the card initialisation ...
    
    it was discussed in
    http://www.opensc-project.org/pipermail/opensc-devel/2011-January/015620.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5115 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ce28a6adbbcfcc1956cdc224d841a1988686651
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 14:22:57 2011 +0000

    libopensc: initialize 'sc_ef_atr' type variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5114 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fff7a1e91c657462581f1f82dd0aa019cc0096e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 14:16:12 2011 +0000

    pkcs15init: profile: unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5113 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc5ddb7d95b48d773b0185d9600704fc9e372dd4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 08:37:07 2011 +0000

    EstonianEid: add new 2011 card ATR (18.01.2011+)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5112 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7790508f631eca546bc28c274fde0137d3440d5
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 16:31:41 2011 +0000

    pkcs15: when setting object data's path, use, if available, the AID from 'DiscretionaryDataObject'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5111 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47f997983e1379324649655abd58eddf1af8387c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 16:17:15 2011 +0000

    pkcs15: simplify PIN's path assignement
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5110 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04f9c46d159eef8746b67ac1eb4ba930c8638d7b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 16:06:29 2011 +0000

    pkcs15-tool: do not print empty path, print path also when it only has 'aid' member
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5109 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41c00903219be30f87d56db6ccc352f89a2df44a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 16:02:09 2011 +0000

    pkcs15: redesign sc_pkcs15_make_absolute_path() ...
    
    - do nothing if child has 'aid';
    - child inherit the parents's 'aid' if this one exists;
    - child inherit parents's path of type 'DF NAME' as  'aid';
    - return if child path is zero length;
    
    - finaly concatenate parent and child paths.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5108 c6295689-39f2-0310-b995-f0e70906c6a9

commit b560561755a1e9efc40bcb7fb2b55d25928fcd3e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 10:39:08 2011 +0000

    pkcs15init: when deleting object ignore the object data file selection error 'FILE_NOT_FOUND' ...
    
    just update the xDF content.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5107 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ab90b921924285b3db8c81317f323cb68fca2fa
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 09:48:26 2011 +0000

    libopensc: avoid using of the not completely initialized 'sc_path' variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5106 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5405d74d1970416efbe18239e5a8eaee66b7199f
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 04:43:32 2011 +0000

    opensc.conf.in: clean up white spaces
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5105 c6295689-39f2-0310-b995-f0e70906c6a9

commit 752af86f2b5a9064fde1fe9fc1add04d69f85f49
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 21:09:48 2011 +0000

    pkcs15-pin.c: fixes segmentation fault in the case where p15card->app == NULL
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5104 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3efe35d246b9018d2013b2039a99a88e15240107
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 19:00:52 2011 +0000

    libopensc: avoid the using of not completely initialized 'sc_path' variables
    
    to be continued...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5103 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1f7e7b8c8aa17880260a5b5bf81ab19e1ee5c05
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 16:52:04 2011 +0000

    pkcs15init: profile: little fix of the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5102 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2adfa05ac88327f649252c0abba4871da37bff5b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 16:49:56 2011 +0000

    pkcs15init: profile: use short form of the log message call
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5101 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c183b2b380ebfe8755e11e6d9f164de6c599789
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 16:28:44 2011 +0000

    pkcs15init: function to finalize profile when binding to the application of the multi-application PKCS#15 card.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5100 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51ab68db83eb9f11639da6586b858ba05fb209a2
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 16:05:43 2011 +0000

    pkcs15init: profile: redesign 'sc_profile_find_file_by_path()' ...
    
    to take into account the non-zero 'aid' member in the 'path' parameter
    or in the path of the file's instance
    
    also take into account the non-zero 'aid' when getting 'file-id'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5099 c6295689-39f2-0310-b995-f0e70906c6a9

commit c65bc9023be346098e270f81fdb52e9bccd7a674
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 15:51:47 2011 +0000

    pkcs15init: profile: new function 'get_parent' ...
    
    to get profile instance of the parent of some file presented by it's profile name.
    
    ;accept hexadecimal values presented in 'xAB' form;
    ;coding style issues;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5098 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1519cb38a16004356151ec07d140b866b3f1280c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 15:18:11 2011 +0000

    pkcs15init: profile: handles for 'profile-extention' and 'exclusive-aid' ...
    
    'profile-extention' profile parameter used to load from the separate file
    the AID dependent profile part.
    
    'exclusive-aid' profile parameter used to introduce the AID for the DF
    that do not have file-id and that can be selected only by 'DF-NAME' selection.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5097 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35a54b511ca4ab8d4b2717dc0dafc4ee8cef009b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 14:51:10 2011 +0000

    pkcs15init: profile: sc_profile_finish() accept additional parameter 'application info' ...
    
    Each application of the multi-application PKCS#15 card has it's own associated pkcs15init profile file.
    Profile of the multi-application card contains an association between the ID of the on-card application
    and associated profile name.
    
    When sc_profile_finish() is called
     - sc_card is connected,
     - information on the preset on-card applications is available;
     - AID of the applicaition to be binded is known.
    thus allowing to sc_profile_finish() to load the final part of the profile.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5096 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41731ce56f5dd994bafe3e5c89c089b734f8c9ff
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 14:03:01 2011 +0000

    pkcs15init: profile: parse new AC operation types ...
    
    debug messages and some coding style issues
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5095 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c6d3ee9fa27e27fa4e29b527dda43a9cd5d5fcb
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 13:11:21 2011 +0000

    pkcs15: comments and debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5094 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3fdb9f9e71d91def231c041239df428717fed11e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 12:54:15 2011 +0000

    pkcs15: when getting public key data, return 'direct' object value if available
    
    add debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5093 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd670f2dce712ad234f8ac2be96490221f824fc1
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 14 17:12:04 2011 +0000

    pkcs15: initialize 'supported algorithms' in SE data by the ones from tokenInfo
    
    for some cards to prepare security environment for the PSO operation
    card driver may need the value of 'algRef' attribut of tokenInfo.supportedAlgorithm.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5092 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e13c7d0835143901b98306d5d1ac1e794b05969
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 14 09:59:42 2011 +0000

    remove unset sc_pkcs15init_finalize_profile function from libopensc.exports
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5091 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71bfc87282f7820dea18d19fb13feac6b54af22f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 13 15:06:12 2011 +0000

    asn1: spelling of the debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5090 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a8fc564027a759fa08aa99c0c9c10ccfa5bf1bc
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 13 14:05:19 2011 +0000

    pkcs15: add array with supported algos references to the key info data type ...
    
    and imlement API to access it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5089 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66412d6e53cd40a31e25d8120aee6acba6788ad1
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 13 13:59:22 2011 +0000

    asn1: accept long tag ...
    
    According to X.690-0207 ch.8.1.2.4
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5088 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f5ea5b01370baf6a1207dc1e57b3a0069d4991d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 12 17:41:10 2011 +0000

    libopensc: export sc_find_app(), remove debug message, ...
    
    avoid double '::' separator in path_print();
    touch authentic profile file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5087 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c57c899b3f2257798bd7909cdece19ea085832c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 16:50:30 2011 +0000

    pkcs15init: add 'aid' argument to prototype of sc_pkcs15init_erase_card() ...
    
    used to indicate application to erase
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5086 c6295689-39f2-0310-b995-f0e70906c6a9

commit a798b2dc0c92992b132c5dac5642223a01c1443c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 16:40:49 2011 +0000

    pkcd15init: get PIN reference from SE number when verifying 'SE' secret type ...
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5085 c6295689-39f2-0310-b995-f0e70906c6a9

commit 76b0a73a80c286e748f33e14622e02689048d952
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 10:46:09 2011 +0000

    tools: reserve more place for the print path and AID buffer ...
    
    to insert the '::' indicator of 'AID' or 'DF_NAME' path type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5084 c6295689-39f2-0310-b995-f0e70906c6a9

commit 772ab4cefbfb48cb544c0959fe60ef51723b40c4
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 10:29:23 2011 +0000

    libopensc: parse EF.ATR: redefine 'STATUS' macros ...
    
    thanks to Andre Zepezauer for his precious remarks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5083 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56c05c6a6a8d777af1b02eb402eba85034102c8a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 10:19:57 2011 +0000

    pkcs15: asn1: extend DDO with 'ddoAID' and 'ddoIIN' ...
    
    This extension is used by multi-applications cards when EF.ODF with EF.tokenInfo
    and xDF with (secure) data objects are placed in a different applications.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5082 c6295689-39f2-0310-b995-f0e70906c6a9

commit e98dee0092eaf0f2b089f500018f5697ae86c784
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 10:12:42 2011 +0000

    pkcs15: asn1: local PIN should have a path defined ...
    
    if there is no 'path' in the 'PinAttributes', use DDO.AID or application path as a PIN's path.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5081 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1c3191ba198bfba75a1b33b63ea4a672e990434
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 11 10:08:05 2011 +0000

    libopensc: parse EF.DIR: no need to check the presence of mandatory AID after success of ASN1 decoding
    
    use "struct sc_aid"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5080 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f5f0b684a5de79d4f9660f49dc6bef6059c5a23
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 10 14:15:37 2011 +0000

    libopensc: remove non-ISO7816 members from the EF.ATR data, thanks to Andre Zepezauer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5079 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa9ed3add0adee1257d0ca6142a14ce29ec955e2
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 10 10:44:52 2011 +0000

    asn1: invalid detection of AID presence in ASN1 path data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5078 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40cb9c99b849ab3b077e5389d0ad9ec3e802041e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 17:25:09 2011 +0000

    asn1: decode 'extendedPath'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5077 c6295689-39f2-0310-b995-f0e70906c6a9

commit aaa92eeb3de8a8ff1569bfb8d88d4b873730e1b8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 17:23:10 2011 +0000

    libopensc: adapt 'make_absolute_path' to the path with valid 'aid' member ...
    
    use make_absolute_path() to compose path to 'ODF' and 'tokenInfo'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5076 c6295689-39f2-0310-b995-f0e70906c6a9

commit a808379756de0dee41db51e6ff1ec0f125c8c125
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 17:17:01 2011 +0000

    libopensc: when printing 'path', print also the value of 'aid' if available.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5075 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0fefb0b07842e54da740418908d9da99f842e53c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 17:13:14 2011 +0000

    pkcs15-tool: do not print non-relevant to the 'list-applications' context information
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5074 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ab8018781bab426c99ca6be4e54ed0dd47ff768
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 10:42:40 2011 +0000

    iso7816: use already defined local variable 'ctx' instead of 'card->ctx'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5073 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75c1254e22cee73dfc43ffd762dda9d84a55c30b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 10:17:16 2011 +0000

    Initial modifications to support OpenPGP v2.0 (CryptoStick)
     * Correct naming: openpgp not opengpg
     * Set the card name from ATR table
     * Add card type enums
     * Currently OpenPGP is read-only.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5072 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d5c76d3d1b6472c2e328ba86f6eab2d606e7724
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 10:17:08 2011 +0000

    iso7816: Don't translate a returned FCP template from SELECT FILE to "unknown data received"
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5071 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b47d90dafcf0a604cbf3b69ed2662c1153be492
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 10:02:43 2011 +0000

    libopensc: to be compiled with Visual Studio
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5070 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2244d0c96f80fc51ed01ba96dbc9166784f2ec09
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 09:32:34 2011 +0000

    libopensc: procedure to log the card's cache
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5069 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ee55a38b328edb9780274c3873969b2ca327a6d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 09:29:39 2011 +0000

    libopensc: extend DDO data type with the parsed 'aid', 'oid' and 'iid' members
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5068 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2d885fe34ab5e88d265b439e92f4d9d54c3b49b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 09:25:22 2011 +0000

    libopensc: extend serial number to the ISO/IEC 7812 PAN definition
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5067 c6295689-39f2-0310-b995-f0e70906c6a9

commit f304fed517659d4c7e853294a975e63f8834415e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 09:13:47 2011 +0000

    libopensc: add 'crts' array to 'struct sc_acl_entry' ...
    
    For some cards the acl bytes, retrived from 'select' response, can reference
    a SE (and not directly PIN).
    In such case, to proceed an authentication for the card operation
    the information about the SE's CRTs is needed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5066 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f2c96863a0f6b4876a1d498ba200800fbeebac9
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 08:51:55 2011 +0000

    libopensc: do not return 'SUCCESS' if EF.ATR do not exist ...
    
    debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5065 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a7f8a2d6071216174a64d5a503ff70d90b05bb3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 08:49:15 2011 +0000

    libopensc: initialize 'sc_path' type variables ...
    
    it's needed to initialize the 'aid' member of 'struct sc_path'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5064 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42fbe85a5259667f1662719d89ec675c45f0a6f5
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 08:31:06 2011 +0000

    libopensc: use 'calloc' to allocate application info ...
    
    remove unused variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5063 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca382fd93bd7b2d073577dabdf6e9f420f0ac673
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 08:28:38 2011 +0000

    iso7816: accept 'FCP' tag when processing FCI
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5062 c6295689-39f2-0310-b995-f0e70906c6a9

commit a57658270121d8e1e0bd2d0803fa9924eb9b05ef
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 17:18:58 2011 +0000

    libioensc: use 'struct sc_atr' instead of 'u8 *atr, size_t atr_len'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5061 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb4f283c6a6773c7d6ba1c98106cb24c06e8fc69
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 16:09:39 2011 +0000

    pkcs15: do not call sc_parse_ef_atr() ...
    
    it should be called in the 'init' handle of the card driver
    when EF.ATR is present
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5060 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf4aa793af8bdbeca37af02bdb7614ababe7cad4
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 15:49:10 2011 +0000

    libopensc: parse content of the EF(ATR) file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5059 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65cd4562562a47b8157b5f78ca2513b612d99022
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 15:47:58 2011 +0000

    opensc-explorer: print raw content of 'CONTEXT' tag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5058 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb5b1413914a9a138ebccf61c21ebcc483b3f60b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 15:44:13 2011 +0000

    pkcs15: remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5057 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82adc9361e223fa6de967663d139a5ed0671140d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 13:31:30 2011 +0000

    pkcs15: in sc_pkcs15_card include the pointer to the application that the card was binded to
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5056 c6295689-39f2-0310-b995-f0e70906c6a9

commit e600a1e0ace1d1f06cc36a5f9720868e47d7482c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 09:00:39 2011 +0000

    opensc-explorer: in 'asn1' command print raw content of the ASN1_APPLICATION data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5055 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6af2bc07c3aaf4b66c353622db5a8181f778bc5c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 08:55:12 2011 +0000

    PC/SC: don't try to use SCARD_SHARE_DIRECT if there is a card in the reader. This can confuse some card/reader combos.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5054 c6295689-39f2-0310-b995-f0e70906c6a9

commit bbcc78046071c7eca90a185047a451213c7bc633
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 08:50:41 2011 +0000

    pkcs15-tool: in help message move 'list-applications' action to the head of the actions group
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5053 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f0b83eecd9402def16a8b47440e34d3381294c6
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 6 16:21:15 2011 +0000

    pkcs15-tool: new action 'list-applications'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5052 c6295689-39f2-0310-b995-f0e70906c6a9

commit 209224816a7a71314ad899c918ba630fb88e3496
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 6 16:16:24 2011 +0000

    libopensc: introduce TLV and LV data type, use it to store DDO data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5051 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9e25370ab4517c8bec329cf4a16d09a6aad2bcd
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 6 14:39:19 2011 +0000

    tools: use 'aid' as the name of option to specify the on-card PKCS#15 application
    
    ; update documentation;
    ; debug messages;
    ; cleanup the authentic card profile.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5050 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2dc077c591c74e825fdcbab9af90b8063f53ea7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 16:04:15 2011 +0000

    pkcs15init: use short debug message call
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5049 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0761a61a65403efd86f560341c5f1448c2f6b8a6
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 15:42:36 2011 +0000

    libopensc: use 'struct sc_aid' instead of 'u8 *aid, size_t aid_len'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5048 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0611b6260fe6fd30193251a93071b34ee37092ae
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 15:39:43 2011 +0000

    libopensc: add 'sc_aid' member to 'sc_path' ...
    
    not all application DF have and can be selected by its file-id.
    So, new member in 'sc_path' will help to describe the full path to some EF(DF) inside a card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5047 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d81ffcea673f4892bfb908371ffb8e4ea942268
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 15:22:12 2011 +0000

    pkcs15-tool: new 'bind-to-aid' argument ...
    
    to indicate application to bind when more then one on-card application detected
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5046 c6295689-39f2-0310-b995-f0e70906c6a9

commit 121260b84620f3b04fda162cfaeebe2b5ec67c92
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 14:53:52 2011 +0000

    pkcs15: some changes to the discovery on-card applications code ...
    
    ; 'known' pkcs#15 applications are moved to the head of the card applications array;
    ; card specific 'bind finalization' code moved to the dedicated procedures;
    ; remove unused sc_application member, procedures;
    ; remove commented code;
    ; add debug messages;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5045 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffcc58baf35062f62614ba44648012abb271496e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 14:33:32 2011 +0000

    pkcs15init: debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5044 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a14e97794db41d0d891786c77244a95bad468b8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 14:32:38 2011 +0000

    cardmon: 'bind' prototype has been changed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5043 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4914b022d10f3128a59e210cbeac613036cd985c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 14:29:49 2011 +0000

    pkcs15-tool: new 'bind-to-aid' argument ...
    
    indicate application to bind when multi-application card is used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5042 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2924672d83fd625f13a2e5ed6cec940d0085369
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 5 14:21:04 2011 +0000

    pkcs15: add 'aid' parameter to the prototype of the 'bind' functions ...
    
    prepare for the multi-application support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5041 c6295689-39f2-0310-b995-f0e70906c6a9

commit 103af724fee340af83e9c1eac7c64b49eaffe1c9
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 4 11:33:03 2011 +0000

    liopensc: log: use 'normal' as default debug level ...
    
    and make shorter short call to insert debug message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5040 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a2e88ce4d3517ebca0655b7c8613aafebacbfd1
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 4 10:52:50 2011 +0000

    AuthentIC: remove unused members of the SDO structure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5039 c6295689-39f2-0310-b995-f0e70906c6a9

commit 392e6eff98b6cafe268017c8cc2ccb0a4dae5182
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 4 09:19:09 2011 +0000

    AuthentIC: use short form to insert 'normal' debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5038 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf7c9fd7262886c5ec6a3572035e22ef202b44cf
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 4 09:17:37 2011 +0000

    libopensc: log: short form to insert 'normal' debug message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5037 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b7585480cb8a25557a20941111fc6331a24c982
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 16:20:19 2011 +0000

    openssl.c: Fixes comparsion between signed and unsigned
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5036 c6295689-39f2-0310-b995-f0e70906c6a9

commit be3e50aa9654bf4743211c254c38592648b9054b
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 15:10:18 2011 +0000

    framework-pkcs15.c: Fixes two warnings:
    
    1 x comparsion between signed und unsigned
    1 x unused parameter 'flags'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5035 c6295689-39f2-0310-b995-f0e70906c6a9

commit 84b93e409988b6749d4df4266a27096f9ecaad34
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 09:55:14 2011 +0000

    Oberthur: replace 'SC_ERROR_MEMORY_FAILURE' return code by the 'SC_ERROR_OUT_OF_MEMORY'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5034 c6295689-39f2-0310-b995-f0e70906c6a9

commit df92ba16841adc888e2658b661ebfd5cffcce5e8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 09:45:51 2011 +0000

    pkcs15init: when deleting file by path, try to get 'DELETE' authentication of the file itself ...
    
    then 'DELETE' authentication of parent
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5033 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fbe00862381f7b2bd5c974cff926c5271c94cff
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 09:44:10 2011 +0000

    pkcs15init: more of debug messages in profile.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5032 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89d47696dd0898b4aea4abd3b9ad587c7e59e28c
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 16:26:41 2011 +0000

    AuthentIC: remove unused macros, code layout
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5031 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8f38e7d8606e9569618d6a3cc98cb53cce1ea09
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 15:05:42 2011 +0000

    Reject creating files bigger than 64K.
    
    Most smart cards currently have only 64K or 128K of EEPROM. This will give better errors earlier for people trying to import huge keyfiles with TrueCrypt.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5030 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0056eeb34c1c2a8f70efb82314496b6dbee8c9cc
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 15:01:03 2011 +0000

    AuthentIC: memory allocation errors, thanks to Martin
    
    for memory allocation errors use SC_ERROR_OUT_MEMORY instead of SC_ERROR_MEMORY_FAILURE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5029 c6295689-39f2-0310-b995-f0e70906c6a9

commit 898b62bf5615de6133f709e7e2df269cb3dcd986
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:32:11 2011 +0000

    libopensc: more of debug messages, code layout
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5028 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b618ab144671d1e0c3764447a094e3b08ad5c82
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:31:35 2011 +0000

    pkcs15-init: AuthentIC: user PIN reference in card profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5027 c6295689-39f2-0310-b995-f0e70906c6a9

commit c7422df6b53d03f5ecdd4d1155bebebc9454cee2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:31:15 2011 +0000

    opensc-tool: make --list-algorithms know about GOST keys
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5026 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae9854d7bc7517ed489ce2f85e31d2bd87339c29
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:27:42 2011 +0000

    pkcs15-init: profile: instantiate 'BSO' file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5025 c6295689-39f2-0310-b995-f0e70906c6a9

commit 971d643a0aa1f637c08871ae7dc286ea22548f3b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:25:48 2011 +0000

    libopensc: encode/decode 'direct' public key value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5024 c6295689-39f2-0310-b995-f0e70906c6a9

commit d45fb4ca1bdd1bbc1b925a539c058e77a13009c0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:22:38 2011 +0000

    libopensc: set 'enumerated' flag for xDF if corresponding EF file was successfully read ...
    
    it's an extention of r4983, that was not properly working for the existing but empty xDF files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5023 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b5bc9900c7d5457d22757e5594d3c5c51e3c75a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:14:24 2011 +0000

    libopensc: asn1: allow empty path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5022 c6295689-39f2-0310-b995-f0e70906c6a9

commit aec6e175f5164a9d3d87d8bd1419990ac5ffd1e8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:11:00 2011 +0000

    AuthentIC: read/write/update binary card handles can use the 'WAITING-AREA' reader facility ...
    
    when used with virtual reader, the APDUs can be buffered in the reader's
    internal buffer, before sending it to the distant card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5021 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6cc1134fac1e692f13c90ac299d713bde28252d0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 14:02:47 2011 +0000

    pkcs15-init: 'PSO-*' ACL names in profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5020 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7c75182a1c14b403408f92f3be91a378c52e97a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 13:55:03 2011 +0000

    pkcs15-init: no more 'SPLIT-KEY' flag ...
    
    more of debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5019 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e18e0838d4a842571a8573a7020278304e1823f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 12:55:10 2011 +0000

    Fix compiler warning
    
    util.c: In function ‘util_getpass’:
    util.c:348: warning: comparison between signed and unsigned
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5018 c6295689-39f2-0310-b995-f0e70906c6a9

commit f10d2908a55c9bfe039f33180b4bb49a1a2b4ec1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 12:55:03 2011 +0000

    opensc-tool: combined with --verbose, --list-readers will show tha ATR and name of the card, together with extra reader flags
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5017 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16726a55b5a8380ff227d0aed1dabdbf941f0fcd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 12:54:57 2011 +0000

    tools: allow to specify an ATR in the --reader option.
    
    This facilitates automated testing on a single machine with several identical readers with inserted cards.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5016 c6295689-39f2-0310-b995-f0e70906c6a9

commit c911c2ffebd12dab44abe9fffd12ebf8192c78cd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 12:54:51 2011 +0000

    PC/SC: add additional flags to indicate readers which are in use and readers which are in exclusive mode.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5015 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1d64f9dfed286fa3d641560f0da655cdeb26b9e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 2 12:54:44 2011 +0000

    AktivRutokenECP: make opensc-tool -n show the actual token name, based on ATR
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5014 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83453633b724c5d1bd4b1cf7d33a7f4dd01aed88
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 31 11:09:21 2010 +0000

    libopensc: remove '\n' from the debug message ...
    
    'sc_do_log_va' takes care of line ending
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5013 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6aaf1a79e3e651e034a211e96ff997f2646a9f60
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 31 10:52:15 2010 +0000

    AuthentIC: cleanup dead code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5012 c6295689-39f2-0310-b995-f0e70906c6a9

commit 682c464540478cb77672c7ab8563bcb82f8c9833
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 31 08:54:07 2010 +0000

    AuthentIC: "now there is no way to build without OpenSSL" (Andre Zepezauer)
    
    Thanks for patch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5011 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7743f6944a8b360077e51dc27e39f6bacbcdf045
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 31 00:50:30 2010 +0000

    opensc-explorer.c: Fixes usage of size_t variables. According to ANSI C the type of size_t is always an unsigned type.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5010 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5481e61dadbacbff67157635509f086c929df558
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 31 00:00:00 2010 +0000

    cardos-tool.c: According to ANSI C the type of size_t is always an unsigned type.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5009 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dce2e08d4753a7caade6088a6372e9924dabe25
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 15:10:06 2010 +0000

    WindowsInstaller: generate OpenSC.iss with autotools
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5008 c6295689-39f2-0310-b995-f0e70906c6a9

commit d644441f5c1e64b49a2ef01d846ef5e789eabd84
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 14:42:30 2010 +0000

    AuthentIC:  add profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5007 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a58c429cbed13bed30e561896e747e3051a6d15
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 14:40:28 2010 +0000

    'AuthentIC': basic support of Oberthur's 'COSMO.v7/AuthentIC.v3.2' ...
    
    it's the natively PKCS#15 card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5006 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b270205cce824615ca7128e820ebac2bb51c040
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 13:25:09 2010 +0000

    libopensc: API for the 'erase-binary' card operation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5005 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee907b7a698041d0921a208de77bb359fbbc305b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 13:20:19 2010 +0000

    libopensc: add new authentication methods, add ACLs to PIN info, ...
    
    add 'next' member to 'sc_apdu' structure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5004 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2804395cf4bd1c62a812822de15a2e380e15a81e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 13:10:28 2010 +0000

    libopensc: revert erroneous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5003 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92c3e59e16131bbedff1d257f304fc070820b997
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 13:04:55 2010 +0000

    libopensc: Now 'cache-valid' flag is a member of 'sc_card_cache' ...
    
    add 'current_ef' and 'current_df' member to 'sc_card_cache'.
    The main purpose of this is to reduce number of APDU transactions.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5002 c6295689-39f2-0310-b995-f0e70906c6a9

commit 891f98363be6fc0185579c287c7564623bcdbaed
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 12:50:35 2010 +0000

    pkcs15init: new 'emulation-store-data' operation ...
    
    the first usage is to update the public key PKCS#15 object attributes
    and to encode it's direct value.
    (support of the Oberthur's AuthentIC V3.2 card)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5001 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a9e4b1ca68af405f2d3396253716542df26658d
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 30 12:29:29 2010 +0000

    pkcs15-tool: minor change of the private key info layout
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5000 c6295689-39f2-0310-b995-f0e70906c6a9

commit f694bbf597b3d61a23ad96f8ecdc97e6458fc811
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 29 10:45:08 2010 +0000

    libopensc: correctly use HAVE_MALLOC_H to include malloc.h
    
    See http://www.freebsd.org/cgi/cvsweb.cgi/ports/security/opensc/files/patch-src_libopensc_card-piv.c#rev1.1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4999 c6295689-39f2-0310-b995-f0e70906c6a9

commit abcdb86c4ef93bd664f07c58eef499c1c6b626c3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 29 10:45:01 2010 +0000

    Fix #302: in C_Logout silently ignore missing card specific logout hooks.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4998 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33a67cac5bd8f85f4e81d2e679e11ee016bbe68d
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 22 21:45:43 2010 +0000

    pkcs15.c: Fixes a bug that occurs in the situation where a PKCS15 EF contains partially invalid data. I.e. the last object in the EF is broken and thus can't be decoded successfully. In that case the whole EF becomes never flagged as enumerated. This in turn results in endless processing of that EF. Thereby the first valid objects became attached to the internal obj_list over and over again.
    
    That patch prevents the repeated attachment of objects to obj_list, because it marks an EF as enumerated as soon the first object was successfully appended.
    
    Left over from #266.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4983 c6295689-39f2-0310-b995-f0e70906c6a9

commit c514da444ea82d7ca03c864259cd11c0c383ec2a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 22 17:42:41 2010 +0000

    Move towards 0.12.1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4982 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72c0474dde3602f99599aa3b59ca3d83c25f9bf1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 22 17:12:11 2010 +0000

    Prepare for 0.12.0
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4980 c6295689-39f2-0310-b995-f0e70906c6a9

commit 791cbd7f53ad2157aa93afac77c175182c5b02f4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 20 08:57:07 2010 +0000

    Fix r4977: C89 style to support MS Visual Studio
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4979 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab40e70e04794923d6e83a89a86e3d257671c7ca
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 19 11:18:43 2010 +0000

    Wrong structure size calculation in pkcs15-itacns.c; thanks to Matteo Nastasi for the heads-up.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4978 c6295689-39f2-0310-b995-f0e70906c6a9

commit c14831eebdc03985c15c416ae1a0f8adddbcaf9a
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 19 11:18:40 2010 +0000

    Modified patch for Actalis smart cards. Closes #235.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4977 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02c4f1ec770fcd05094784305a2877f2791cb0c2
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 18 00:44:12 2010 +0000

    pkcs11-tool.c: Avoid compiler warning 'may be used uninitialized in this function'.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4968 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7fad04e10e9266e901fefe0385cfced08d89eee
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 23:02:03 2010 +0000

    pkcs11-tool.c: Simplifies interface to show_key() and avoids more compiler warnings.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4967 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30bf0f17a84ba76d444b0c5b6e55ac3894bd6c20
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 19:09:24 2010 +0000

    pkcs11-object.c: Add missing initializers.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4966 c6295689-39f2-0310-b995-f0e70906c6a9

commit b58592d29761a323f07730e6ba82525a9db7a697
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 18:47:41 2010 +0000

    mechanism.c: Removal of unused variables.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4965 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a5c0aea24e900197d26de5cb106259ce847473d
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 17:54:07 2010 +0000

    framework-pkcs15.c: Avoid some warnings if the macro USE_PKCS15_INIT is undefined. That is always the case if build without OpenSSL.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4964 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf28607dd30be57279519da66a255cbb7cdd07db
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 17:12:22 2010 +0000

    More ENABLE_OPENSSL changes so sc_pkcs11_register_sign_and_hash_mechanism
    will not fail.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4963 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82824402f4526792a88c10b0f0fc7b6d641d3111
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 16:30:12 2010 +0000

    framework-pkcs15init.c: Add missing initializers.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4962 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f32e7a0794e09a30fff2eb5402faeae2575dee5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 17 10:15:11 2010 +0000

    Build 0.12.0-rc2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4961 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50567141f028f319ed3eabb7f783cc5a13498c97
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 16 05:04:37 2010 +0000

    Rename of SC_NO_ERROR to SC_SUCCESS.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4954 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b10272caabcf69a46c4ecd194e4d695596fc1b4
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 16 03:56:49 2010 +0000

    framework-pkcs15.c: More specific log messages. Enables better tracking of errors.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4953 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c6afb6bed6fcd5cfc19390878116337cbf04657
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 16 01:47:03 2010 +0000

    Add missing initializers. Left over from r4508.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4952 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9acbf9073db7f48d96d479ca9839c34d6a1122a
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 13:47:58 2010 +0000

    pkcs15.h: Fixing type of parameter to avoid compiler warning: 'comparison between signed and unsigned'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4951 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83f393ff0d579db33254982bfe60486504ca35cb
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 14 03:16:37 2010 +0000

    opensc.conf: Better wording of comments on max_x_size.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4950 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8defdf9aeda9987476823d33832a6eb46f321049
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 14 03:11:31 2010 +0000

    pkcs15-algo.c: Just making the compiler happy.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4949 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3cfe542813ff9aae7ca9249247484b0d690dee71
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 14 03:08:17 2010 +0000

    Textual output of SC_ERROR_* return codes in debug messages.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4948 c6295689-39f2-0310-b995-f0e70906c6a9

commit eeee3f926fffcc55d77ad1cb62a3fdbe047f18d9
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 14 01:30:03 2010 +0000

    opensc.conf: Lower the level of emphasise on the max_x_size options. Users with USB devices really shouldn't care about them.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4947 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b030f5d735e3d9e4d002ad67f9dcba223682802
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 14 01:19:46 2010 +0000

    pkcs11-pubkey.c: Minor corrections related to r4874 and r4902.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4946 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2eca7061b4ff747634dc40b0c991902c4fc38f5d
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 14 01:09:44 2010 +0000

    iso7816.c: Fixes #301.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4945 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05137b7cc181105c1ad938bb3a317332fdd4b182
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 13 14:14:37 2010 +0000

    MacInstaller: add the build date to the DMG label.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4944 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1293c372d96cb89144d353afc7ae2c9d6d80dbc
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 13 06:28:37 2010 +0000

    pkcs11-display: Fixing some type mismatches that the compiler complains about.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4943 c6295689-39f2-0310-b995-f0e70906c6a9

commit c8c291ea079835ab935ac1f9ae4c49566fd99a1b
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 13:17:17 2010 +0000

    win32: build of MSI on checkouted trunk ...
    
    is possible after 'bootstrap' and 'configure'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4942 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26df6abcd92ca23f16cc93424a2cc26f81ea14b0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 11:40:42 2010 +0000

    win32: default install dir 'Program Files\OpenSC Project\OpenSC'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4941 c6295689-39f2-0310-b995-f0e70906c6a9

commit 795dbf0342c245362eed5547e17fef923d763054
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 10:30:07 2010 +0000

    win32: change path to the OpenSC registry keys
    
    Now it begins with "SOFTWARE\\OpenSC Project\\..." .
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4940 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5cc8814e301d747b9326d6a7884f8fd7e3064875
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 11 22:07:07 2010 +0000

    EstonianEid: Add SC_ALGORITHM_RSA_RAW to not make sc_pkcs15_compute_signature remove the DigestInfo header.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4939 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1287e3ff2b851bec64eff1e73f468fc8c316728
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 19:52:56 2010 +0000

    log.c: Fixes format string to match actual type.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4938 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35fd3c10c12d4ba6fe5355e482e77c04faf7bc79
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 19:49:42 2010 +0000

    pkcs15.c: Use size_t as type of vector-index.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4937 c6295689-39f2-0310-b995-f0e70906c6a9

commit af8e8dc815ac1fe7ba939df922d31ca02de345b0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 09:38:10 2010 +0000

    win32: path to OpenSC registry keys have been changed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4936 c6295689-39f2-0310-b995-f0e70906c6a9

commit e259021d36bc03bcd676b0b7b750b730856b6172
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 09:23:21 2010 +0000

    win32: change path to OpenSC windows registers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4935 c6295689-39f2-0310-b995-f0e70906c6a9

commit aed53df545940179997c4942ff6c478381801342
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 09:21:57 2010 +0000

    win32: test 'BUILD_MSI' condition and build MSI
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4934 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2aa034d467ebcbd73cb0672f3c8b9b37087b270a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 09:17:08 2010 +0000

    libopensc: avoid warning 'not all control paths return a value'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4933 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad60428d099c3d7e25952ab5a404710d671e8f3f
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 09:16:03 2010 +0000

    win32: build MSI
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4932 c6295689-39f2-0310-b995-f0e70906c6a9

commit d66b3c71d2391d61a101ac00695b96112d908138
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 08:23:14 2010 +0000

    fix: implicit depending on the RSA algo_info for GOSTR3410 algo
    
    add sc_card_find_gostr3410_alg function
    
    Thanks to Douglas E. Engert
    http://www.opensc-project.org/pipermail/opensc-devel/2010-December/015408.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4931 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0dba0368379ed59df0a19b27239ac85529d88cba
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 07:23:10 2010 +0000

    add to r4904: fix calculating of signature size for CKK_GOSTR3410
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4930 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f1b3a22883469c6369799e404810520d9613fec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 8 08:56:12 2010 +0000

    Fix [4911]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4929 c6295689-39f2-0310-b995-f0e70906c6a9

commit 559e4f3dc41724a987c638530079b41a98363e94
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 8 03:31:07 2010 +0000

    framework-pkcs15 [pkcs15_logout]: Better propagation of errors
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4928 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b69b39c337a014f5482c24b68e4f50cd405573c
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 18:59:49 2010 +0000

    sc_pkcs15_pincache_revalidate: Avoid compiler warning 'discards qualifiers from pointer target type'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4927 c6295689-39f2-0310-b995-f0e70906c6a9

commit de6021d6f2d59af80c10cde4ce5807161d132053
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 18:51:23 2010 +0000

    compat_strlcat: Avoid compiler warning 'no newline at end of file'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4926 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5e21e0ba068531dd2d0f0a2d001b062a5203f40
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 18:35:43 2010 +0000

    Complete change, SIMCLIST_DUMPRESTORE is by default off.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4925 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea4ddf8f17437070fcd9fd2bfdce09038a7cb8f9
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 18:33:17 2010 +0000

    pkcs15-pin: If the usage counter of a cached PIN is expired, then free that cached PIN instead of freeing the objects content that is protected by the PIN.
    
    If re-validation of a cached PIN fails, then free that cached PIN to ensure that it isn't used again for re-validation.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4924 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b270b8d27a3ca3fceb222491265117f872c8bda
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 18:15:12 2010 +0000

    pkcs15.c: use int instead of bool as type of configuration option pin_cache_counter
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4923 c6295689-39f2-0310-b995-f0e70906c6a9

commit 548630971e88b942f6b4e552c1b7b2b815fa0fd8
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 16:28:26 2010 +0000

    pkcs11-tool: replaced OPENSSL_NO_EDSA with OPENSSL_NO_ECDSA
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4922 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7754073275dc87551777d95461faa789941e9ad
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 15:49:49 2010 +0000

    win32: when cleaning delete also manifest files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4921 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04c5cb955b2807da625a2c005bbaaf70510f4ced
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 15:47:03 2010 +0000

    win32: control from Make.rules.mak the including of 'cardmod'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4920 c6295689-39f2-0310-b995-f0e70906c6a9

commit e353c1bf2ff0c7bb2d13b4bb5df39622b442c5a8
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 15:20:19 2010 +0000

    win32: 'netkey' and 'westcos' tools are OpenSSL dependents
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4919 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5f329ba7cee84029a9e44e836daac720d8cf104
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 14:41:15 2010 +0000

    tools: EC(DSA) requires OpenSSL >= 0.9.8.
    
    This fixes building for OS X 10.5.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4918 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c2cbeec13fa8240df25977ffe878dfe58248d51
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 14:18:42 2010 +0000

    card-piv: remove unused variables.
    
    card-piv.c: In function ‘piv_get_data’:
    card-piv.c:879: warning: unused variable ‘filename’
    card-piv.c:878: warning: unused variable ‘dataenvname’
    card-piv.c:877: warning: unused variable ‘keyenvname’
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4917 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98d2d6db39a3b541cb3416f3cb9f69a0f804101e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 14:18:35 2010 +0000

    PIV: amend [4908], Apple has /usr/include/malloc/malloc.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4916 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb5871645b93aaffbd5370a748bb56b9e1097cff
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 12:52:27 2010 +0000

    entersafe: don't list supported exponents in the dirver.
    
    Native keys are generated with exponent 65537, imported keys can now have any (?) exponent.
    Tested with openssl genrsa -3/-f4 keys.
    
    Improves r4910 and closes #297
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4915 c6295689-39f2-0310-b995-f0e70906c6a9

commit a92f3a80d5068f378ef9543eb8b91cb6c2dc91c7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 12:52:20 2010 +0000

    EstonianEid: limit authentication key usage bits.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4914 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fe86d16fe55a3f06bd04e3ef0c2f1a45c88a8d3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 12:52:14 2010 +0000

    libopensc: protect for possible buffer overflows from rogue cards.
    
    Reported by Rafael Dominguez Vega
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4913 c6295689-39f2-0310-b995-f0e70906c6a9

commit 37944007aa17156b8503ff9edda3f0b3bae5862c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 12:52:07 2010 +0000

    libopensc: move MIN/MAX macros from muscle.c to internal.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4912 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd996245b9d099bd9393f85b7322ab2230f3770e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 12:51:59 2010 +0000

    EstonianEid: correctly free the used OpenSSL structures.
    
    Thanks to Raul Metsma for the patch.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4911 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a736c0ac61962b3fece4d1e99396d680c774600
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 09:37:23 2010 +0000

    entersafe_init(): add support of RSA exponent 35
    
    Closes: Ticket #297
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4910 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31a33d0b1e77b79efcda5687458b45ee25d57f60
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 08:31:59 2010 +0000

    win32: _PATH_MAX not defined when compiling with VS ...
    
    use instead the standard FILENAME_MAX
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4909 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0bf12aa1f4b584f803bab9981d6431be68ba13ee
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 6 08:30:00 2010 +0000

    card-piv: avoid warning 'differs in levels of indirection from' ...
    when compiling with VS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4908 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3cfcb5cdc6f6b1f6fcbede5d4b07b022c5885ebf
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 3 15:44:29 2010 +0000

    Minor corrections to r4906
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4907 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7f453703140730944cc6fbb523399f4ea95771f
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 3 15:15:29 2010 +0000

    Test for OPENSSL_NO_EC as some systems build OPENSSL without EC.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4906 c6295689-39f2-0310-b995-f0e70906c6a9

commit 471e43c7cb8148a1cad8eb8f564a20ab6a7a6efb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 2 08:59:26 2010 +0000

    simclist: build with mingw32, Visual Studio and gcc on Linux. By default dumprestore is OFF.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4905 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2fe4609a919eec756d7ef18af68c660fc2fa409
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 1 20:08:42 2010 +0000

    Modifications to support EC and ECDSA for
    emulated cards. True PKCS#15 cards with EC
    will need additional changes.
    
    Main changes are in framework-pkcs15.c, mechanism.c,
    padding.c, pkcs15-algo.c and pkcs15-sec.c
    where switch statements for key type, and testing
    of flags was modified to make it easier to add
    additional key types in the future.
    
    The code was tested using RSA and ECDSA using a PIV card
    from pkcs11-tool, OpenSSL and Thunderbird with
    modifications to NSS-3.12.7 to get ECDSA to sign e-mail.
    
    Only named curves are supported for ECDSA, ECDH is still
    needed. pkcs11-tool has only minimal changes need to work
    with the -O option to list EC keys.
    
    One additional line was added to pkcs15-sec.c which
    should get GOSTR sign to work.
    
    libp11 and engine do not yet have EC support.
    
     --This line, and those below, will be ignored--
    
    M    src/tools/piv-tool.c
    M    src/tools/pkcs11-tool.c
    M    src/pkcs11/framework-pkcs15.c
    M    src/pkcs11/mechanism.c
    M    src/pkcs11/pkcs11-object.c
    M    src/libopensc/pkcs15-prkey.c
    M    src/libopensc/card-piv.c
    M    src/libopensc/padding.c
    M    src/libopensc/cardctl.h
    M    src/libopensc/pkcs15-algo.c
    M    src/libopensc/libopensc.exports
    M    src/libopensc/pkcs15-piv.c
    M    src/libopensc/pkcs15-sec.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4904 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2bd16ecd07adf99acd8c4abe492b6aa985992fe
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 19:30:03 2010 +0000

    Additional EC routines  _sc_card_add_ec_alg and sc_card_find_ec_alg
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4903 c6295689-39f2-0310-b995-f0e70906c6a9

commit c34caeb6625fe80550b22f8e5740f9d8a6f198da
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 19:13:48 2010 +0000

    Support for ECC keys (part 1) header files and
    support routines. Add definitions for EC keys,
    parameters and extensions to structures.
    Add the sc_card_find_ec_alg, sc_pkcs15_decode_pubkey_ec,
    sc_pkcs15_encode_pubkey_ec, sc_pkcs15emu_add_ec_prkey,
    sc_pkcs15emu_add_ec_pubkey routines.
    Only EC named curves are currently supported.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4902 c6295689-39f2-0310-b995-f0e70906c6a9

commit 137a7282ad78f6669b983ec64c8b818d4662be96
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 15:57:01 2010 +0000

    Allow emulation routine to setup an emulated object
    to be used instead of trying to read a file.
    This will be used  with the ECC code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4901 c6295689-39f2-0310-b995-f0e70906c6a9

commit e642436fc67e66ea748e100a01499b959a08367b
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 15:32:58 2010 +0000

    SPY does not process CKA_ALWAYS_AUTHENTICATE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4900 c6295689-39f2-0310-b995-f0e70906c6a9

commit c16179f75abf6a0ffe1058e4f8903176620f6147
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 12:33:24 2010 +0000

    EstonianEid: Don't leak 1024bit key to 2048b card properties
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4899 c6295689-39f2-0310-b995-f0e70906c6a9

commit 185d46f3c9a11587750ed9e4e3efa8c723473cb8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 12:33:04 2010 +0000

    simclist: Visual studio does not have unistd.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4898 c6295689-39f2-0310-b995-f0e70906c6a9

commit 424ef32dfc4dab25adf90bd253d5778779a56c09
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 11:22:38 2010 +0000

    libopensc: fix building new simclist with mingw
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4897 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ab591a6840f7017d673300a5262305e0ee2d1e0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 11:22:31 2010 +0000

    libopensc: make sc_reset() take an additional parameter "do_cold_reset" which will unpower the card.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4896 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d9c02b197e1d7d56f73a5fb4f1eb5045bd3524d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 14:22:15 2010 +0000

    ISO 7816: if decrypting with 2048 keys, non-extended APDU cards require command chaining (Lc would be 257, which is 2 bytes over 255 limit)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4895 c6295689-39f2-0310-b995-f0e70906c6a9

commit b33a44fdf0adbf4fda5c951f8002042d51fc5ac0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 14:22:09 2010 +0000

    pkcs11: clean up mechanism registration
     * check for out of memory conditions
     * register SHA256 as well
     * key generation depends on onboard key generation capabilities, not OpenSSL
    
    Further adjustments are needed.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4894 c6295689-39f2-0310-b995-f0e70906c6a9

commit 113dfda49403655abb8285a984b46a9396544bdf
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 14:22:01 2010 +0000

    EstEID: add support for v 3.0 cards with 2048b keys
     * Detect different cards based on ATR-s and on card objects
     * Set the card name from the ATR table
     * Conditionally add support for 2048b keys
     * Add workarounds for broken MULTOS and JavaCard cards.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4893 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c32c15b60f8ac3c01dbd6506a659b67d413fb47
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 13:56:27 2010 +0000

    Revert a protocol forcing change from [4873] which was a mistake.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4892 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1c3aa1d55c176a0c37d71263ad568b0fd6486f4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 13:56:19 2010 +0000

    PC/SC: make (dis)connect actions configurable, SCardDisconnect, SCardEndTransaction and SCardReconnect
    actions can now be configured via opensc.conf in better detail.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4891 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77c8cfc37dd005f46eed83544336c4543c2fe746
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 13:35:06 2010 +0000

    pcsc: a change in ATR will not always mean a changed card, rely on PC/SC layer for card change information.
    
    One of the few cards that has two different ATR-s is the EstonianEid card. The changing ATR (especially if
    it has different protocol information and historical bytes) can cause confusion in many places, like
    Microsoft BaseCSP or certain versions of pcsc-lite.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4890 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6fc7e62f207eaaf5c98583a9658712129b7f218a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 13:34:54 2010 +0000

    conf: correct comments about OpenSC.tokend score meaning and default value.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4889 c6295689-39f2-0310-b995-f0e70906c6a9

commit acb54b965fd1e115bf5b3270333ef1a937725f29
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 08:51:25 2010 +0000

    typo: remove double semicolon which prevents compilation with Visual Studio.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4888 c6295689-39f2-0310-b995-f0e70906c6a9

commit c4a9ab67326c8c790ec224ae4cfcee42539ae2cb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 08:51:17 2010 +0000

    WindowsInstaller: overwrite files with same version to allow nightly builds; replace and delete blocked files on a reboot.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4887 c6295689-39f2-0310-b995-f0e70906c6a9

commit 636b0c1d2726d587ee0fbd8bb21e9e028189f209
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 29 00:58:12 2010 +0000

    framework-pkcs15: Do not populate the unwrap capability, because the corresponding function C_UnwrapKey isn't implemented.
    
    http://www.opensc-project.org/opensc/browser/trunk/src/pkcs11/pkcs11-object.c?rev=4885#L969
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4886 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd11c909bd4ef5ba6d21d15dfd4d0ef141c3a1bd
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 28 23:46:12 2010 +0000

    pkcs11-tool: Completing the output of "Mechanism Information Flags".
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4885 c6295689-39f2-0310-b995-f0e70906c6a9

commit 146041fcee72652ca27530a1500f45e278d7ac37
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 28 22:16:50 2010 +0000

    pkcs11-tool: Correcting the behaviour in the case where C_SignUpdate fails. Quotation from PKCS#11:
    
    "A call to C_SignUpdate which results in an error terminates the current signature operation."
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4884 c6295689-39f2-0310-b995-f0e70906c6a9

commit b63a601666c5fcb23b3da05164db23241f586d7b
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 28 18:09:30 2010 +0000

    pkcs11-tool: Use attributes MODULUS and PUBLIC_EXPONENT instead of VALUE to retrieve RSA-Public-Key. The first two attributes are valid whereas the latter is not.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4883 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf92133cefa964bc6f8b161fd10ad09dd886a85f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 26 12:57:53 2010 +0000

    Update from SimCList version 1.5
    http://mij.oltrelinux.com/devel/simclist/
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4882 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0eb404b2e6957c24c6312c086d642d5afe23e06f
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 25 00:20:21 2010 +0000

    pkcs11-display.c: more detailed less verbose output of CK_ATTRIBUTE lists
    
    http://www.opensc-project.org/pipermail/opensc-devel/2010-November/015321.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4881 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09131a4e9f010a640279cd74bf3c4671b4c3957d
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 24 20:28:30 2010 +0000

    Fix support for CKU_ALWAYS_AUTHENTICATE and CKU_CONTEXT_SPECIFIC
    spy segfaulted if CKU_CONTEXT_SPECIFIC was used,
    pkcs11-session was reseting the userType before calling
    framework.  Framework will now see CKU_CONTEXT_SPECIFIC
    and use slot->login_user to determine which PIN was used
    to create the original session, and will send the PIN
    to the card. It does not treats CKU_CONTEXT_SPECIFIC
    as a full login, only a reassertion of the PIN.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4880 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9ad140394091d1e7392406f4a3076809548778f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 20 09:30:26 2010 +0000

    sc_pkcs15emu_postponed_load is no more defined
    
    Compilation fails on Mac OS X (but not on GNU/Linux):
    Undefined symbols:
      "_sc_pkcs15emu_postponed_load", referenced from:
       -exported_symbol[s_list] command line option
    ld: symbol(s) not found
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4879 c6295689-39f2-0310-b995-f0e70906c6a9

commit 821f4fef6d1b9f53d5458ed91788c62ab68d1a9b
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 19 18:09:04 2010 +0000

    card.c: Fixes the overriding of max_x_size limitations. In the result, the limitations of cards are adjusted to fit the limitations imposed by the configured reader.
    
    ctx.c: Lookup conf_block of reader_driver by short_name
    
    Fixes #269
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4878 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a183a8dc706561af10e524fa1d9d3cb57e8ef73
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 18 23:31:08 2010 +0000

    framework-pkcs15.c: new logic to discover objects that were hidden before PIN verification
    pkcs15.c: object search continues with normal processing, even if enumeration of some files failed
    pkcs15.h: obsolete prototype removed
    pkcs15-syn.c: now obsolete function sc_pkcs15emu_postponed_load removed
    
    fixes: #266
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4877 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ad67713469e1e3fa5748fa9e68844f0108d4829
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 18 18:47:42 2010 +0000

    {{{more verbose messages for debug in:__sc_pkcs15_search_objectssc_pkcs15_parse_dfsc_pkcs15_read_file}}}
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4876 c6295689-39f2-0310-b995-f0e70906c6a9

commit bcef13cfd2724d65b2a4372959d21494c1fd785c
Author: andre <andre@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 18 14:56:26 2010 +0000

    In login() the flag CKF_LOGIN_REQUIRED is now ignored. This makes the behaviour of login() more predictable. If parameter --login is specified on the command line, then C_Login() is always called.fixes #220
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4875 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1aa716bec0bf0ae21dc4e50e1746bc750b660dc
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 8 17:05:40 2010 +0000

    Move decoding of subjectPubkeyInfo from pkcs15-cert.c
    to pkcs15-pubkey.c and call the new sc_pkcs15_pubkey_from_spki.
    Add sc_pkcs15_pubkey_from_spki_filename to allow a file to
    contain the subjectPubkeyInfo, which will be used the the PIV
    driver when EC is implemented. The format of the file, is the
    same as an X509 certificate subjectPublicKeyInfo and what
    OpenSSL calls an EVP_PKEY, which includes the algorithm,
    any parameters and the public key.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4874 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6eb9d3d925f51fafd6bccaf87ed8a3e918a0a1c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 8 12:37:22 2010 +0000

    PC/SC: move protocol (T=0/T=1) selection to reader-pcsc.c, where it is used.
    
    Also, check fot the required protocol before connecting to the card and use the forced prtocol instead of re-connecting.
    
    See http://lists.drizzle.com/pipermail/muscle/2010-November/008671.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4873 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e909df85da8760042f44022d1985eec15b2646c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 8 12:29:15 2010 +0000

    Amend r4871: prevent mingw32 from including an incompatible getopt version.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4872 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab6511cb63626bd5231edc29ffa135362831baed
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 8 11:17:09 2010 +0000

    Trac #264: fix mingw32 build with mingw32-runtime versions <= 3.13
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4871 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e9c72ec5e63668a8c7a0acef53530b95fce5069
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 18:07:04 2010 +0000

    Use 'const char *' instead of 'char *' for static strings and avoids a
    lot of "discards qualifiers from pointer target type" warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4870 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96deb9d4d45aca9721a61a2ad6985d509d614027
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 18:05:21 2010 +0000

    Use 'const char *' instead of 'char *' for static strings and avoids a
    lot of "discards qualifiers from pointer target type" warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4869 c6295689-39f2-0310-b995-f0e70906c6a9

commit c64cb12f2fcf47952269d19a382c801041ad8594
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 17:07:13 2010 +0000

    pkcs15-tcos.c: In function ‘insert_pin’:
    pkcs15-tcos.c:216: warning: declaration of ‘r’ shadows a previous local
    pkcs15-tcos.c:194: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4868 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07ccc3965e43a08a74ad69bf1d190a41c3f1d938
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 17:05:32 2010 +0000

    pkcs15-tool.c: In function ‘verify_pin’:
    pkcs15-tool.c:976: warning: declaration of ‘r’ shadows a previous local
    pkcs15-tool.c:972: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4867 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8dd3b98b1d2d69a9a82de3b8000466770d042171
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 17:04:04 2010 +0000

    pkcs15-tool.c:150: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:151: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:152: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:153: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:154: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:155: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:156: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:157: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:158: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:159: warning: initialization discards qualifiers from pointer target type
    pkcs15-tool.c:160: warning: initialization discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4866 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c12d20bfa5da59bc7845af012bde1a7ec369247
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 17:01:17 2010 +0000

    piv-tool.c: In function ‘gen_key’:
    piv-tool.c:292: warning: declaration of ‘newkey’ shadows a global declaration
    piv-tool.c:97: warning: shadowed declaration is here
    piv-tool.c: At top level:
    piv-tool.c:97: warning: ‘newkey’ defined but not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4865 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c433a9cce6ddadd4360dd2066b9397a3be6d2c1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 17:00:09 2010 +0000

    pkcs11-object.c: In function ‘C_DigestInit’:
    pkcs11-object.c:455: warning: label ‘out’ defined but not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4864 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a4cdd4d579847f4afbd0bf31b9a6db3d894a838
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 16:58:33 2010 +0000

    pkcs15-pteid.c: In function ‘sc_pkcs15emu_pteid_init’:
    pkcs15-pteid.c:56: warning: ‘buf’ may be used uninitialized in this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4863 c6295689-39f2-0310-b995-f0e70906c6a9

commit 512be83138cc82233e8575f2ada5dc7d003d4d1a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 16:57:05 2010 +0000

    ctx.c: In function ‘sc_ctx_detect_readers’:
    ctx.c:548: warning: ‘r’ may be used uninitialized in this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4862 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ac5bb4ba1ab26b244726908c9ab903c861cf445
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 16:54:57 2010 +0000

    Declare internal functions as static and fix compiler warnings
    
    card-itacns.c:90: warning: no previous prototype for ‘itacns_match_cns_card’
    card-itacns.c:125: warning: no previous prototype for ‘itacns_match_cie_card’
    card-itacns.c:146: warning: no previous prototype for ‘itacns_match_card’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4861 c6295689-39f2-0310-b995-f0e70906c6a9

commit f841b88e06c142e1e5d09525528546a5a5596846
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 16:53:11 2010 +0000

    opensc-explorer.c:89: warning: function declaration isn’t a prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4860 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3aea304a8e0381c9364450085c1a0e5b7636bcbc
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 16:50:41 2010 +0000

    sc_do_log_va(): fix compiler warning
    log.c:87: warning: format ‘%03ld’ expects type ‘long int’, but argument
    8 has type ‘int’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4859 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98fdeaa0b6c8763a0cf5b5aa0f7fbb2b7765f87c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 16:49:00 2010 +0000

    C_LoadModule(): Fix compiler warning
    libpkcs11.c:58: warning: format ‘%lx’ expects type ‘long unsigned int’,
    but argument 3 has type ‘int’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4858 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f5f29eee9cf356e35ce4e331a1252241090d7eb
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 6 13:03:46 2010 +0000

    Revert revision 4853 because of a regression when initialing cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4857 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70ead491fc7b0df62c1e59674f3696244aa3771b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 2 08:02:13 2010 +0000

    sc_pkcs15init_read_info(): do not use affectation and test in the same
    line of code but use two different lines so the code is easier to read.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4854 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93f5e24e1311717412c110fae2a72fc22afb193f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 2 07:59:46 2010 +0000

    sc_pkcs15init_read_info(): do not call sc_pkcs15init_parse_info() if
    sc_select_file() failed.
    
    Thanks to Andre Zepezauer for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2010-November/015216.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4853 c6295689-39f2-0310-b995-f0e70906c6a9

commit 641ea4eddd88e702e58055849d0e8879bc91ac4d
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 1 15:44:17 2010 +0000

    Fix compile warning message.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4852 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8af1b60afdad95f569279528ff96dda9d1d4e9f8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 28 13:33:50 2010 +0000

    PC/SC: temporarily disable blocking C_WaitForSlotEvent until a checked version for pcsc-lite 1.5.3-1.6.4 exists.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4835 c6295689-39f2-0310-b995-f0e70906c6a9

commit df639efd89d19e1b0aa14ab8ae3548dfb91444e5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 28 13:11:13 2010 +0000

    EstonianEid: revert to old behavior and have the T=0 forcing.
    
    Some cards have incorrect ATR-s and can cause troubles if pcsc-lite by default tries to set T=1 by default.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4834 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8156095b46adc8466d470775168a622a957bff19
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 28 09:44:22 2010 +0000

    FIXME: Don't issue SCardCancel unless the environment is known not to hang (part 1)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4833 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31b0a05aaf0bcd41721fb3de4f5f60a0b6431f4a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 28 05:30:09 2010 +0000

    EstonianEid: document more ATR-s in opensc.conf
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4832 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd93b976741fc736a9fb5b378ebccc3a2ddfdaa9
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 25 20:58:02 2010 +0000

    Additianl changes to r4805  which made cert->pubkey a pointer to sc_pkcs15_pubkey_t
    Thanks to Andre Zepezauer for pointing out most of these.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4828 c6295689-39f2-0310-b995-f0e70906c6a9

commit 150d26d51edbb4045476d0bb0da2d54952a33bbc
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 23 06:54:56 2010 +0000

    fix: opensc-tool: invalid output of access control for EF (add to r4509)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4826 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6648255cb0fcc2f5dbb8cf4694fcd93eb1b5c084
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 22 15:48:04 2010 +0000

    EstonianEid: add a broken EstEID ATR to the Micardo driver. Don't force a protocol for EstEID cards
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4825 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50f4ba5ad084040b848b211c5ea2aaef9fbc3a09
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 21 13:53:58 2010 +0000

    build: detect xsl-stylesheet location for latest opensuse.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4824 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed81328db66ce56d42cfb4bf21ea6934580e5861
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 21 12:17:51 2010 +0000

    detect man by xslstylesheetsdir too
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4823 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ebde203ee3ac3b66b569fdcf5cf852e23f1cc42
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 21 04:28:01 2010 +0000

    bug#262 - force xsl-stylesheets when using man/doc
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4822 c6295689-39f2-0310-b995-f0e70906c6a9

commit df2d7d1dd1c2cad45f3cbb5d30cd50c3986ad327
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 20 15:04:31 2010 +0000

    EstEID: remove incorrect ATR matching. A reset is required as there is no way simpler way to identify a broken card.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4821 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa0e236881e7b498716b68d2650e68d46196175c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 20 12:33:07 2010 +0000

    Missed these from r4818
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4820 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7000a93c1b57e71c0b777d04f435e6a8d4fc0da
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 20 08:48:56 2010 +0000

    EstEID: add workarond for a buggy card.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4819 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6a750e6cc0f5d8ec9e2ed4b597503938c57e57b3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 20 07:53:19 2010 +0000

    tools: -v sets ctx->debug only if set more than once. -vv also makes the debug go to stderr.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4818 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d6e3bd262db664c1114e13e49ad16c5dce485e7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 19 11:25:25 2010 +0000

    EstonianEid: remove the iconv dependency and use the common name from the certificate as the card label.
    
    This makes it universal, as some cards don't have the personal data file (Digi-ID)
    It also makes it a bit ugly, as the common name is the name and personal ID code
    concatenated like "FIRSTNAME,LASTNAME,123456789"
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4817 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08c111affe4acceea8236ebf3de631dfc26f4817
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 15 14:29:42 2010 +0000

    Update documentation about about wiki and package content.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4810 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23b64f88d268d268e46f13261a670bc038bc3eb2
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 15 13:37:37 2010 +0000

    fix sc_pkcs15_card_t struct change in cardmod.c and issue in reader_pcsc.c for cardmod part too
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4809 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3076fe265c420dfbf1db07580b4830a1afc839c1
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 15 08:07:34 2010 +0000

    Fix patch [4709] for cardmod until build in one static dll
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4808 c6295689-39f2-0310-b995-f0e70906c6a9

commit a569bf9646b4bafb74f594c2a74401c91339b6ba
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 14 19:55:57 2010 +0000

    Fix test code so will work with card with real history object.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4807 c6295689-39f2-0310-b995-f0e70906c6a9

commit f194c873d0e486039b31ed47fbead3433441f9b6
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 14 14:59:51 2010 +0000

    Fix 253 third fix for same problem. The first fix
    r4761 added a test in the wrong place. Second fix
    r4804 added the test in the correct place. This fix
    removes one of the tests added by r4761
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4806 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f2a44b33e24da75c760d1a2c40e755324ff03d1
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 12 15:26:45 2010 +0000

    sc_pkcs15_pubkey_from_cert now uses parse_x509_cert without OpenSSL.
    sc_pkcs15_cert now has pointer to sc_pkcs15_pubkey, allowing it to
    be removed and used separatly.
    sc_pkcs15_pubkey now has pointer to sc_algorithm_id to faclitate
    addition of other key algorithms and their parameters.
    Various code changes to free these structures and references
    to the structures have been changed.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4805 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b4cb93c84e845092ee1a20947f3ffbdecc89fa0
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 8 14:53:29 2010 +0000

    Fix #253 - Allow caller to read a partial object
    by returning all that was read. Related to #257
    which fixed a different path in apdu.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4804 c6295689-39f2-0310-b995-f0e70906c6a9

commit 364ba4882d3505047c51fa2054f93c50d541ec1b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 8 08:36:56 2010 +0000

    pkcs11-tool: handle non-recognized tokens gracefully.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4803 c6295689-39f2-0310-b995-f0e70906c6a9

commit fad0116feffd312b8b1b17ce9fff0deb99b8f4ec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 8 08:36:48 2010 +0000

    pkcs11-tool: if no slot is specified on the command line, try to locate a slot with a token.
    
    A modified patch from Andre Zepezauer.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4802 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d96b3c9c38e06d610e14f50280e50905a040a84
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 7 15:12:12 2010 +0000

    oberthur: from the common part remove the Oberthur specific tokenInfo flags
    
    Thanks to Andre Zepezauer for the patch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4800 c6295689-39f2-0310-b995-f0e70906c6a9

commit 233ea02f8a8dd405e4a241b41fc1bc1f0b6ff6df
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 7 13:43:45 2010 +0000

    doc: Remove wiki links from README
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4799 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6410da59a9d3150ea4366f6f0ca7b5a68be4c9c1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 07:54:08 2010 +0000

    PC/SC: better detection of card changing events.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4798 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a79acd827e2adb017d3aec169edc8df47af869f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 07:54:03 2010 +0000

    Prepare for OpenSC 0.12.0-rc1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4797 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61572d590ae9d45738788aecef9877d99890f5cc
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 07:53:59 2010 +0000

    WindowsInstaller: be flexible with make dist result name.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4796 c6295689-39f2-0310-b995-f0e70906c6a9

commit dfe8a014b937e13261d55f1cde5fbdb9721e9bd1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 07:15:32 2010 +0000

    Fix leftover from r4646
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4795 c6295689-39f2-0310-b995-f0e70906c6a9

commit dcd077243fbd164531f84fdf4e78d5dc272a1eb5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 07:10:50 2010 +0000

    WindowsInstaller: simplify the installer creation process
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4794 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19da5d8f16ab942d48ed2774e2b5e2a16920d20f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 07:10:44 2010 +0000

    WindowsInstaller: Fix Mingw32 Windows build
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4793 c6295689-39f2-0310-b995-f0e70906c6a9

commit ace8d25ecb721743b6ce240051ee0d99167d94c9
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 20:37:08 2010 +0000

    Update svn:ignore
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4792 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a1903345e41cbf282d599e0c9bdab6c57a1f616
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 20:34:58 2010 +0000

    Simplify build system, remove the generated distributed files.
    
    Thread is at [1].
    
    Build with docs or man now requires xsltproc.
    
    http://www.mail-archive.com/opensc-devel@lists.opensc-project.org/msg06750.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4791 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36f1fbb6551349fe19d50aa185f6bdd6c608710c
Author: joao <joao@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 16:10:35 2010 +0000

    Add new ATR for the Portuguese eID card.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4790 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5a21e417b46aee5e276672d525b85d2a4598d46
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 16:02:57 2010 +0000

    pkcs15: don't play with TokenInfo.version. 0 means PKCS#15 v1.1. The flag is not used by OpenSC.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4789 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50f99a20f859b77e58fc2a73e27113646eda9e2e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 15:44:58 2010 +0000

    libopensc: move TokenInfo fields from sc_pkcs15_card_t to a separate structure.
    
    Thanks to Andre Zepezauer for the patch.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2010-September/015076.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4788 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14752f0c43621fb75b95e54598863a375923a89b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 15:12:10 2010 +0000

    Remove now unused variables.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4787 c6295689-39f2-0310-b995-f0e70906c6a9

commit 192de4199c7f4285815be75ea8b3d9f4cea5fb72
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 14:58:55 2010 +0000

    libopensc: remove unused SC_CTX_MAGIC define
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4786 c6295689-39f2-0310-b995-f0e70906c6a9

commit c51156875f0fdc71d4f4ed279930c3c92bff3357
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 14:58:50 2010 +0000

    libopensc: remove meaningless sc_card_valid()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4785 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75a10198fc4bc9c80774a5f5f20c5d6de39d574c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 14:58:45 2010 +0000

    PC/SC: simplify reader state detection.
    
    This needs to be improved further, based on revision 5278 of pcsc-lite.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4784 c6295689-39f2-0310-b995-f0e70906c6a9

commit ebdc92407e069dfbf8704a2bfed58babda3ffccd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 14:58:29 2010 +0000

    PC/SC: move reader feature detection to a separate function. Don't detect features of a reader that is in exclusive mode.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4783 c6295689-39f2-0310-b995-f0e70906c6a9

commit b060049fa44278707c30637e988b7c4dc748249e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 14:58:22 2010 +0000

    opensc-tool: don't print reader driver (only one is enabled by default), instead print the presence of a card.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4782 c6295689-39f2-0310-b995-f0e70906c6a9

commit 283ac67229840639d38b2b7225e0ade3e0aa51d7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 5 14:42:01 2010 +0000

    pkcs11-spy: log matching objects in hex. Patch from Andre Zepezauer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4781 c6295689-39f2-0310-b995-f0e70906c6a9

commit a71b64f3fc5d0f2454cd646272707b6eb1fb3017
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 4 15:58:34 2010 +0000

    Fix erros with freeing algorithm parameters and
    last entry of the algorithm_table.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4780 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0050a4bc6d49c122faab74e89be4cff822cebf7f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 28 13:12:54 2010 +0000

    MacInstaller: prefer http over git.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4779 c6295689-39f2-0310-b995-f0e70906c6a9

commit af6a24670364c9cbd3715513371ea40e14cc3a4b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 27 14:06:40 2010 +0000

    MacInstaller: allow building a x86 only version for 10.5
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4778 c6295689-39f2-0310-b995-f0e70906c6a9

commit 517878d102f7049831ca7a5c249ab496827f814b
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 27 07:50:14 2010 +0000

    myeid: applied patch for MyEID card profile
    
    provided by Tony (Aventra development), thanks.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4777 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ebd49397ed6af6183b29a89c0f531f4d7bf1295
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 26 21:30:44 2010 +0000

    Don't dump wiki content into distribution package.
    
    As requested by Martin[1].
    
    Before releasing a new formal version, run:
    $ make Generate-ChangeLog
    
    It generates the ChangeLog out of svn and autoreconf again for package inclusion.
    
    [1] http://www.opensc-project.org/pipermail/opensc-devel/2010-September/015014.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4776 c6295689-39f2-0310-b995-f0e70906c6a9

commit 58c1c88efa682c7ef596e79e545ae68d28562fe6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 25 20:35:59 2010 +0000

    libopensc: homogenise line ending in the debug messages
    
    continuating r4759
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4774 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10a99dc055d1e8b6926a8905bc24f2bba802ceff
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 25 20:25:23 2010 +0000

    myeid: remove windows line ending
    
    because it give the wrong LINE value in the debug messages that follows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4773 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9d1f1008452847ba90f98a4c52b5db7c5bb1656
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 24 20:37:22 2010 +0000

    PIV support for NIST 800-73-3 objects,
    PIV driver client can build and run without OpenSSL,
    (admin functions and piv-tool still need OpenSSL)
    define PIV specific ctrl codes and structures.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4767 c6295689-39f2-0310-b995-f0e70906c6a9

commit 391ec9630600e4b5b253a826695436c06bd9cdcc
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 24 18:34:44 2010 +0000

    Remove max_recv_size checks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4766 c6295689-39f2-0310-b995-f0e70906c6a9

commit f339f9ba776131619327d8aa42fe9f8499352c2f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 24 07:24:43 2010 +0000

    pkcs11-tool: only do hotplug testing before other activities.
    
    Thanks to Andre Zepezauer for noticing.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4765 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ef766b7854bc1c2565bb7be356d4077fe3eb12a
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 23 11:57:51 2010 +0000

    Fix issue in log message in cardmod with i386-mingw-gcc v 3.4.5
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4764 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3bb5c9f5302ef64aaa4b50559aaada9b3ca248ff
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 20:57:07 2010 +0000

    allow pkcs15-itacns.c compile without OpenSSL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4763 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a5b898b07c35f9fe8a4b7d00f953fadc97ff6a2
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 15:12:01 2010 +0000

    Another max_recv_size fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4762 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10a5d1be3a2503c5f31256c797cd53ff721e77d5
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 14:55:03 2010 +0000

    Fix #257 Reading partial objects differs for T=0 vs T=1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4761 c6295689-39f2-0310-b995-f0e70906c6a9

commit 573a1de4d634358f37101cbe13d3c644f13d35d8
Author: dengert <dengert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 14:41:50 2010 +0000

    Allow c_FindObjectsInit to find unlimited objects - #258
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4760 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc3b1d008bcd3f550cda649d5c7a6a61362ed720
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 12:17:53 2010 +0000

    pkcs15init: homogenise line ending of debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4759 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd6c9006b84cc88a7b61634a83ff5a66bf35942c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 12:06:05 2010 +0000

    build: darwin specific customizations not needed, need_dash_r for solaris not used.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4758 c6295689-39f2-0310-b995-f0e70906c6a9

commit 239de7b6e32033608b336a48e6dd814c064ad2c0
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 11:51:52 2010 +0000

    libopensc: remove 'max_xx_size' from debug message
    
    after the 'max_xx_size' stuff has been reverted
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4757 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a3fcf3d927dd913cf68957190538a62cf58d5db
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 11:47:35 2010 +0000

    MacInstaller: simplify configure arguments
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4756 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ff0f85292e91322c5184083257b578b7f11ee40
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 11:47:26 2010 +0000

    build: remove ancient and unsupported platform checks, added in [94]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4755 c6295689-39f2-0310-b995-f0e70906c6a9

commit 652a1801e099f895c768eb39c7a5925fabf41d64
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 11:46:33 2010 +0000

    opensc-explorer: to use AID of maximal allowed length in 'cd' command
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4754 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92b87a3cb7df541274453cbcec71d1f9c4d86d6d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 22 10:02:43 2010 +0000

    Update NEWS. Remove references to local wiki dumps and an outdated online page.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4753 c6295689-39f2-0310-b995-f0e70906c6a9

commit 659db6f50b180d4a903b1c7e1e8c82ba1660f8be
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 18:14:04 2010 +0000

    Fix: default count of attempt (use profile) for new version firmware
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4752 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3202355fa3055e4037fb70e255165d1aed415418
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 16:11:49 2010 +0000

    pkcs11-tool: print the token before asking for a PIN code; shorten CKU_CONTEXT_SPECIFIC prompt
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4751 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01931d6794ddd70ada424dc578033654e5b9b68d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 16:11:44 2010 +0000

    pkcs11-tool: do --test even without a slot, at least hotplug. print a proper error name for C_GetSlotInfo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4750 c6295689-39f2-0310-b995-f0e70906c6a9

commit 528b7ae7c76c2c4bcdd0bed1058c9db6b94f9982
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 16:11:40 2010 +0000

    pkcs11: move around CKR_ARGUMENTS_BAD check
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4749 c6295689-39f2-0310-b995-f0e70906c6a9

commit 294a8bca3d34265d004aca0bf855803108202eb2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 16:11:36 2010 +0000

    pkcs11-tool: pkcs11-tool --verbose does not affect OpenSC debugging. Document a workaround
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4748 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50952cdcba66e32010f597fd517c74396f2876ca
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 16:11:31 2010 +0000

    pkcs11-tool: cleanup whitespace and remove unused OpenSSL ERR_* calls.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4747 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2dff969e053041c703663aa0742b497ffd05cfe5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 16:11:26 2010 +0000

    pkcs11-tool: better separation between opaqe slot IDs and slot list indexes.
    
    --slot will take the actual CK_SLOT_ID
    --slot-label will use the token label to find the correct slot
    --slot-index will use the N-th slot from the list returned by C_GetSlotList
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4746 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2085126d39647b304f4566beab0434b16dc6cbe8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 09:48:57 2010 +0000

    Use "const char *" instead of "char *" where needed.
    
    Fix compiler warnings:
    compat_getopt_main.c: In function ‘main’:
    compat_getopt_main.c:145: warning: initialization discards qualifiers from pointer target type
    compat_getopt_main.c:288: warning: assignment discards qualifiers from pointer target type
    compat_getopt_main.c:336: warning: assignment discards qualifiers from pointer target type
    compat_getopt_main.c:366: warning: passing argument 3 of ‘handle’ discards qualifiers from pointer target type
    compat_getopt_main.c:76: note: expected ‘char *’ but argument is of type ‘const char *’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4743 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96a2568ee0a47f6445c3347e5ea075014bdebbd5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 09:45:09 2010 +0000

    Remove an ugly cast and fix a compiler warning
    
    compat_getopt_main.c: In function ‘handle’:
    compat_getopt_main.c:123: warning: format ‘%s’ expects type ‘char *’, but argument 3 has type ‘long unsigned int’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4742 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4630f1c65f00bc5abd9050d7e98c7817ec4ae927
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 09:42:39 2010 +0000

    VERSION is already defined ni config.h included by compat_getopt.h
    Redefine our own version of VERSION
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4741 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9bdbaf4970872c1a039d6db08b123f9eb26065a0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 09:39:04 2010 +0000

    include compat_getopt.h instead of getopt.h
    
    Thanks to Guillaume JEAN for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2010-September/014948.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4740 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43ee9f60ce322b8956a88312be84681b34da4615
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 21 09:37:17 2010 +0000

    build but do not install compat_getopt_main
    
    This is just used for testing the compat_getopt code in libcompat
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4739 c6295689-39f2-0310-b995-f0e70906c6a9

commit a404370f0cb765119c149d688a4baaa2366e5d0b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 20 23:10:29 2010 +0000

    pkcs15-tool: harmonize and align the output of --dump
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4738 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09fb4468d03c4499a42c943268167e5e75c0da7f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 20 23:10:23 2010 +0000

    pkcs15-tool: only print Auth ID if present
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4737 c6295689-39f2-0310-b995-f0e70906c6a9

commit 215b3fc0567cb510f4c9770099c8d8b414f42257
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 20 23:10:16 2010 +0000

    pkcs15-tool: pretty-print common object flags.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4736 c6295689-39f2-0310-b995-f0e70906c6a9

commit 53c3c486af54a60e4ea09bdd7ce936a3b538f420
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 20 15:01:45 2010 +0000

    MacInstaller: statically link libltdl for 10.5, as 10.5 PPC comes without the necessary .dylib (i386 has it)
    
    Thanks to Kalev Lember for the original patch.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4735 c6295689-39f2-0310-b995-f0e70906c6a9

commit 63dafb8ee58cdc5dd3aefce8005399e65142f4de
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 15 14:15:17 2010 +0000

    Remove the traces of C99: declare variables before any code.
    
    Thanks to Guillaume JEAN for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2010-September/014903.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4723 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a547b6f09e439b98bdc2f5ceb5c8500c118d75a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 15 12:00:16 2010 +0000

    libopensc: Don't touch TokenInfo.flags->loginRequired
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2010-September/014871.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4722 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39311cb881b63cc01488e724f72205a61f0b5b7b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 15 11:09:28 2010 +0000

    libopensc: check for unset max_recv/send_size in all places.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4721 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc5b3e5417153620e0e3167dd88d35eebbb80f4f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 14 09:27:46 2010 +0000

    EstEID: buffer is 2 bytes bigger than max Le.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4720 c6295689-39f2-0310-b995-f0e70906c6a9

commit 767e5dd6c962da0e9c6bdd2a1813fb48ef47f99b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 14 08:49:50 2010 +0000

    MacInstaller: fix syntax error
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4719 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36ef4647583fd36065f21ee2a3f88c8d1da3379a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 14 08:49:46 2010 +0000

    MacInstaller: simplify ./configure calling, disable assert-s
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4718 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec2befb5c54dcdc3ec4a3883a51f5e1640f21aae
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 14 08:17:48 2010 +0000

    build: add --disable-assert (enabled by default)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4717 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8aa2a64261b10f403e4f9264093fbeb4e295af6d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 13 08:08:42 2010 +0000

    opensc tools: to be compiled with Visual Studio
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4716 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19df2c812b24d776cf3315e5d3cb59c0ce2c1e60
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 13 07:55:12 2010 +0000

    MyEID: to be compiled with Visual Studio
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4715 c6295689-39f2-0310-b995-f0e70906c6a9

commit cae16b6ef8c44531a190a639d9ac54fb3ca8efde
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 13 07:40:45 2010 +0000

    By default the reader driver does not have receive/send limitations.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4714 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36705f8f10bc60ca0c039cf0f776836bda74834c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 13 07:27:34 2010 +0000

    Add missing piece from r4706.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4713 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89d5bcf4d5eb35f366462a77f94fd6f73659b380
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 11 13:01:06 2010 +0000

    whitespace fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4712 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f7891293fb80534d76e09e686ea29be92a3e4ec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 11 13:01:00 2010 +0000

    libopensc: fix "ctx.c:389: warning: unused parameter ‘opts’"
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4711 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c1bcea28ac1d107e2cd53f4de61bab0d41b67ca
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 11 13:00:54 2010 +0000

    libopensc: remove unused SC_MAX_READER_DRIVERS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4710 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72d961beb235628e58ca254be691816eab7af6bc
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 11 13:00:47 2010 +0000

    Fix #216: initial go with multiple reader subsystem removal.
     * One sc_context has only a single reader driver.
     * remove dynamic reader driver loading capabilities
     * remove opensc-tool -R command
     * change the internal API, we don't need to pass around a "driver data" pointer as it can be found directly from the context.
     * check in ./configure for only a single enabled reader driver
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4709 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0858a5c8543303a57c9c47a4701086fc314977fb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 11 13:00:36 2010 +0000

    libopensc: remove SC_MAX_READERS which is not used.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4708 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01c3bde101aeaadbb8c703c9d7fead654e96967a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 11 13:00:29 2010 +0000

    Belpic: remove BELPIC_SET_LANG and related code, as it is not used in OpenSC
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4707 c6295689-39f2-0310-b995-f0e70906c6a9

commit a5ca648afd8eee6db673915195687e6c74e505e1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 9 18:58:44 2010 +0000

    Revert r4668. Change the way limitations on max send and receive sizes are set.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2010-September/014836.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4706 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac0a8dbb150474910ebfd5389301fa1452f0cfe0
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 9 17:28:44 2010 +0000

    remove software RSA support for Rutoken S
    
    Migration OpenSC to "new scheme" (further to r4646)
    http://www.opensc-project.org/pipermail/opensc-devel/2010-September/014717.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4705 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb92f7bb9a2b0f60f6295ddf0766e3a08d221e1b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 9 09:43:27 2010 +0000

    MacInstaller: Simplify file detection
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4704 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8bb0ab634e4fbd6b3023a623aff90a6746915add
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 9 09:18:18 2010 +0000

    MacOSX 10.5: Install libltdl.3.dylib if needed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4703 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffdad69bca89502601100d7dab370b13ddce678b
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 8 21:23:49 2010 +0000

    Avoid mixed declarations and code in ItaCNS files, per C90
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4702 c6295689-39f2-0310-b995-f0e70906c6a9

commit be6d4d062b178f55dd0bef819ec1b4fb75331401
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 8 07:52:00 2010 +0000

    Fix small log issue
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4701 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10fe6e4441e010923c0ab50d59f0527f7e8501b9
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 7 12:53:26 2010 +0000

    MyEID: force PIN padding properties (already set by sc_pkcs15* but not present with opensc-explorer)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4700 c6295689-39f2-0310-b995-f0e70906c6a9

commit 525bf7381ed3d442b3e82ef75d1b2835456ad0de
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 7 12:49:16 2010 +0000

    MyEID: use ISO7816 pin_cmd. Fix card_state logic.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4699 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5dc3ffe3542963bbb3e8120e58d7396bf85392b5
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 7 08:07:04 2010 +0000

    On MacOSX, we need to delete the receipts too, after deleting the application files.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4698 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9026bc86f2d76e365ef858e27b38e095d7ba393
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 6 09:32:13 2010 +0000

    EstEID: Fix #250. Force a SELECT FILE by cheating on the internal micardo path cache.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4697 c6295689-39f2-0310-b995-f0e70906c6a9

commit d994bb81a19c3bf150f3dd08477b4e496aa0b2fa
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 6 08:54:13 2010 +0000

    Micardo: remove redundant mcrd_decipher. Handled by ISO7816
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4696 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ab92454a2bf0b83f2e826fca7566f3a3c933514
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 19:55:00 2010 +0000

    card-jcop: remove dummy stubs.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4695 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c156e2318d369872860cae9e09b6faf06936212
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 19:22:54 2010 +0000

    MyEID: remove no-op ISO7816 wrappers and not implemented stubs.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4694 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d988eed5c14803ec81ee1df79fef4fc571df732
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 18:21:43 2010 +0000

    MyEID: make working change/unblock PIN
    
    tested with pkcs15-tool on Linux and Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4693 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93da2252c75ad11af0cf31a522ba6d5c41a85c4c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 16:53:08 2010 +0000

    pkcs11: #250: refresh PIN counters and associated token flags on every call to C_GetTokenInfo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4692 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a66f4e3399eaa0f5561339abb977bd47adba578
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 16:53:02 2010 +0000

    pkcs11-tool: recognize user PIN related token flags
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4691 c6295689-39f2-0310-b995-f0e70906c6a9

commit 362a907bf06983ac8b967991adb2ea70fed5251b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 16:52:56 2010 +0000

    Micardo: Add SC_PIN_CMD_GET_INFO support, currently only for EstEID cards.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4690 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54c67f105b3599ac202d715afc8318de085b2087
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 16:52:50 2010 +0000

    EstEID: style: use sizeof()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4689 c6295689-39f2-0310-b995-f0e70906c6a9

commit f085a9b373fa2041782540dc0ca194af411e97af
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 16:52:43 2010 +0000

    libopensc: add SC_PIN_CMD_GET_INFO and related fields to sc_pin_cmd_pin
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4688 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f440e63ca937359d22bd8c47602815dabe8ad94
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 5 16:52:36 2010 +0000

    pkcs11: Remove the comment about max_tries==1 and CKF_USER_PIN_FINAL_TRY
    Assuming the driver has correctly set max_tries to 1 then PKCS#11 is very clear about it:
    """
    True if supplying an incorrect user PIN will it to become locked.
    """
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4687 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec6bb9859d0800b868d34dce46d576813b58b64d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 4 20:46:07 2010 +0000

    MyEID: For Aventra card applied Toni's patch, enriched by Andre's proposal
    
    see:
    http://www.opensc-project.org/pipermail/opensc-devel/2010-August/014662.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4686 c6295689-39f2-0310-b995-f0e70906c6a9

commit 602d170c3de812df10677b64f5b8d07e2a960959
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 4 20:21:34 2010 +0000

    libopensc: pkcs15: more of debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4685 c6295689-39f2-0310-b995-f0e70906c6a9

commit 741b8c362e30204cfb13320e0bb163b5b57b4ad5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 4 20:19:14 2010 +0000

    libopensc: supplement to the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4684 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2db473a16044bb14dfe11c99f4b1990cfb0cbe9f
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 4 20:16:54 2010 +0000

    libopensc: export 'sc_card_find_rsa_alg'
    
    Following proposal of Andre Zepezauer, see
    http://www.opensc-project.org/pipermail/opensc-devel/2010-August/014699.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4683 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0fe106e53a29a245a5697bc830edfd59ee89d4a2
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 4 20:08:52 2010 +0000

    libopensc: in a supplement to r4668
    
    Use 'max_recv_size' when building APDU for 'select file'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4682 c6295689-39f2-0310-b995-f0e70906c6a9

commit 223d5e1bb3c552ff5676dc540cc8bfc448fbeacd
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 22:58:47 2010 +0000

    Fix signedness issues in pkcs15-itacns.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4681 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31e6602835c9073848161188b50dedc325cb9d4c
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 22:58:45 2010 +0000

    Remove unused variables and constants from pkcs15-itacns.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4680 c6295689-39f2-0310-b995-f0e70906c6a9

commit f70d4acf07de815aaa07c3d27f9d2b4c149f733b
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 22:58:38 2010 +0000

    Squelch warning about unused se_num argument in itacns_set_security_env(),
    as the driver is computing the right argument from the security environment
    data.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4679 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8697b4c04bca0377b1c11731e2a7f9ba8f460f28
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 22:58:36 2010 +0000

    Fix signedness warnings in card-itacns.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4678 c6295689-39f2-0310-b995-f0e70906c6a9

commit fbf1d621cb65d258adbf18c45ab97cae7ec939cd
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 22:58:34 2010 +0000

    Remove unused give_random operation
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4677 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5ef30bdd7ad5d4205ef0b7162cc5a9d0c339e57
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 22:58:31 2010 +0000

    Pass SFI as an appropriately-sized number
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4676 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49577941d6d4034aa640bf4d3772755c7b8a6a26
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 18:23:49 2010 +0000

    Fixup for #102: also in command help.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4675 c6295689-39f2-0310-b995-f0e70906c6a9

commit b99d420a9ea72a70254bcc5d6b7728ccea0d0dc8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 18:21:14 2010 +0000

    manpages: #102: --change-pin also works for a PUK code.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4674 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d32947de4818a34714fadd109717efbe47873eb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 13:39:01 2010 +0000

    Style: // -> /**/
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4673 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4697cc386bef2ee0cb10bbb9ca5b1fb2347fb5aa
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 13:38:56 2010 +0000

    libpkcs11: Print error messages from PKCS#11 module loading
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4672 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9acc8c44af6344642f232b2bea2fcb362ed56d88
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 2 09:19:27 2010 +0000

    pkcs11: #250: update slot PIN flags when verifying slot's auth object
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4671 c6295689-39f2-0310-b995-f0e70906c6a9

commit 241d3b5d86bb96d0e04d3116d9b1768dc43b4510
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 11:50:39 2010 +0000

    libopensc: improve max_send/recv_size related code comments.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4670 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59a389757ef11529c6292475c2dc5969e20167b1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 11:50:35 2010 +0000

    opensc.conf: Better comment for max_send/recv_size meaning and default values.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4669 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07ab2a2871ffb736c5b3fc211c9103721dd91681
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 11:50:24 2010 +0000

    Ticket #226: Initial changes as noted by reporter
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4668 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27ed902ce0b06da37dc48cd324143cd17525eb87
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 11:46:37 2010 +0000

    Add a FIXME for keys>2048b
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4667 c6295689-39f2-0310-b995-f0e70906c6a9

commit b04a1ef9f014a1f013359549ac06cc33f25505d6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 11:46:31 2010 +0000

    EstEID: small fixes for working with a modified max_send/recv_size
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4666 c6295689-39f2-0310-b995-f0e70906c6a9

commit befff1b0d4a79f2566a57f305ca9ef0064e121f1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 06:23:43 2010 +0000

    libopensc: PIN usage counter is decreased every time it is sent to the card, no matter what the card replies (should probably reply with success)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4665 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e3f7b10d0039154f9516ef403ea75437efcc20b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 06:23:37 2010 +0000

    Whitespace fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4664 c6295689-39f2-0310-b995-f0e70906c6a9

commit 15b6f29013fdd3b68f67d144e0cde2ed5b7892ed
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 06:23:32 2010 +0000

    Whitespace fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4663 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c9666d631b9e32e68098176b7bddc45e181becd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 06:23:26 2010 +0000

    pkcs11: C_SeedRandom is not implemented by OpenSC nor most smart cards, nor does it fit well into PKCS#15 concept.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4662 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12a1e9d49b69a1e5e61daa864df2abde00c9f329
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 1 06:23:17 2010 +0000

    pkcs15: don't override TokenInfo PRNG flag. pkcs11: announce CKF_RNG if the card driver supports it, bypassing PKCS#15.
    
    GET CHALLENGE and RNG don't match 1:1 anyway.
    
    Thanks to Andre Zepezauer for noticing this.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4661 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc4dff1d12e80f9f58c62889725d48729a5b8e80
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 31 01:24:53 2010 +0000

    Debian #451155: Document pkcs15-init --update-certificate/-U in man page.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4660 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d3a1bcd1f35499bd7ec13512244ee4b7acf0f7d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 31 01:24:53 2010 +0000

    libopensc: remove the "etoken" alias for "cardos" cards.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4659 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0285264af59b7bd0716c54fec990037012810f4d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 30 16:37:15 2010 +0000

    #73: pkcs15-tool: when changing PIN, print message if no PIN value supplied
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4658 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bd7e5d2f54383b27ed1f9c521f5fdff2f613e8b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 27 09:39:24 2010 +0000

    MacInstaller: Add .bundle generation capability from SCA. Thanks to Jean-Pierre Szikora for the reminder.
    
    Adobe Acrobat is one program that requires the .bundle format.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4657 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4f9ac456a259a98b6754023b1359d5279e211a1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 27 09:28:42 2010 +0000

    pkcs15-init: fix leftover from [4646]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4656 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7191a95403cc32474a349d0c7dd020a6572a393
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 27 08:24:39 2010 +0000

    Revert CardOS change from Italian CNS patch [4627].
    
    Limiting Le for CNS should be done in pkcs15-itacns.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4655 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed589feda754e8f9c30156246d2455586a39692b
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 19:24:23 2010 +0000

    add ATR for Rutoken ECP (DS)
    
    Thanks to Aktiv Co. Kirill Mescheryakov for the patch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4654 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5d18635ef69868724fce35c058d874605cacc49
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 12:57:47 2010 +0000

    build: add installer files and a small script to build a win32 installer from build project binaries.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4653 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd01ad093695b582d22afb371c5b2853149064be
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 12:51:55 2010 +0000

    pkcs15init: On Windows, get the profile directory from registry instead of configuration file.
    
    This allows the installation directory for non-dll files to be anywhere on the system.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4652 c6295689-39f2-0310-b995-f0e70906c6a9

commit 543f2faf2bcca992588f22c1b05c03411381acbb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 09:09:28 2010 +0000

    Update NEWS for 0.12.0
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4651 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4cbe69413b0681e6763bcf234093633e5ddd7d1d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 08:44:32 2010 +0000

    Add build script for Mac OS X. Uses github copies of SVN for source.
    
    Includes:
    Add static engine_pkcs11.so to the 10.6 installer (#246)
    Patch from Mart Randala: add a nice background image and readme file and license file.
    Patch from João Poupas: fix a typo and also work with docbook-xsl from macports.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4650 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f518a96be2a6fd22e4ae4627c15700ecf9666e4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 08:40:54 2010 +0000

    Update OpenSC.tokend related default config file entries.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4649 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3d02dd63c618fb47b1b667a32e41afff6f58cfb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 08:32:42 2010 +0000

    CT-API, PC/SC: truncating atr_len makes no sense.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4648 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f03502b60f38c59923c3641c06b89d6b0cd489e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 23 14:47:14 2010 +0000

    pkcs11: check PKCS#11 function parameters for obvious errors and return CKR_ARGUMENTS_BAD early without locking the module.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4647 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a63e03e9aadc7c9d7d878432e5bfd021743eb07
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 23 14:47:07 2010 +0000

    pkcs11/pkcs15-init: remove automagic software key generation. Remove software based secret key handling from PKCS#11.
    
    Support for importing cleartext keys is left untouched, but all transparent key generation by either opensc-pkcs11.so or pkcs15-init is removed, to make the operation with cleartext keys visible to the user and his explicit wish.
    OpenSC is a PKCS#11 library for accessing keys protected by a smart card. Key material in software is not protected by smart cards and can leave a false sense of security to the user.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2010-April/013877.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4646 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f73d32e4082552ebd38cd84a59feff14d416c1e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 23 10:32:26 2010 +0000

    libopensc: Remove unused internal SC_ERROR_EXTRACTABLE_KEY and correct relevant comments (native != extractable)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4645 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98255b109a559fc40084dbfa4557ecf2bbba40d5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 23 10:32:21 2010 +0000

    libopensc: Fix SC_ERROR defines and messages: remove unused error defines, fix the internal value of some PKCS#15 related errors.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4644 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b1a8b58289c250aeed74eb19209b6240e102a36
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 23 10:32:17 2010 +0000

    build: don't check for unused functions and headers.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4643 c6295689-39f2-0310-b995-f0e70906c6a9

commit c235f93cff1afac236ac692119bf6a5b7108af36
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 23 09:34:30 2010 +0000

    EstEID: sc_format_path sets SC_PATH_TYPE_PATH by default
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4642 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6474853217ef2b7c62db655fc8f63c5a1c799753
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 20:12:59 2010 +0000

    Support reading record files by SFI
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4641 c6295689-39f2-0310-b995-f0e70906c6a9

commit cba47b33bfc6ba8861dbf88dca525dd9e8889d8e
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 20:12:56 2010 +0000

    Only free current_file if it is set
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4640 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5990d26f80f989853d26f5b3ed39057d1e4fc857
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 20:12:53 2010 +0000

    If a FCI features tag 84h, then the file is a DF
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4639 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd396a0546b47d75e9b2fa58daf57dd546c00256
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 20 22:51:42 2010 +0000

    Refactored the "select the file referenced by current_path; die on error" idiom in opensc-explorer.
    
    This version, additionally, skips this step entirely if there is no current_path; this is useful when starting with --mf "".
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4638 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4e726bd09ba2b8c32be675981f04e39b1b643d78
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 20 22:51:39 2010 +0000

    Fix and document opensc-explorer's new -m, --mf option
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4637 c6295689-39f2-0310-b995-f0e70906c6a9

commit f47416d60e4e0d74aa184168925d5ce6938f903f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 18 15:08:51 2010 +0000

    Do not cast the return value of malloc(3) and calloc(3)
    
    From http://en.wikipedia.org/wiki/Malloc#Casting_and_type_safety
    " Casting and type safety
    
    malloc returns a void pointer (void *), which indicates that it is a
    pointer to a region of unknown data type. One may "cast" (see type
    conversion) this pointer to a specific type, as in
    
    int *ptr = (int*)malloc(10 * sizeof (int));
    
    When using C, this is considered bad practice; it is redundant under the
    C standard. Moreover, putting in a cast may mask failure to include the
    header stdlib.h, in which the prototype for malloc is found. In the
    absence of a prototype for malloc, the C compiler will assume that
    malloc returns an int, and will issue a warning in a context such as the
    above, provided the error is not masked by a cast. On certain
    architectures and data models (such as LP64 on 64 bit systems, where
    long and pointers are 64 bit and int is 32 bit), this error can actually
    result in undefined behavior, as the implicitly declared malloc returns
    a 32 bit value whereas the actually defined function returns a 64 bit
    value. Depending on calling conventions and memory layout, this may
    result in stack smashing.
    
    The returned pointer need not be explicitly cast to a more specific
    pointer type, since ANSI C defines an implicit conversion between the
    void pointer type and other pointers to objects. An explicit cast of
    malloc's return value is sometimes performed because malloc originally
    returned a char *, but this cast is unnecessary in standard C
    code.[4][5] Omitting the cast, however, creates an incompatibility with
    C++, which does require it.
    
    The lack of a specific pointer type returned from malloc is type-unsafe
    behaviour: malloc allocates based on byte count but not on type. This
    distinguishes it from the C++ new operator that returns a pointer whose
    type relies on the operand. (see C Type Safety). "
    
    See also
    http://www.opensc-project.org/pipermail/opensc-devel/2010-August/014586.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4636 c6295689-39f2-0310-b995-f0e70906c6a9

commit d37dd91b63a29d5e50b1a0e3ed039510e287c9a7
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 18 13:42:30 2010 +0000

    Use strlcpy(3), strlcat(3) in pkcs15-itacns.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4635 c6295689-39f2-0310-b995-f0e70906c6a9

commit b27928770120b242fe27b4ff9e5ba75aab939ee9
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 18 13:42:26 2010 +0000

    strlcat(3) implementation
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4634 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96df880730e841cc29d839deacf32302cc682a9b
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 18 13:42:21 2010 +0000

    Prevent card-incrypto34.c from catching the Italian CNS card's ATR
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4633 c6295689-39f2-0310-b995-f0e70906c6a9

commit acd062e0dd73eba80bb84369de8a9f24e7a2d908
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 18 13:42:16 2010 +0000

    Avert potential buffer overflows in pkcs15-itacns.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4632 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31d1a552d3d6eb9e9d9ac5efcc3dca3baa5fd554
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 16 09:33:56 2010 +0000

    Use (SCARD_READERSTATE *) instead of LPSCARD_READERSTATE since
    LPSCARD_READERSTATE is not define in old pcsc-lite (< 1.6.3) nor Mac OS X
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4631 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1ff1abb1bdcbadbc0dc4580bbf5e3a1ec862ffa
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 16 08:59:14 2010 +0000

    Fix and change ignored readers feature introducsed in r4626 for Windows. strcasestr is GNU specific extension.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4630 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb8b2d5f4b54783a1757522983f8f3857cfa895a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 16 08:59:09 2010 +0000

    itacns: add itacns.h to distribution targzip, fix card driver ordering.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4629 c6295689-39f2-0310-b995-f0e70906c6a9

commit 484d484c21b59c3aaf6e2b577dbc19ddb8f5cfe7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 16 08:59:05 2010 +0000

    PC/SC: Fix building on OS X and mingw32 after r4626
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4628 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71cdef0ed255b63f34246960d3c9c36c2d2f8989
Author: ep <ep@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 16 00:56:27 2010 +0000

    New card driver: Italian CNS/CIE (eID)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4627 c6295689-39f2-0310-b995-f0e70906c6a9

commit 947c3291dbd500215245b522b5ec30025db4f2c6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 15 14:57:34 2010 +0000

    Use SCARD_READERSTATE instead of SCARD_READERSTATE_A
    
    SCARD_READERSTATE_A is not used by Microsoft API and is no more
    defined/used by pcsc-lite >= 1.6.2
    
    Thanks to Josef Windorfer for the bug report
    http://www.opensc-project.org/pipermail/opensc-user/2010-August/004235.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4626 c6295689-39f2-0310-b995-f0e70906c6a9

commit fde87a8c6e612f326b5cc726117e7a4aa2486d36
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 15 09:34:13 2010 +0000

    pkcs11: remove outdated config entry parsing.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4625 c6295689-39f2-0310-b995-f0e70906c6a9

commit a938d3b67fe84344c50f67f460336994282cd6c6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 15 09:33:18 2010 +0000

    Implement simple reader ignoring, to exclude readers from OpenSC PKCS#11 module.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4624 c6295689-39f2-0310-b995-f0e70906c6a9

commit 409284ed60b606edcd5cfe88d04deae776fcc230
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 14 12:18:27 2010 +0000

    opensc-tool: Fix ACL reporting for EF-s. Patch by Emanuele Pucciarelli.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4623 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f639f48c459ee6a65017a05807272ec0ada0331
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 13 09:27:38 2010 +0000

    Add back MAX_ATR_SIZE which was erroneously removed in r4611. Fixes mingw32 build.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4622 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ac66ae4cf9ee2f4520b8969019111b6a5ed4cd5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 12 21:49:14 2010 +0000

    Correctly use pin2 when needed.
    Patch from OpenSUSE.
    
    Closes ticket #249.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4621 c6295689-39f2-0310-b995-f0e70906c6a9

commit c7a99c2e030d475a511208d04bac3c80676c67f3
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 30 07:09:15 2010 +0000

    Use || instead of | in a #if check
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4619 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8c438fde1a1593abfd0dec4a08f01e0a9d47478
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 27 08:05:31 2010 +0000

    configure: Add possible docbook paths on OS X (Fink, MacPorts)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4612 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c2c12bb781e266613cbe4f1e72119ba08e9a238
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 13:16:37 2010 +0000

    Trac #244: Fix structure packing on Apple and SUN. Fix display detection by updating structure definitions.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4611 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11dc9ba79720efe420f37be1d8f5f1913c493d7e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 11:18:00 2010 +0000

    cardos-tool: fix handing of --help/--verbose/--debug
    
    --debug was not documented and not used by other tools; --help was not handled.
    
    Thanks to Ludolf Holzheid for noticing this.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4596 c6295689-39f2-0310-b995-f0e70906c6a9

commit 002843c14046ebc3bbbe538e1cc057ec1f329247
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 11:17:57 2010 +0000

    pkcs15-init: fix help text ordering (Ludolf Holzheid)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4595 c6295689-39f2-0310-b995-f0e70906c6a9

commit 578bbd2104e4798b98a80aa4c91be924d910bb65
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 11:17:53 2010 +0000

    man: use --auth-id instead of bogus --pin-id in pkcs15-tool man page. [Ludolf Holzheid]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4594 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13a42de128fb32884966a38717a841b9a578029a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 21 09:50:10 2010 +0000

    pkcs11 tool: fix messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4593 c6295689-39f2-0310-b995-f0e70906c6a9

commit 764c1d9183bddb25f11dcea013b2fa12c734aa70
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 20 07:51:07 2010 +0000

    minors log message corrections to build successfully.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4586 c6295689-39f2-0310-b995-f0e70906c6a9

commit 006c30c2e0ec0e36560448c03ce63ec7a500f112
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 8 08:09:46 2010 +0000

    #245: pkcs15 asn1: 'subjectName' in 'commonPrivateKeyAttributes' is optional
    
    thanks to Jean-Michel
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4518 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ea6b28405d5e5afdfefd4a02f04c8c88f9864db
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 6 12:40:56 2010 +0000

    #229: pkcs15init entersafe: 'sanity-check' includes the update of the User PIN's 'pinFlags'
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4516 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a3c41a6db22503f184669751b2efc6e6a96b7aa
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 6 09:09:04 2010 +0000

    pkcs15: encode/decode 'AccessControlRules' in 'CommonObjectAttributes'
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4515 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7e25bb407e9c3f9de593a6ada582fc1add7e0dd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 5 17:54:12 2010 +0000

    Fix MuscleApplet version detection
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4514 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1090d19d3070db5b52fae7da778805d904a36a4a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 5 14:43:31 2010 +0000

    #60: pkcs11-tool: print key sizes from CK_MECHANISM_INFO
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4513 c6295689-39f2-0310-b995-f0e70906c6a9

commit b78d7630e7c2bb7e96b49663aeafcf05cf9f05ca
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 5 13:29:10 2010 +0000

    pkcs15: encode/decode 'subjectName' in 'CommonPrivateKeyAttributes'
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4512 c6295689-39f2-0310-b995-f0e70906c6a9

commit f85b625b47a9a56e0943674a839aa1e7169198cb
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 5 12:57:10 2010 +0000

    pkcs15: correct the comments
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4511 c6295689-39f2-0310-b995-f0e70906c6a9

commit f18ba7d98407890be1ba1d983910cae96952016a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 5 12:54:23 2010 +0000

    pkcs15: decode 'supportedAlgorithms' in 'TokenInfo'
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4510 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d82e8ababab85480aeffb955cad27267a938883
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 5 09:33:51 2010 +0000

    re-distribute 'define' macros between types.h and opensc.h
    
    move 'define' macros closer to the definition of the related data types
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4509 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae1433622127b4adc01ca81d723f5fcf20327145
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 2 14:26:29 2010 +0000

    pkcs15init: create frame to implement card specific 'sanity check' procedure
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4508 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2883c17b1574d6688dd9dfd83486a487d10189d0
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 2 13:46:13 2010 +0000

    pkcs15init: homogenize argument order of pkcs15init operations
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4507 c6295689-39f2-0310-b995-f0e70906c6a9

commit 765ea98cfbf5f28a6df0a69dd8c8180de4d2e270
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 1 12:31:52 2010 +0000

    tools opensc-explorer: for 'apdu' command accept space separated hexadecimal data
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4500 c6295689-39f2-0310-b995-f0e70906c6a9

commit e26783201a24b5795783939475fe19099463c529
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 30 17:27:04 2010 +0000

    Assuan is not used.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4499 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd5c186767858c536ffade1413da5e0281c0d3a2
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 21 10:49:58 2010 +0000

    pkcs15/pkcs11: encoding of certificate's attribute 'serialNumber'
    
    Applying patch of Andre Zepezauer. Thanks.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4451 c6295689-39f2-0310-b995-f0e70906c6a9

commit bcc4500f24fe4e022399cf224ab2a1129a7522db
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 21:04:36 2010 +0000

    pkcs15-init: only override --verbose to ctx->debug if it was set on command line.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4423 c6295689-39f2-0310-b995-f0e70906c6a9

commit d40da986db4e8cd161fface2af3a886c54824ab0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 15:08:14 2010 +0000

    Revert "pkcs15-init tool: with the new option 'use-default-debug-settings' the debug settings from opensc.conf are used"
    
    This reverts commit b7d492fbae6c57f6f5173ef857265efcee42cdf0.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4422 c6295689-39f2-0310-b995-f0e70906c6a9

commit d61e7b5ba17cc06a62699028d5b6c0402c1194f6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 14:12:27 2010 +0000

    OSX: For Tokend, set the debug file by default to /tmp/opensc-debug.log
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4421 c6295689-39f2-0310-b995-f0e70906c6a9

commit df64d39f68a8089d5096f7c5ab9b813e017cd4f8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 14:11:39 2010 +0000

    westcos-tool: remove compiler warnings
    
    westcos-tool.c: In function ‘main’:
    westcos-tool.c:375: warning: unused variable ‘lecteur’
    westcos-tool.c:373: warning: unused variable ‘card_presente’
    westcos-tool.c:372: warning: unused variable ‘p’
    westcos-tool.c:371: warning: unused variable ‘i’
    westcos-tool.c: At top level:
    westcos-tool.c:43: warning: ‘version’ defined but not used
    westcos-tool.c:45: warning: ‘nom_card’ defined but not used
    westcos-tool.c:103: warning: ‘no_lecteur’ defined but not used
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4420 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea7a0ac9a195375202d4eec0b0615c88e254f44f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 13:43:10 2010 +0000

    pkcs11: move the slot list size check to slot creation.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4419 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfe5b4a965243949fc9894420a8cd9b6b80d2aa2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 13:43:05 2010 +0000

    style: space -> tab
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4418 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02f45075642b099e578668fadf4e8fd3d7a9c349
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 13:42:59 2010 +0000

    pkcs11: Patch from Andre Zepezauer to remove max_virtual_slots allocation.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2010-June/014356.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4417 c6295689-39f2-0310-b995-f0e70906c6a9

commit 48615686acd9c70c22b0a9162809d4c908dc733f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 12:01:04 2010 +0000

    style: // -> /* */
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4416 c6295689-39f2-0310-b995-f0e70906c6a9

commit e6803d9ca08ed156c18d614ff130709809d38292
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 11:43:10 2010 +0000

    Use CK_RV (defined as unsigned long) instead of int for the type the
    return code of C_* functions
    
    Thanks to Martin Vogt for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2010-June/014351.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4415 c6295689-39f2-0310-b995-f0e70906c6a9

commit eab7adea1221f98f15cb4cafd99b2e0267391552
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 11:32:21 2010 +0000

    pkcs11-global.c: In function ‘C_WaitForSlotEvent’:
    pkcs11-global.c:624: warning: unused variable ‘ii’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4414 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d01cb1cd1d8597fadfed66b9f0dd61ecb630596
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 11 07:36:01 2010 +0000

    Rename p15emu-westcos.c to pkcs15-westcos.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4413 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3cfc64ee6b288a7a829313ff872062a98d954845
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 11 07:35:45 2010 +0000

    style: // -> /* */
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4412 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d511b86100061e075cf5a1eb4d24233dd03d9ec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 10 14:49:54 2010 +0000

    MuscleApplet: Check for protocol version to be forward-compatible. Remove some whitespace. Remove support for <1024b keys.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4411 c6295689-39f2-0310-b995-f0e70906c6a9

commit 268e6270d82ecd9cb82870e384ec3b04f3d8e58b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 10 09:08:00 2010 +0000

    MuscleApplet: Don't set the file ID as the name of the file. It is redundant and does not look nice.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4410 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1c77b96ab1c993bd891060c5d86ca5f62a9fc7f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 9 13:53:11 2010 +0000

    Entersafe: cache the presented PIN on personalization, simplify the code a bit.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2010-June/014312.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4408 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14d82f9e4cf956efcc55b9e177208767a84a8f63
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 9 13:39:28 2010 +0000

    Documentation: there is no external API, remove the manpage generation.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4407 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8737ace703223eb4d3363232f650c736460cdeaf
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 9 11:18:22 2010 +0000

    Entersafe: the default profile should have local PIN-s
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2010-June/014310.html
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4406 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce0645d6d1657dac45df2a4354a1d5c7dbd5d624
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 9 10:06:42 2010 +0000

    Fix compilation without OpenSSL
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4404 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9daf30bba013e490af7a1d4aa9a55428d2337a7
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 8 14:41:49 2010 +0000

    cardos-tool.c can be now compiled with OpenSSL 0.9.7 (SHA256 checksum verification is replaced by SHA1)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4401 c6295689-39f2-0310-b995-f0e70906c6a9

commit 127136caf8090f54ae06293046c17f1c381d6bc3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 8 10:45:07 2010 +0000

    tools: Mac OS X 10.5 uses OpenSSL 0.9.7 which does not include SHA256 support. Fix building for 10.5.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4400 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06028a7f9e2cd0adc7d5a5cfb5ba833bc8da00db
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 5 08:51:37 2010 +0000

    fix:
    openssl (lock_dbg_cb): already locked (mode=9, type=30) at eng_list.c:360
    openssl (lock_dbg_cb): not locked (mode=10, type=30) at eng_table.c:186\
    
    Thanks to Jan Just Keijser for development and patch
    http://www.opensc-project.org/pipermail/opensc-devel/2010-June/014314.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4398 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f3f6dec6b3b092214813ff1a1da86bb26cbda49
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 4 22:23:47 2010 +0000

    fix: 'openssl: double free or corruption' (load gost engine before loading engine_pkcs11 (which loading gost engine))
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4397 c6295689-39f2-0310-b995-f0e70906c6a9

commit 073ad7a4c417701f998048ec6e5601169aa0f494
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 1 12:28:30 2010 +0000

    Fix #223: implement ctbcs_build_modify_verification_apdu.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4396 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f527112800516b8aad72a5c74622e16d0bc44b6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 1 12:28:23 2010 +0000

    CT-API: Fix the mess left from broken [3931] and some pieces from [4118].
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4395 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68f12c881dde464a92943101b576af1837bec1bd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 31 16:49:55 2010 +0000

    Fix a segfault leftover from r4118
    
    Thanks to Andre Zepezauer for the report and patch.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4391 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4e32732989bd1bb4b5c09eb3e6937c956d6c345
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 30 13:54:54 2010 +0000

    Rutoken S: add 'aid' to profile (for '-init --create-pkcs15 --so-pin 87654321 --so-puk  -p rutoken+small')
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4390 c6295689-39f2-0310-b995-f0e70906c6a9

commit 15d51479aee9dcbef31de2d3e65bfffbcd359c79
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 30 13:52:04 2010 +0000

    fix: SIGSEGV
    
    Program received signal SIGSEGV, Segmentation fault.
    0x00007f7d6f29fd55 in free () from /lib64/libc.so.6
    (gdb) bt
    #0  0x00007f7d6f29fd55 in free () from /lib64/libc.so.6
    #1  0x00007f7d703a4128 in sc_update_dir (card=0x17463a0, app=<value optimized out>) at dir.c:306
    #2  0x00007f7d7040cb58 in sc_pkcs15init_add_app (card=<value optimized out>, profile=0x1754840,
        args=<value optimized out>) at pkcs15-lib.c:2354
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4389 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f74f69695639e51a55defc68fad44526cec7338
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 30 07:56:34 2010 +0000

    fix: memory leak (but see FIXME)
    
    ==21111== 1,360 (120 direct, 1,240 indirect) bytes in 1 blocks are definitely lost in loss record 107 of 109
    ==21111==    at 0x4C24F0D: realloc (vg_replace_malloc.c:476)
    ==21111==    by 0x409D23: sc_pkcs11_register_mechanism (mechanism.c:44)
    ==21111==    by 0x410595: pkcs15_bind (framework-pkcs15.c:3160)
    ==21111==    by 0x4085DD: card_detect (slot.c:214)
    ==21111==    by 0x408887: initialize_reader (slot.c:114)
    ==21111==    by 0x404C50: C_Initialize (pkcs11-global.c:247)
    ==21111==    by 0x4034C9: main
    ==21111==
    ==21111== LEAK SUMMARY:
    ==21111==    definitely lost: 120 bytes in 1 blocks
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4388 c6295689-39f2-0310-b995-f0e70906c6a9

commit a91e77187b469e65ad8caa5cc51d1a2e30e445d4
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 30 07:52:14 2010 +0000

    fix: memory leak - next object missed out to release
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4387 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5c649e0ea18d751723ac41a5d7936e8407c5b2e
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 30 07:31:31 2010 +0000

    fix: memory leak
    
    example:
    
    int main()
    {
            C_Initialize(NULL);
            C_Finalize(NULL);
            return 0;
    }
    
    ==4625== 592 (504 direct, 88 indirect) bytes in 1 blocks are definitely lost
    in loss record 9 of 10
    ==4625==    at 0x4C24137: calloc (vg_replace_malloc.c:418)
    ==4625==    by 0x407FD9: create_slot (slot.c:80)
    ==4625==    by 0x40452C: C_Initialize (pkcs11-global.c:243)
    ==4625==    by 0x40342A: main
    ==4625==
    ==4625== 4,736 (4,032 direct, 704 indirect) bytes in 8 blocks are definitely
    lost in loss record 10 of 10
    ==4625==    at 0x4C24137: calloc (vg_replace_malloc.c:418)
    ==4625==    by 0x407FD9: create_slot (slot.c:80)
    ==4625==    by 0x408102: initialize_reader (slot.c:108)
    ==4625==    by 0x4044E0: C_Initialize (pkcs11-global.c:247)
    ==4625==    by 0x40342A: main
    ==4625==
    ==4625== LEAK SUMMARY:
    ==4625==    definitely lost: 4,536 bytes in 9 blocks
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4386 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78d6bc418975608da55706dc79837f116c5b9064
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 27 08:12:20 2010 +0000

    pkcs15init: fix undeclared variable
    
    Noted by Jean-Michel, thanks.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4383 c6295689-39f2-0310-b995-f0e70906c6a9

commit fff1963931e11675d9b62ba4cdbb5a3d5e4a5904
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 26 14:33:01 2010 +0000

    pkcs15init: do not reuse existing file when storing object data or updating certificate
    
    merged with r4380:4380 of https://www.opensc-project.org/svn/opensc/branches/vtarasov/opensc-sm.trunk
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4382 c6295689-39f2-0310-b995-f0e70906c6a9

commit fec213ad2e256baf61cc30d91405b07e6ab4baef
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 25 08:06:28 2010 +0000

    pkcs11: DER encoded value for CKA_SERIAL_NUMBER
    
    discussed in http://www.opensc-project.org/pipermail/opensc-devel/2010-May/014264.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4375 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d3722389de98fc116770f94621a9a9f4bb9b4aa
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 19 19:49:12 2010 +0000

    fix: Rutoken S: no need to reserve 5000 bytes for AppDF (pkcs15.profile: size = 5000)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4365 c6295689-39f2-0310-b995-f0e70906c6a9

commit 73c516a7a0cfc006956a53526f927b96d5b09546
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 19 09:18:38 2010 +0000

    pkcs11: resolve 'endless polling' in C_WaitForSlotEvent()
    
    http://www.opensc-project.org/pipermail/opensc-devel/2010-April/013947.html
    
    Tested with Firefox 3.6.3 in WinXP SP3 .
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4363 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9b0d643de89965df968ce86faf56545cb2c7504
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 19 08:37:29 2010 +0000

    libopensc: in sc_pkcs15_verify_pin() if no PIN provided try to use pin pad
    
    It's a complement to the r4361.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4362 c6295689-39f2-0310-b995-f0e70906c6a9

commit e23756123eef650194e4e53c73819ce74d837873
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 19 08:26:01 2010 +0000

    pkcs15init: when verifying PIN, if no value supplied, try to use pin pad
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4361 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99c51c6748c1054d9fe8791bf82d452ab94de24c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 19 08:18:34 2010 +0000

    libopensc: do not invalidate card cache in sc_unlock()
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4360 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffc9f8efc69c00f9208522d6f3b22ebe44d98404
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 19 08:17:53 2010 +0000

    pkcs11: by default do not lock login
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4359 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98037b795d2faa29273d2b480082fd0dcf34648d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 14 13:37:48 2010 +0000

    MuscleApplet: Detect MuscleApplet specific SW-s; re-organize the source a little.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4350 c6295689-39f2-0310-b995-f0e70906c6a9

commit 290d1cb4d6093b22e5b8c65c9706dacda27cab79
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 14 07:40:02 2010 +0000

    Muscle: use MuscleApplet as the name of the card as well as driver
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4349 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfa340ba512bd97d66adcfc465dd58529e2ba885
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 14 07:39:58 2010 +0000

    MuscleApplet: remove useless card detection flagging, don't call the default driver init operation.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4348 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46def8b86cae98791049fd648128ad091ffec172
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 13 21:57:28 2010 +0000

    fix: loading openssl engine with GOST algorithms
    
    Thanks to Jan Just Keijser, Martin Paljak, Andreas Jellinghaus, Robert Relyea, Dimitrios Siganos
    
    see:
    http://www.opensc-project.org/pipermail/opensc-devel/2010-April/013956.html
    http://www.opensc-project.org/pipermail/opensc-devel/2010-April/013966.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4347 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed610517d7a8e31e64d6df7dbda3562fef218516
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 13 17:47:04 2010 +0000

    plcs11: set default value for 'lock_login' to 'true' as it' stated by
    the commets in opensc.con.in
    
    At the origin there were problem of signing with Feitian card, noted by
    Ludovic.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2010-May/014180.html
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4346 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39642a5d9308d62d29d4812ab7dc8d666f9b299c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 13 17:45:43 2010 +0000

    in feitian profile set 'local' flag for the User PIN
    
    so that Feitian card profile will reflect the real card initialisation.
    
    At the origin there were problem of signing with Feitian card, noted by Ludovic.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2010-May/014180.html
    
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4345 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f1683d7bd0cfa8cd06d297ca3b9d3cc31d7059f
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 11 14:40:10 2010 +0000

    wetcos-tools: add util.c to compile.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4339 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed26525e937821e3b105f8f6dc1ab9f27fd2a9a6
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 11 14:35:38 2010 +0000

    update westcos-tools documentation with new options
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4337 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ae92ebcecadf571d92fbf4f28af74a86cd20913
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 11 14:34:39 2010 +0000

    clean some code and use more opensc standard
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4336 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4df57eb4dc107728b6acd2594d7124e07d28ddb
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 11 14:30:15 2010 +0000

    --wait option don't need argument
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4335 c6295689-39f2-0310-b995-f0e70906c6a9

commit e63d12bc8f9bee572dfda8c76b95c922219395f8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 10 14:35:43 2010 +0000

    replace spaces by tab
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4326 c6295689-39f2-0310-b995-f0e70906c6a9

commit 922d7cdc66d51b991ed8c29baf4d0f04e74f806a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 10 09:18:49 2010 +0000

    add TODO comments
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4325 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ad7704247f6e7c3e65ed4a5e0bb5c8684adb776
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 7 12:49:53 2010 +0000

    westcos pkcs15 emulate certificat or public key not both
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4310 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e74991250f0008abfe1fb5c7f89d9d06c0b8448
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 5 09:31:44 2010 +0000

    Add cardmod pcsc protocol detection
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4288 c6295689-39f2-0310-b995-f0e70906c6a9

commit 140f3d0d980351098b450f5d6606d343f34e97b8
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 3 15:44:27 2010 +0000

    liopensc: fix debug message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4283 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac41eba3ac90fff040720cfcc51fea7ef1772679
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 1 12:15:36 2010 +0000

    win32: merge the branches/vtarasov/opensc-sm.trunk
    
    update win32 compilation;
    Unix style line ending in src/pkcs15init/pkcs15-oberthur.h;
    variables declaration issue in src/tools/cardos-tool.c.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4280 c6295689-39f2-0310-b995-f0e70906c6a9

commit f505d4f5be9c474e5b527caa05485983ccae2fda
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 28 09:20:19 2010 +0000

    pkcs15-init tool: remove blank line after PIN was prompted
    
    Noted by Martin.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4273 c6295689-39f2-0310-b995-f0e70906c6a9

commit f17ca0fd74391f5a1493479de11c8276b3e28ab1
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 28 09:20:18 2010 +0000

    tools: in local 'getpass' procedure getline() is not used any more
    
    Without GNU C extention 'getline()' the same code of the local 'getpass' procedure is used for Mac OS and Linux.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4272 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5f201bcb544b3a58d36730bf6472d36bd94ddb5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 28 09:20:17 2010 +0000

    pkcs15init: in sc_pkcs15init_update_file() take care about file selection errors
    
    Noted by Ludovic.
    
    In sc_pkcs15init_update_file() procedure the file selection errors other then SC_ERROR_FILE_NOT_FOUND were not treated.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4271 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6fb4ff84aae66eddb433e4617c26ed6af96f541
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 28 09:16:27 2010 +0000

    Change in r4269 is not correct since sc_pkcs1_strip_02_padding() returns
    an int and not a size_t
    The new code is also simpler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4270 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71598ad460d60c53689d3b9ac595dc487e60e60f
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 27 13:25:17 2010 +0000

    r4208 breaks key unwrap.
    pkcs11-tool -tl gives an error and mail can not be anymore decrypted (tested with Thunderbird).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4269 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d5b34d4e80c50dc5b7f64fee958ee2dd79d1077
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 27 07:30:38 2010 +0000

    tools: thanks to Andreas; for win32 'get password' procedure uses _getch() instead of getchar()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4268 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25fa645b9028dee21023e0804186d3ae6491047e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 26 12:29:44 2010 +0000

    pkcd15-tool: use local 'getpass' procedure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4267 c6295689-39f2-0310-b995-f0e70906c6a9

commit 122d357fde9e8dc99d542fd9f267300997a0cbe6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 26 12:29:42 2010 +0000

    tools: thanks to Ludovic; check for getline() in configure.ac and use 'HAVE_GETLINE' macro in get password procedure.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4266 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06f5b0ba5b693ea511aff7869a1187c6c7cae958
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 24 17:37:02 2010 +0000

        pkcs15init: when updating certificate and when there are no ACLs in FCI of selected file use default ACLs from the card profile
    
        Some cards do not include security attributes into the FCI returned by 'SELECT' command.
        For such cards, when updating certificate, to authenticate 'UPDATE' operation use the
        'sc_file' with default ACLs instantiated from the card profile.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4265 c6295689-39f2-0310-b995-f0e70906c6a9

commit aa4d9511018530d9ef148e930b7fe8a2a8c254b9
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 14:38:23 2010 +0000

    Support for CardOS 4.4
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4264 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba04831e34dbfee207d63275dedbc79cc9234e5c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 11:57:10 2010 +0000

    sc_to_cryptoki_error(): check for the validity of ctx outside of the
    for loop to make the code more natural
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4263 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0400a2dc3584e67d60e1556490d57621c17aa18a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 10:51:13 2010 +0000

    pkcs11: make possible context dependent 'sc' to 'cryptoki' error conversion
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4262 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f4ee1b6e4c891cd34012a495f69ffcea8f32b47
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 20 17:09:26 2010 +0000

    pkcs15init: fix #96: more details for the load profiles error
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4261 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34841669a26a58185c30d63d24a8d0e2651555df
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 20 15:43:44 2010 +0000

    fix #118: thanks to Andreas: list algorithms in opensc-tool
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4260 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1966822aa72e8d9f107de14742f9e828cdb4565c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 20 15:11:58 2010 +0000

    fix 201: thanks to Christian Hohnstaedt: delete objects in pkcs11
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4259 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7d492fbae6c57f6f5173ef857265efcee42cdf0
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 19 12:13:16 2010 +0000

    pkcs15-init tool: with the new option 'use-default-debug-settings' the debug settings from opensc.conf are used
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4258 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83ca335da75d8c8b364b1e5fd437d33b4adec3a9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 19 12:10:56 2010 +0000

    cflex pkcs15init: use temporary PINs that satisfy default pin policy
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4257 c6295689-39f2-0310-b995-f0e70906c6a9

commit a38e931b31990838cf58e7301078befde44ce315
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 19 08:31:25 2010 +0000

    doc: little fix of opensc-explorer.xml
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4256 c6295689-39f2-0310-b995-f0e70906c6a9

commit be3670600b13b8177b8795b42e1dad1a912b9db6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 16:38:49 2010 +0000

    emulator fix #125: thanks to Thomas Harning: emulator specific 'clear' handler
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4255 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07c98da3a867a3d371c133de5a18dd9a4b18a5f6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 16:01:13 2010 +0000

    pkcs15-init: #101: use PIN object's label in the PIN prompt
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4254 c6295689-39f2-0310-b995-f0e70906c6a9

commit 00044617342bd1937878a18dc532a9e565f3d296
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 14:51:44 2010 +0000

    oberthur: add in emulator and create in pkcs15init the private data object
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4253 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c813ce57bc7a2bd7560e499fed9d1c7ba905137
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 09:45:44 2010 +0000

    pkcs15-init tool: use Ctrl-C sensible 'getpass'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4252 c6295689-39f2-0310-b995-f0e70906c6a9

commit a10bf0e35664ab752aef83bdb56dac00aa91bb1a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 08:32:35 2010 +0000

    pkcs11-tool: #120: use 'getpass' sensible to Ctrl-C, thanks to Andreas
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4251 c6295689-39f2-0310-b995-f0e70906c6a9

commit 238ebeb159567d00bf3561322b13ef48d7ef6f0d
Author: pk <pk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 08:24:17 2010 +0000

    fixed incorrect IDs of SigG-PINs from 6,7 to 5,6
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4250 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0618ba24c0b442d2965e05a39057f7712ad019d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 07:47:16 2010 +0000

    tools: #120: 'getpass' sensible to Ctrl-C, thanks to Andreas
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4249 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7575879cc5ca3a8b811e5fcfec4f9b2c802d95b
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 07:30:21 2010 +0000

    pkcs11-tool: useless assignment
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4248 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce485e48951d6ba60cc6c8acdbbc4db87ccbbbc5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 19:59:32 2010 +0000

    pkcs11-tool: fix #124; thanks to Thomas Harnings: for the signature tests cannot be used private key without corresponding public key or certificate
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4247 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7813ba7130b6efbb3996fa8b8e8eb06fe068333a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 19:03:53 2010 +0000

    doc: update 'opensc-explorer' documentation
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4246 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a0578c670bfebd8abc2c7ad2d5deead73341c31
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 18:51:34 2010 +0000

    set_cka_label(): remove a possibly invalid memory access
    
    See
    http://www.opensc-project.org/pipermail/opensc-devel/2010-April/013990.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4245 c6295689-39f2-0310-b995-f0e70906c6a9

commit d10effd58c8f58c5a6dbe500fbf7f6c1bfb40cf3
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 16 19:34:47 2010 +0000

    libopensc: fix #209
    
    In APDU consider Le=0 as Le=256
    
    Thanks to FrankMpunkt, Martin, ludovic.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4244 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fdfe2574dd93b5a157a2670b358941d20288344
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 15 15:37:55 2010 +0000

    pkcs11: Christian Hohnstaedt's patch: convert CKA_LABEL to the null-terminated pkcs15 label
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4243 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad0207852e0a61c0d84823dd8b2b2a54169277a6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 11:52:27 2010 +0000

    libopensc for win32: get working logging when compiled with Visual Studio
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4242 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9396297f2156d0d5e8c6814a57745284d4b15636
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 11:41:16 2010 +0000

    libopensc for win32: to be compiled
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4241 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e5b3c540ce1abb17deaf9f73aa43bda136705e9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 11:40:08 2010 +0000

    common for win32: to be compiled
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4240 c6295689-39f2-0310-b995-f0e70906c6a9

commit f3e3dc9bee02fe9f3a95eb18c311aed0561b6029
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 11:37:39 2010 +0000

    common for win32: add simclist
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4239 c6295689-39f2-0310-b995-f0e70906c6a9

commit 801fdcefe2b7aa284de064aee5aa46ea9961946e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 11:36:40 2010 +0000

    pkcs11, libopensc, pkkcs15init: not use C99 designated initializers
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4238 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d6eaca8308d95d9c18e3517ca9e2015d16eb9f7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 11:34:11 2010 +0000

    pkcs11 for win32: add source for display functions
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4237 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ec26d75ae2d4f713d328b8e453c72799bf605ac
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:30:03 2010 +0000

    JCOP/BlueZ: remove unused code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4236 c6295689-39f2-0310-b995-f0e70906c6a9

commit dac21574bf8638773a434596c4447e73a6b6cb0b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:59 2010 +0000

    card-incrypto34: Remove dead code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4235 c6295689-39f2-0310-b995-f0e70906c6a9

commit be43ca7bb222116ed5a1d15644ac85c7cd063972
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:53 2010 +0000

    Remove cardos-info (renamed to cardos-tool in 2008)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4234 c6295689-39f2-0310-b995-f0e70906c6a9

commit a20fa13922ecd6aa3df33edf30c0c3e98a5956c9
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:50 2010 +0000

    pkcs15-init: remove dead code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4233 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75df8e9d2a32e3e9b24e572586c1dba94149f0c6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:45 2010 +0000

    piv-tool: remove dead code.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4232 c6295689-39f2-0310-b995-f0e70906c6a9

commit 847f162698acf9709c4ce4aff0ed76488fc765e2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:42 2010 +0000

    docs: the correct name is cardos-tool
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4231 c6295689-39f2-0310-b995-f0e70906c6a9

commit 349b31ecf39d4e8fe99d4d16d5a819c1642b2e43
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:37 2010 +0000

    westcos-tool: fix header, the file is .c not .exe
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4230 c6295689-39f2-0310-b995-f0e70906c6a9

commit f63e2eef4bf83161c9286f606f1da9125c967f91
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:33 2010 +0000

    cryptoflex-tool: remove dead code from 2002
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4229 c6295689-39f2-0310-b995-f0e70906c6a9

commit 57c38d94adb25fe5b5eef76ff25c5f8857c9703f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:27 2010 +0000

    cryptoflex-tool: remove dead code.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4228 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1615528900ea271a1ffdd45265630df51d24578
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:21 2010 +0000

    netkey-tool: The tool is included in OpenSC, no need to have a compilation tip in the file header.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4227 c6295689-39f2-0310-b995-f0e70906c6a9

commit c73aaf990a1477971a48ce73b80e1089f0842fed
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:17 2010 +0000

    pkcs15-tool: fix help text, reader must no be a number
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4226 c6295689-39f2-0310-b995-f0e70906c6a9

commit 119546e7bce9bffa20c5f6231f7f743b21fa3e47
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:12 2010 +0000

    cryptoflex-tool: use the code in util.c to connect to the card.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4225 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9361c956adc9d0e1d7826a239c74afdb41d17133
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:08 2010 +0000

    pkcs15-crypt: remove useless #if 1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4224 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7720f3759c04330bbcae75f20ee248318b52b7ec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:29:03 2010 +0000

    eidenv: remove a redundant sc_lock call, already done in util.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4223 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b40b0eb0c6c70d27929fee8e1bfc6a945ecdcf3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 11:28:59 2010 +0000

    pkcs15-tool: Remove a redundant sc_lock/sc_unlock pair
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4222 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64d05bb6d787d6092b0d98d171a108f8e750f142
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 13 09:12:03 2010 +0000

    compile for win32: fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4221 c6295689-39f2-0310-b995-f0e70906c6a9

commit a31be9540cc35bd386856229c4a1e71e5beace04
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 12 13:48:54 2010 +0000

    libopensc in win32: no more ui.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4220 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3068f58d27b128379758e2a2633a32237c5ea7e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 12 13:42:11 2010 +0000

    libopensc in win32: no more ui.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4219 c6295689-39f2-0310-b995-f0e70906c6a9

commit 523d52924867adbf2e95e510cda35ed281c2dd5f
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 12 13:41:04 2010 +0000

    pkcs15init: no more 'keycache' sources
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4218 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3652ebf83c3c44b0edf17729e54b8732beaf7fe
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 12 13:37:38 2010 +0000

    pkcs15init: no more 'keycache' sources
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4217 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c7aefe76e4dced369c6329e98e6e7728da005d4
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 12 08:46:27 2010 +0000

    pkcs15init: corrent debug messages
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4216 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9eb1b3bbb5f1dda41486cc16a544f7e7c31ec46
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 12 08:44:24 2010 +0000

    pkcs15init: for the newly generated key object set public key as it's content
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4215 c6295689-39f2-0310-b995-f0e70906c6a9

commit 741d8fc0b85b8c12cd181ef67629da85053fb7e2
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 11 17:44:39 2010 +0000

    pkcs11-tool: #75: key for signature can be selected by object_id
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4214 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3177b727ae64353072bfad1f1d0b2490b849565
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 14:08:22 2010 +0000

    Use explict field names in the static initialisation to make it more
    robust to code change
    
    Fix
    card-myeid.c:44: warning: missing initializer
    card-myeid.c:44: warning: (near initialization for ‘myeid_drv.atr_map’)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4213 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8fa63631151f89fdcfd961d48faafa37b8aee4a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:57:30 2010 +0000

    Do not use a type of possibly different size.
    Would fail on PowerPC in 64-bits for example.
    
    Fix
    card-entersafe.c: In function ‘entersafe_cipher_apdu’:
    card-entersafe.c:197: warning: passing argument 3 of ‘EVP_EncryptUpdate’ from incompatible pointer type
    card-entersafe.c: In function ‘entersafe_mac_apdu’:
    card-entersafe.c:270: warning: passing argument 3 of ‘EVP_EncryptUpdate’ from incompatible pointer type
    card-entersafe.c:278: warning: passing argument 3 of ‘EVP_EncryptUpdate’ from incompatible pointer type
    card-entersafe.c:286: warning: passing argument 3 of ‘EVP_EncryptUpdate’ from incompatible pointer type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4212 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70b649e01b30bf32b6b2dcaadf90c158f7099024
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:51:51 2010 +0000

    Use (const char *) for static C-strings
    
    Fix
    reader-pcsc.c: In function ‘pcsc_detect_readers’:
    reader-pcsc.c:856: warning: initialization discards qualifiers from pointer target type
    reader-pcsc.c:884: warning: initialization discards qualifiers from pointer target type
    reader-pcsc.c:894: warning: initialization discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4211 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2ff157eefb20c60007f40badcb4c0fe4dabf60e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:49:54 2010 +0000

    Rename variables and parameters
    
    Fix
    muscle.c: In function ‘msc_create_object’:
    muscle.c:144: warning: declaration of ‘read’ shadows a global declaration
    /usr/include/unistd.h:477: warning: shadowed declaration is here
    muscle.c:144: warning: declaration of ‘write’ shadows a global declaration
    /usr/include/unistd.h:513: warning: shadowed declaration is here
    muscle.c: In function ‘msc_import_key’:
    muscle.c:941: warning: declaration of ‘read’ shadows a global declaration
    /usr/include/unistd.h:477: warning: shadowed declaration is here
    muscle.c:942: warning: declaration of ‘write’ shadows a global declaration
    /usr/include/unistd.h:513: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4210 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0500ef628b82cf22c6c80aac73727ecfe9e7fdc5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:45:27 2010 +0000

    Do not cast a pointer to a type of possibly different size.
    Would fail on PowerPC in 64-bits for example.
    
    pkcs15-wrap.c: In function ‘do_cipher’:
    pkcs15-wrap.c:152: warning: dereferencing type-punned pointer will break strict-aliasing rules
    pkcs15-wrap.c:159: warning: dereferencing type-punned pointer will break strict-aliasing rules
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4209 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0bf75f69f52730d3c8379c5f8f2920526d22dc9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:33:27 2010 +0000

    Do not cast a pointer to a type of possibly different size.
    Would fail on PowerPC in 64-bits for example.
    
    pkcs15-sec.c: In function ‘sc_pkcs15_decipher’:
    pkcs15-sec.c:136: warning: dereferencing type-punned pointer will break strict-aliasing rules
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4208 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c77a52f37797c6f74d0599d11c467bfb9bce1e2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:12:53 2010 +0000

    Remove 2 ugly casts and fix warnings
    
    asn1.c: In function ‘asn1_decode_entry’:
    asn1.c:979: warning: dereferencing type-punned pointer will break strict-aliasing rules
    asn1.c: In function ‘asn1_encode_entry’:
    asn1.c:1263: warning: dereferencing type-punned pointer will break strict-aliasing rules
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4207 c6295689-39f2-0310-b995-f0e70906c6a9

commit 379519e84e6eafd352035fc2a74732e34d1af294
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 13:11:07 2010 +0000

    Revert r4191 "Fix logic in pkcs15-tool/pkcs15-init -v"
    
    This reverts commit a61f61929647ed70f0258b2bcf1657fc5fef0fe1.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4206 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2820f78e0985687cbe0b853287acc3a2f63b068a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:23:21 2010 +0000

    Fix
    pkcs15-oberthur-awp.c: In function ‘awp_encode_data_info’:
    pkcs15-oberthur-awp.c:1211: warning: implicit declaration of function ‘sc_asn1_encode_object_id’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4205 c6295689-39f2-0310-b995-f0e70906c6a9

commit d4b143830a36a842a6b8d44e7fda64ae5c3d0518
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:21:48 2010 +0000

    Rename variable rand in rand_buf
    
    pkcs15-oberthur-awp.c: In function ‘awp_new_container_entry’:
    pkcs15-oberthur-awp.c:241: warning: declaration of ‘rand’ shadows a global declaration
    /usr/include/stdlib.h:176: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4204 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f6317b31b96590acc9da57dec25b9a2e76f4a03
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:19:14 2010 +0000

    Use size_t instead of int to fix a compiler warning
    
    pkcs15-oberthur.c: In function ‘cosm_write_tokeninfo’:
    pkcs15-oberthur.c:100: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4203 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8822668466f8a8fad057a56b5f3f81ca390c9f3a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:15:12 2010 +0000

    Use size_t instead of int to fix a compiler warning
    
    pkcs15-myeid.c: In function ‘myeid_generate_key’:
    pkcs15-myeid.c:687: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4202 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28a2ed6bd148458df97c00b21e3d7301691dfc58
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:13:41 2010 +0000

    Fix
    pkcs15-myeid.c: In function ‘myeid_new_file’:
    pkcs15-myeid.c:321: warning: assignment discards qualifiers from pointer target type
    pkcs15-myeid.c:323: warning: assignment discards qualifiers from pointer target type
    pkcs15-myeid.c:325: warning: assignment discards qualifiers from pointer target type
    pkcs15-myeid.c:327: warning: assignment discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4201 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c6b6f937a8a42bb50907d07c5bc0c8ddd02704a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:12:27 2010 +0000

    Fix
    pkcs15-entersafe.c:200: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:201: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:202: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:203: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:204: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:205: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:206: warning: initialization discards qualifiers from pointer target type
    pkcs15-entersafe.c:207: warning: initialization discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4200 c6295689-39f2-0310-b995-f0e70906c6a9

commit de2b498c31a4972f99547d9644df92f653e78f33
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:10:33 2010 +0000

    setcos_generate_key(): use size_t instead of int to fix a compiler
    warning
    
    pkcs15-setcos.c:488: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4199 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3aa685be228f66ba155efb3980fad57eca09a1f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 12:05:40 2010 +0000

    Use explict field names in the static initialisation to make it more
    robust to code change
    
    pkcs15-setcos.c:588: warning: missing initializer
    pkcs15-setcos.c:588: warning: (near initialization for ‘sc_pkcs15init_setcos_operations.emu_update_dir’)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4198 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f32e8673211aabec6accb513bdd0f21363aa6b0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 11:58:08 2010 +0000

    declare a variable (const char *) to fix compiler warnings
    
    pkcs15-setcos.c: In function ‘setcos_new_file’:
    pkcs15-setcos.c:263: warning: assignment discards qualifiers from pointer target type
    pkcs15-setcos.c:265: warning: assignment discards qualifiers from pointer target type
    pkcs15-setcos.c:267: warning: assignment discards qualifiers from pointer target type
    pkcs15-setcos.c:269: warning: assignment discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4197 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88764575f28c31887850755ee410e2ba7a245d58
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 11:55:13 2010 +0000

    use (const char *) as return type to avoid compilation warnings:
    
    pkcs15-lib.c: In function ‘get_template_name_from_object’:
    pkcs15-lib.c:2152: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2154: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2156: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2159: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2161: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c: In function ‘get_pin_ident_name’:
    pkcs15-lib.c:2815: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2817: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2819: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2823: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2825: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2827: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2829: warning: return discards qualifiers from pointer target type
    pkcs15-lib.c:2832: warning: return discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4196 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad1dddabf35a0f5b98e3bc0b68351a3847a2f693
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 2 11:43:09 2010 +0000

    use explict field names in the static initialisation to make it more
    robust to code change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4195 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5957c7a8808f30da890c61d71bc0c867619c8019
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 1 14:37:33 2010 +0000

    Fix a line ordering error.
    
    Thanks to Roland Schwarz
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4194 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1d47d44c5c9f136a26e79c1d5e2af1b3b7ca29b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 1 14:16:43 2010 +0000

    Fix #198: set correct access flags to private keys
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4193 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd83821502ad6bdf54825c5ec494cf6ddcb2773b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 1 14:16:23 2010 +0000

    Don't use sc_debug in src/tools/*, use fprintf(stderr) instead.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4192 c6295689-39f2-0310-b995-f0e70906c6a9

commit a61f61929647ed70f0258b2bcf1657fc5fef0fe1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 1 13:44:02 2010 +0000

    Fix logic in pkcs15-tool/pkcs15-init -v
    
    Only override ctx->debug if -v given.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4191 c6295689-39f2-0310-b995-f0e70906c6a9

commit 629aef2ee8ce0a02b2495218a9e85893e5c9bffd
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 1 11:21:57 2010 +0000

    Use an argument to cardos_format()
    
    Thanks to Andreas Jellinghaus for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2010-March/013849.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4190 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8323182d4ac18cc7672db3c40491e7348ac5f6e3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 1 10:14:22 2010 +0000

    Remove leftover from r4113, allow easy side-by-side comparison
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4189 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4eaba6b40466f241acdcbbad5851459ed35a2da9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 31 12:41:39 2010 +0000

    muscle profile: keep default ACLs for the 'DIR' file
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4188 c6295689-39f2-0310-b995-f0e70906c6a9

commit e61f5964d79a5cd3d88782a8475182e817d22bb1
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 30 06:35:00 2010 +0000

    Fix r4182, LIBS must never go into LDFLAGS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4187 c6295689-39f2-0310-b995-f0e70906c6a9

commit d67f3f93f64f9d151eb6ad1b37f2c2d4980119f8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 14:34:02 2010 +0000

    Use the correct integer type.
    
    Fix openssl.c:182: warning: passing argument 3 of ‘EVP_DigestFinal’ from
    incompatible pointer type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4186 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30d43413be2f296acc38e2daa17e23e7bcf6cc18
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 14:30:03 2010 +0000

    Add missing (optional) initializer
    
    Fix
    openssl.c:42: warning: missing initializer openssl.c:42: warning: (near initialization for ‘openssl_sha1_mech.sign_init’)
    openssl.c:53: warning: missing initializer openssl.c:53: warning: (near initialization for ‘openssl_sha256_mech.sign_init’)
    openssl.c:63: warning: missing initializer openssl.c:63: warning: (near initialization for ‘openssl_sha384_mech.sign_init’)
    openssl.c:73: warning: missing initializer openssl.c:73: warning: (near initialization for ‘openssl_sha512_mech.sign_init’)
    openssl.c:96: warning: missing initializer openssl.c:96: warning: (near initialization for ‘openssl_md5_mech.sign_init’)
    openssl.c:106: warning: missing initializer openssl.c:106: warning: (near initialization for ‘openssl_ripemd160_mech.sign_init’)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4185 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb5a21c5fa7414c1ea0daf21c1d45b4e8bfa2b70
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 14:19:26 2010 +0000

    Use a temporary pointer to avoid a pointer cast.
    
    Fix pkcs11-display.c:137: warning: dereferencing type-punned pointer
    will break strict-aliasing rules
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4184 c6295689-39f2-0310-b995-f0e70906c6a9

commit 502db6bd36aec4afb5f9e64fe6446ddb06645455
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 14:10:17 2010 +0000

    Do not cast a pointer to a type of possibly different size.
    Would fail on PowerPC in 64-bits for example.
    
    pkcs15-crypt.c: In function ‘sign_ext’:
    pkcs15-crypt.c:293: warning: dereferencing type-punned pointer will break strict-aliasing rules
    pkcs15-crypt.c:299: warning: dereferencing type-punned pointer will break strict-aliasing rules
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4183 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d782f63a3ee7df1a2785ad0f6d0890bfe787fe2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 13:30:33 2010 +0000

    Link libpkcs11 to $(LTLIB_LIBS) since the lib uses ld_dlopen(), etc.
    
    Fix a compilation error for src/tools/pkcs11-tool:
    /usr/bin/ld: ../../src/pkcs11/.libs/libpkcs11.a(libpkcs11.o): in function C_UnloadModule:libpkcs11.c:78: error: undefined reference to `lt_dlclose'
    /usr/bin/ld: ../../src/pkcs11/.libs/libpkcs11.a(libpkcs11.o): in function C_LoadModule:libpkcs11.c:36: error: undefined reference to `lt_dlinit'
    /usr/bin/ld: ../../src/pkcs11/.libs/libpkcs11.a(libpkcs11.o): in function C_LoadModule:libpkcs11.c:43: error: undefined reference to `lt_dlopen'
    /usr/bin/ld: ../../src/pkcs11/.libs/libpkcs11.a(libpkcs11.o): in function C_LoadModule:libpkcs11.c:52: error: undefined reference to `lt_dlsym'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4182 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad648c4a18eca02bf5f469da735b84e6736ad7d6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 12:55:13 2010 +0000

    Use the correct type (const_DES_cblock *) instead of (const_DES_cblock)
    for DES_ecb_encrypt() input and output parameters.
    
    I have no idea how it could have worked.
    
    Fix
    cardos-tool.c: In function ‘cardos_sm4h’:
    cardos-tool.c:421: warning: passing argument 1 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:421: warning: passing argument 2 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:426: warning: passing argument 1 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:426: warning: passing argument 2 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:432: warning: passing argument 1 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:432: warning: passing argument 2 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:434: warning: passing argument 1 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:434: warning: passing argument 2 of ‘DES_ecb_encrypt’ from incompatible pointer type
    cardos-tool.c:472: warning: passing argument 1 of ‘DES_ecb3_encrypt’ from incompatible pointer type
    cardos-tool.c:472: warning: passing argument 2 of ‘DES_ecb3_encrypt’ from incompatible pointer type
    cardos-tool.c:483: warning: passing argument 1 of ‘DES_ecb3_encrypt’ from incompatible pointer type
    cardos-tool.c:483: warning: passing argument 2 of ‘DES_ecb3_encrypt’ from incompatible pointer type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4181 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ce1e8c831a99c2eb880a306433d38a7db23362c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 08:23:07 2010 +0000

    Rename parameter wait in do_wait
    
    util.c:11: warning: declaration of ‘wait’ shadows a global declaration
    /usr/include/sys/wait.h:255: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4180 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf8a7f894f3e11087b674c37defacb88215c6d87
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 08:20:27 2010 +0000

    use a (const char *) for the reader_id and fix 2 warnings
    
    opensc-explorer.c:1606: warning: passing argument 3 of
    ‘util_connect_card’ discards qualifiers from pointer target type
    rutoken-tool.c:492: warning: passing argument 3 of ‘util_connect_card’
    discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4179 c6295689-39f2-0310-b995-f0e70906c6a9

commit d24de6ab58b020c96beb82c7767f5dc65d0989ba
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 08:13:55 2010 +0000

    Fix
    piv-tool.c: In function ‘load_object’:
    piv-tool.c:130: warning: implicit declaration of function ‘sc_asn1_find_tag’
    piv-tool.c:130: warning: nested extern declaration of ‘sc_asn1_find_tag’
    piv-tool.c:130: warning: cast from function call of type ‘int’ to non-matching type ‘u8 *’
    piv-tool.c:130: warning: cast to pointer from integer of different size
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4178 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6946e513daed8db93bd3b293542fac608530a7b3
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 08:11:32 2010 +0000

    Fix piv-tool.c:216: warning: suggest parentheses around comparison in
    operand of |
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4177 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f30d90045c81279caf39411578018672fae246d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 21:02:56 2010 +0000

    Use a "const char *" to store a const C-string ptr. Fix a lot (31) of
    warning: initialization discards qualifiers from pointer target type
    
    Also cast from now (const char *) to (void *) for free()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4176 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb5dd59d87021274c57952518ef58b3eeae960cd
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 21:00:41 2010 +0000

    Use a "const char *" to store a const C-string ptr. Fix a lot (162) of
    warning: initialization discards qualifiers from pointer target type
    
    Also cast from now (const char *) to (void *) for free()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4175 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6add57378232e5093a335738d8ad8b2b58d3192d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:40:13 2010 +0000

    Do not cast to a possibly different type size.
    Would fail on PowerPC in 64-bits for example.
    
    Fix pkcs11-tool.c:2954: warning: dereferencing type-punned pointer will
    break strict-aliasing rules
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4174 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5be62d9d67b7dd25e4281ab2df5d6f2126bf7e34
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:30:25 2010 +0000

    Use a "const char *" to store a const C-string ptr.
    
    Fix
    pkcs11-tool.c:1899: warning: assignment discards qualifiers from pointer target type
    pkcs11-tool.c:1902: warning: assignment discards qualifiers from pointer target type
    pkcs11-tool.c:1906: warning: assignment discards qualifiers from pointer target type
    pkcs11-tool.c:1910: warning: assignment discards qualifiers from pointer target type
    pkcs11-tool.c:1914: warning: assignment discards qualifiers from pointer target type
    pkcs11-tool.c:1918: warning: assignment discards qualifiers from pointer target type
    pkcs11-tool.c:1922: warning: assignment discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4173 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66fc414db70397a5dad43d26f4bca6a2ea97588d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:16:46 2010 +0000

    Fix framework-pkcs15init.c:175: warning: initialization from
    incompatible pointer type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4172 c6295689-39f2-0310-b995-f0e70906c6a9

commit bcba5c94a7c9ab9c383b5986cf205f42105bc521
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:09:19 2010 +0000

    Fix slot.c:151: warning: ‘p11card’ may be used uninitialized in this
    function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4171 c6295689-39f2-0310-b995-f0e70906c6a9

commit 227cb82612cd780d236952bf2332887b5c0486a7
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:08:30 2010 +0000

    Fix slot.c:234: warning: function declaration isn’t a prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4170 c6295689-39f2-0310-b995-f0e70906c6a9

commit bdd4477c2957482cf2c1fffca3d041982ff566e0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:06:56 2010 +0000

    Fix sc-pkcs11.h:328: warning: function declaration isn’t a prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4169 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c60be861c45f165286839fec510ef2ed2fc0b16
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 19:57:24 2010 +0000

    Use a "const char *" to store a const C-string ptr.
    
    Fix
    westcos-tool.c:41: warning: initialization discards qualifiers from pointer target type
    westcos-tool.c:43: warning: initialization discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4168 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd89cb31cf21c47d090b6031786d9fafb773b195
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 19:55:39 2010 +0000

    Use a "const char *" to store a const C-string ptr.
    
    Fix
    netkey-tool.c:43: warning: initialization discards qualifiers from pointer target type
    netkey-tool.c:63: warning: initialization discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4167 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b57feadf2f8d9b5f09dbca1661f617a762471ba
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 16:15:26 2010 +0000

    Use a temporary variable to not lose negative values (errors)
    
    Fix
    westcos-tool.c:591: warning: comparison of unsigned expression < 0 is always false
    westcos-tool.c:615: warning: comparison of unsigned expression < 0 is always false
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4166 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24b2d23585fe2004f64394a69dd2f8447db53c4d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 15:04:20 2010 +0000

    westcos_pkcs15_create_pin(): use a temporary variable to not lose
    negative values (errors)
    
    Fix
    pkcs15-westcos.c:135: warning: comparison of unsigned expression < 0 is always false
    pkcs15-westcos.c:159: warning: comparison of unsigned expression < 0 is always false
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4165 c6295689-39f2-0310-b995-f0e70906c6a9

commit df96df3356ce0b99bce2f5e4e71590173c2db7f0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 14:18:20 2010 +0000

    Remove useless key argument from scconf_item_find()
    
    Fix
    parse.c: In function ‘scconf_item_find’:
    parse.c:80: warning: unused parameter ‘key’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4164 c6295689-39f2-0310-b995-f0e70906c6a9

commit 652ef326b40ad27144db6762b10d6f489924b38c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 14:13:32 2010 +0000

    revert changes 4154 and 4155 as suggested by Martin Paljak
    
    http://www.opensc-project.org/pipermail/opensc-devel/2010-March/013827.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4163 c6295689-39f2-0310-b995-f0e70906c6a9

commit 425efc939a08e15358262952e0b67bb7c1753479
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 12:01:14 2010 +0000

    Use a "const char *" to store a const C-string ptr. Fix
    card-piv.c: In function ‘piv_get_data’:
    card-piv.c:612: warning: assignment discards qualifiers from pointer target type
    card-piv.c:615: warning: assignment discards qualifiers from pointer target type
    card-piv.c:618: warning: assignment discards qualifiers from pointer target type
    card-piv.c:621: warning: assignment discards qualifiers from pointer target type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4162 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e4610e3bec3d115bac9bfb5ce44465bd10f3884
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:53:44 2010 +0000

    Use a "const char *" to store a const C-string ptr. Fix
    pkcs15-oberthur-awp.c:97: warning: assignment discards qualifiers from pointer target type
    pkcs15-oberthur-awp.c:98: warning: assignment discards qualifiers from pointer target type
    pkcs15-oberthur-awp.c:99: warning: assignment discards qualifiers from pointer target type
    [etc...]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4161 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35036bcecacce213a3ff4249abc4ed3d4c48c6a6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:50:05 2010 +0000

    Fix
    pkcs15-oberthur.c: In function ‘cosm_write_tokeninfo’:
    pkcs15-oberthur.c:94: warning: format not a string literal and no format arguments
    pkcs15-oberthur.c:96: warning: format not a string literal and no format arguments
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4160 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10bf1fc8df525819709b9eb28baf62a901c7815d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:46:06 2010 +0000

    Fix
    pkcs15-oberthur.c:61: warning: redundant redeclaration of ‘cosm_delete_file’
    pkcs15-oberthur.h:93: warning: previous declaration of ‘cosm_delete_file’ was here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4159 c6295689-39f2-0310-b995-f0e70906c6a9

commit f66a1cc5d515ec62a22da5410608eb09ee52e10d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:44:56 2010 +0000

    Fix
    pkcs15-westcos.c:41: warning: redundant redeclaration of ‘sc_check_sw’
    ../../src/libopensc/opensc.h:674: warning: previous declaration of
    ‘sc_check_sw’ was here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4158 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30b7888c342b3a19b97c1cd5617776706795a8f3
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:43:17 2010 +0000

    Remove unused variables. Fix warning: unused variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4157 c6295689-39f2-0310-b995-f0e70906c6a9

commit ecae106253eac343ea7b889428e5ffb0c9c0b6c5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:37:13 2010 +0000

    Fix warning: missing initializer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4156 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ae0d01918ca4e232ba10d5cc8f86caf2d86c06e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:25:01 2010 +0000

    Fix
    parse.c: In function ‘scconf_item_find’:
    parse.c:80: warning: unused parameter ‘key’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4155 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05dd36dfa9c5e7b3b37c983ae161242ab50276d8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:24:14 2010 +0000

    Fix
    test-conf.c: In function ‘ldap_cb’:
    test-conf.c:32: warning: unused parameter ‘depth’
    test-conf.c: In function ‘card_cb’:
    test-conf.c:60: warning: unused parameter ‘entry’
    test-conf.c:60: warning: unused parameter ‘depth’
    test-conf.c: In function ‘write_cb’:
    test-conf.c:81: warning: unused parameter ‘depth’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4154 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10bcef99a90c98f2fa63767b53f14cdfbeaad0f0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 11:22:38 2010 +0000

    Fix
    simclist.c: In function ‘list_meter_int8_t’:
    simclist.c:1337: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_int16_t’:
    simclist.c:1338: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_int32_t’:
    simclist.c:1339: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_int64_t’:
    simclist.c:1340: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_uint8_t’:
    simclist.c:1342: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_uint16_t’:
    simclist.c:1343: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_uint32_t’:
    simclist.c:1344: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_uint64_t’:
    simclist.c:1345: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_float’:
    simclist.c:1347: warning: unused parameter ‘el’
    simclist.c: In function ‘list_meter_double’:
    simclist.c:1348: warning: unused parameter ‘el’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4153 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5914be4e586f252310e4f10b72bae4c366a58347
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 09:45:54 2010 +0000

    Fix
    pkcs15-lib.c:799: warning: no previous prototype for ‘sc_pkcs15init_store_puk’
    pkcs15-lib.c:2814: warning: no previous prototype for ‘get_pin_ident_name’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4152 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6973403675b1805ab75fc8b306a1e4c1e192d9a8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 09:44:22 2010 +0000

    Fix pkcs15-oberthur-awp.c:729: warning: no previous prototype for
    ‘awp_update_object_list’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4151 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1eb944e256f3b439a7fc2a0e4860adf1e4a9f945
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 09:43:20 2010 +0000

    Fix pkcs15-oberthur-awp.c:1246: warning: no previous prototype for
    ‘awp_set_data_info’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4150 c6295689-39f2-0310-b995-f0e70906c6a9

commit 385c5da2ebc28005bae8bd2096d633320e28ce9d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 09:41:34 2010 +0000

    Fix
    pkcs15-pubkey.c:445: warning: no previous prototype for ‘sc_pkcs15_decode_pubkey_gostr3410’
    pkcs15-pubkey.c:462: warning: no previous prototype for ‘sc_pkcs15_encode_pubkey_gostr3410’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4149 c6295689-39f2-0310-b995-f0e70906c6a9

commit 815baad15691ae34cc06bc831de196ed27607442
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 08:41:55 2010 +0000

    Fix pkcs15-esinit.c:77: warning: no previous prototype for
    ‘sc_pkcs15emu_entersafe_init_ex’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4148 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8dd1590662fbd52876f47c6d5472f455e5c3dd54
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 08:40:10 2010 +0000

    Fix p15emu-westcos.c:248: warning: no previous prototype for
    ‘sc_pkcs15emu_westcos_init_ex’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4147 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b73e45a074ab5e64b472cf30b81608da522760a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 08:33:14 2010 +0000

    Fix westcos-tool.c:322: warning: no previous prototype for ‘usage’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4146 c6295689-39f2-0310-b995-f0e70906c6a9

commit c891886f56fd06180d08938c6da73da01788da13
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 23 10:03:05 2010 +0000

    oberthur pkcs15init: sorry, fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4145 c6295689-39f2-0310-b995-f0e70906c6a9

commit c63225cf99835eb7c4e816fcb97c0a8c900b862a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 23 10:02:22 2010 +0000

    oberthur pkcs15init: non-install header; join pkcs15-oberthur-awp.obj to object list for win32
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4144 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7106674d412d913cf240c6d3187724fd00cdef6e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 22 14:17:27 2010 +0000

    oberthur pkcs15init: support for creation of the 'public' DATA objects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4143 c6295689-39f2-0310-b995-f0e70906c6a9

commit f75f539a6f94806b977ab40a349f67496cdced39
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 22 14:14:51 2010 +0000

    libopensc: export 'sc_asn1_encode_object_id'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4142 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed8e498bb80a19ef5a6e54f37066d00a1ce32889
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 19 09:41:10 2010 +0000

    doc: in pkcs15-init.xml add usage case for '--verify-pin' option
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4141 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07a0f74ec4c8282c6419ce7531465502b72f80eb
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 19 09:19:21 2010 +0000

    man: in pkcs15-tool man page add 'list-data', 'read-data' actions and update 'list' private objects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4140 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0608713b0723ae0dadc294a5e32f628673e3715e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 17:51:06 2010 +0000

    oberthur pkcs15init: use macro for debug level
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4139 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b72b24d426fcb577a2d1f1ff5b282acf99fbc9a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 17:21:39 2010 +0000

    oberthur: forgotten header file
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4138 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f82c7c1d456acfde9d788cab175c25818c118f5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 12:30:39 2010 +0000

    oberthur: pkcs15init emulator
    
    Now the native Oberthur card format is supported for emulation of pkcs15 and pkcs15init.
    
    It means that card personalized with OpenSC and the obejcts created with OpenSC
    will be usable with the native Oberthur's middleware
    and vice-versa.
    
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4137 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42b90f8ada8c7afd58876ee0c3b2388d4d867646
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 10:49:53 2010 +0000

    pkcs11-tool: to be compiled without OpenSSL
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4136 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c9b9f21a8de33a40cb565fd599859cbc44354cf
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 10:25:50 2010 +0000

    pkcs15init: free cert object if 'link object' failed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4135 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef8e16995517ec49355c8fb64c951aa7716f1bd3
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 10:15:51 2010 +0000

    pkcs15init: use encoded public key as the 'content' of private and public key pkcs15 objects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4134 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d6739feb2963f94dde725f390b8579d5c4433b6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 09:49:49 2010 +0000

    pkcs15init: in pkcs15-init.h don't use parameters name in the function declarations
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4133 c6295689-39f2-0310-b995-f0e70906c6a9

commit ecbe32f778c5ec8d1d0d913564227f2edc3e30f9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 09:46:35 2010 +0000

    pkcs15init: fix pkcs15-init.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4132 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8419f95f760a30a8a633cc89665aa1e24ef65207
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 09:39:16 2010 +0000

    pkcs15init: in pkcs15-init.h, for the function prototypes, homogenize using 'struct *' vs. '*_t'; do not use paramters name
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4131 c6295689-39f2-0310-b995-f0e70906c6a9

commit 965ecbf9a1cad380e93e538b0bae6d413af1172d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 09:27:09 2010 +0000

    pkcs15init: pkcs15 card flags
    
    Set 'TOKEN INITIALIZED' after an application has been added,
    set 'USER PIN INITIALIZED' and 'LOGIN REQUIRED' after User PIN object has been created.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4130 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5eba20e263448a8a2a539fd83f8149d2435e9ed0
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 09:20:33 2010 +0000

    pkcs15init emulation: use emu_update_tokeninfo() if available
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4129 c6295689-39f2-0310-b995-f0e70906c6a9

commit e214ba206c6078098ae130b09f21fb64a98a183a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 18 09:10:51 2010 +0000

    pkcs15init: emulation API
    
    Four method are added to the 'sc_pkcs15init_operations':
    emu_update_dir		-- create or not the DIR file;
    emu_update_any_df	-- update the non-pkcs15 descriptors that are equivalents to pkcs15 xDF files;
    emu_update_tokeninfo	-- update analog of tokenInfo;
    emu_write_info		-- to not create OPENSC-INFO file;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4128 c6295689-39f2-0310-b995-f0e70906c6a9

commit a17e519708d441d4a51723c7df73f96ea2457b68
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 17 18:24:26 2010 +0000

    pkcs15-tool: 'verify-pin' is not an action
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4127 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0f39c529cb2d30529dda7383aaeee5852ccc8d5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 17 18:16:27 2010 +0000

    pkcs15-init tool: make possible pin verification immidiately after card was binded
    
    It's implemented for the card with emulated pkcs#15 and protected private object attributes.
    
    Update to man pages is comming soon.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4126 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69a2fb19415998fb69dc56136f9b7439d2d22700
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 17 16:45:02 2010 +0000

    oberthur: in profile do not use 'combined' pins in ACLs
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4125 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5bba49e58c7b071e7aebf0e4cc2977a228013c17
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 17 16:40:12 2010 +0000

    oberthur: in card profile set 'do-last-update' to 'false'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4124 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb45d8925ba3ae1584ab8e289474672a4b8f1e9a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 17 16:26:07 2010 +0000

    pkcs15init: simplify internal API
    
    ; do not pad PIN in pkcs15init. It's already done in libopensc/pkcs15-pin;
    ; the 'do_verify_pin()', 'sc_pkcs15init_verify_key()' and 'do_get_and_verify_secret()' are replaced by unique 'sc_pkcs15init_verify_secret()'; edit debug messages;
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4123 c6295689-39f2-0310-b995-f0e70906c6a9

commit 84934adab9a429815c418b71042672f7296f3876
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 16 14:59:20 2010 +0000

    don't complain about missing "--slot" parameter, when you don't
    need it (if you only "--list-slots").
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4122 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5972022ffcb878968c4939f4aaf82be05341febf
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 16 14:11:39 2010 +0000

    Add code to write pubkey objects to pkcs11-tool.
    By: Jaroslav Benkovský <jaroslav.benkovsky@nic.cz>
    
    Slightly modified by me.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4121 c6295689-39f2-0310-b995-f0e70906c6a9

commit 921a2cc39fb162cf3a385d74fc3d221a1163a4b2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 16 13:51:39 2010 +0000

    Start documenting changes and increse libary version (we are no longer
    compatible with 0.11.* line).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4120 c6295689-39f2-0310-b995-f0e70906c6a9

commit c74016b8cc9dc4ae6b009dbef30b7733616cf2bd
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 15 17:58:17 2010 +0000

    fix #202: pkcs15-tool: print message when there is PIN verify error
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4119 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6545b42c02ce11b89bf796f773d5c8e851016d3d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 15 12:17:13 2010 +0000

    cleanup of the debug code:
    * reduce to a few, supported functions.
    * change all functions to take the debug level as parameter.
    * use symbolic names for the debug levels.
    * fix tools to pass "verbose"/"opt_debug" as ctx->debug.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4118 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0fdb4478bc2f00af5eae8fb8383bc1f995352c46
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 15 10:34:18 2010 +0000

    On blank, but otherwise perfectly supported card, we get an error here
    (with "Unsupported card"). This needs to be improved.
    
    This patch changes the "initialization" to "binding", so we at least
    can tell people: you need to initialized an empty card first.
    Needs to be improved of course.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4117 c6295689-39f2-0310-b995-f0e70906c6a9

commit da9aa435c489784688c6207f6784ec436553bcda
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 15 08:36:36 2010 +0000

    fix second part of #199: pkcs15init: when freeing pkcs15 object remove it from list
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4116 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b1a8423a3624d2e51ca5c42f9038f778240f4b7
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 15 07:23:48 2010 +0000

    clean libopensc.exports (2 functions removed)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4115 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5300b1c2dda36510428319155c689c5feab8715
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 13 23:35:08 2010 +0000

    fix #199: to authenticate 'update' in sc_pkcs15init_update_file() use the file instantiated from profile, rather then selected one
    
    This bug concerned the card drivers for which the file ACLs cannot be obtained from the FCI of the selected file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4114 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02768fb5dc8e7fe782e40994ebf0a7f4a2372936
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 13 22:52:51 2010 +0000

    remove "split-key" option and emulat sign for sign,decrypt keys with padding
    and decrypt() for cardos.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4113 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5bc11ac39c0284b9218e55f3bf3be0b3d7e0b77b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 13 22:47:58 2010 +0000

    Redirect output to file given by "--output" / "-o" option. Closes bug #200.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4112 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1bb3ae9cd16a95b3bdc2fcdbe8fcdd8f429709a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 13 22:26:07 2010 +0000

    compile tools with PTHREAD so we can debug them in GDB.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4111 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b15f0f340eed513eb5ccf75476f13102a54f6ad
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 13 19:54:28 2010 +0000

    pkcs15init: sc_pkcs15_add_df() has no more 'handler' parameter
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4110 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22f067863a86672301fabe520a531cb7bc73dd4d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 13 19:48:09 2010 +0000

    libopensc emu: more general implementation of the postponed DF parsing
    
    In previous version the card specific 'parse_df' handler was a part of 'sc_pkcs15_df'.
    
    Now the placehold ('sc_pkcs15_operations') created for the all card emulator specific operations .
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4109 c6295689-39f2-0310-b995-f0e70906c6a9

commit 172d710a351dbe3b70243e1b64d52b707f164269
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 11 13:29:10 2010 +0000

    oberthur emu: create pkcs15 object for SOPIN; accept non-initialized token; use 'define' macros for the native file paths
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4108 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9b27b1699f0b32721031b681b61fd28eea0b51c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 11 13:00:07 2010 +0000

    pkcs15-tool: 'pkcs15_pin_info' parameter replaced by 'pkcs15_object'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4107 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72a9d8e58f392bc103a42c275c23ae3a5be91a6e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 11 11:23:47 2010 +0000

    pkcs15-init: sign key usage shortcut does not expand to non-repudiation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4106 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3de15d2d08061cd6b2a0fabbdaaa7b8a6ede1fa
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 11 06:41:55 2010 +0000

    westcos card small fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4105 c6295689-39f2-0310-b995-f0e70906c6a9

commit af1bf44cefa2c09aa6ba063fda0f8f3fb111ea93
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 10 15:03:20 2010 +0000

    framework-pkcs15: fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4104 c6295689-39f2-0310-b995-f0e70906c6a9

commit 052881c38f47e59f14a028e7bb99e9a2a3583346
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 10 09:23:01 2010 +0000

    libopensc: in pkcs15 PIN commands 'pin_info' parameter replaced by 'pin_object'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4103 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91230bdbc94a00c68de8ac59fc82dc17206a2bfa
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 10 07:07:13 2010 +0000

    there is no ui.h any more.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4102 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9961fa2487b83979f05516b8b12bad1538cde40a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 17:43:09 2010 +0000

    libopensc: add oberthur pkcs15 emulator to Makefile.mak
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4101 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffab538bcca628139596e2d2a837a18b3c422047
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 17:40:22 2010 +0000

    oberthur: pkcs15 emulator for the native cards
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4100 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6cd02510658e947696b5add02b3210d368cce97
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 17:38:08 2010 +0000

    pkcs11 framework-pkc15: at user login try to do the postponed private keys load
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4099 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0027a21204166d9c0d0a68cc97bf6683d2bb7bda
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 17:11:31 2010 +0000

    libopensc emu: sorry, fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4098 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6cb0c93ee3996390a1627cc604b40637943b2bfe
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 16:57:39 2010 +0000

    pkcs11: configuration option to report as zero the CKA_ID of CA certificates
    
    In fact, the middleware of the manufacturer of the gemalto (axalto, gemplus) cards
    reports the CKA_ID of CA certificates as '0'.
    
    But it's not true for the others middlewares (Oberthur), NSS (afais) and PKCS#11 standard.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4097 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a2f0415feee5c006169c59b29561343b903af68
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 16:49:00 2010 +0000

    libopensc emu: postponed object loading
    
    Some non-pkcs15 cards protect the reading of the private objects attributes.
    
    For the emulated pkcs15 cards, the 'init' emu-handler was the only place where pkcs15 objects could be loaded.
    This handler is called before the card is binded, and so, for an application there was no 'normal' way to verify PIN and load the objects with protected attributes.
    
    Actually it's possible to complete list of the pkcs15 objects after the emulated pkcs15 card has been binded.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4096 c6295689-39f2-0310-b995-f0e70906c6a9

commit e47baeaf9ef3614c74f411d7a1aad6758776f7e3
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 15:43:16 2010 +0000

    pkcs11: configuration option to report as zero the CKA_ID of CA certificates
    
    In fact, the middleware of the manufacturer of the gemalto (axalto, gemplus) cards
    reports the CKA_ID of CA certificates as '0'.
    
    But it's not true for the others middlewares (Oberthur), NSS (afais) and PKCS#11 standard.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4095 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54d2b20fe2fbd46f7381539ce2655ce3f8a514b7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 15:05:29 2010 +0000

    pkcs11 framework: change prototype of the 'login' method
    
    It gives the access to the 'slot' object inside the framework method 'login'.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4094 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93210eae9fbdf9ce22b983b7d313364fd2f48bb0
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 14:51:48 2010 +0000

    pkcs15-tool: add 'verify-pin' option" src/tools/pkcs15-tool.c
    
    Implemented to have the possibility to verify PIN after binding of the pkcs15 card and before any 'substantial' operation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4093 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e8ee649bd1b6afbd516e7295d3dbb6b6a2e2327
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 13:39:29 2010 +0000

    add windows.h include to ctx.c to satisfy dependencies and move internal.h include at end of includes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4092 c6295689-39f2-0310-b995-f0e70906c6a9

commit 995dda778a24f62e5523a0703f39c7671b691341
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 9 07:41:28 2010 +0000

    internal.h must be before winreg.h include, and change path for include log.h in cardmod.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4091 c6295689-39f2-0310-b995-f0e70906c6a9

commit c837196134e8fbbec7b753362cd423abc9791870
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 8 12:32:35 2010 +0000

    libopensc: homogenize name of 'struct sc_pkcs15_card' parameters and variables
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4090 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd93c92b235e2f05980ad1fa738edff07ff32ce1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 5 19:31:07 2010 +0000

    win32/Makefile.am:1: whitespace following trailing backslash
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4089 c6295689-39f2-0310-b995-f0e70906c6a9

commit aff7b5523c701b991b4c326e9c3def137f27a2dc
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 5 10:37:11 2010 +0000

    pkcs15init: homegenize pin reference type in a different structures; remove unused parameters in the internal procedures;
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4088 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26dc34c83f8d1d68a4280d3793a5bcbf530cd18d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 16:19:41 2010 +0000

    libopensc: add structure name to the 'typedef structure' definitions
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4087 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a424cf26a1daf51de6e079be2254d47f2296950
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 16:14:30 2010 +0000

    pkcs15init: dummy object is not needed for the sc_pkcs15_find_XX() procedures; coding style issues
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4086 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e8e1a1bf06ebb36c849a83945b08e3466342620
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 13:37:11 2010 +0000

    pkcs15init cflex: fix protected initialisation
    
    In the 'flex' card profile the ACLs of the public objects are set to 'NONE'.
    
    As the pkcs15init core currently implemented, the AuthID attribute is not used for the public objects.
    Without AuthID the destination 'pin-domain' DF cannot be determined in a simple and sure manner.
    That's why 'pin-domain' works only for private key, private data
    and the public objects are placed into the application DF.
    
    
    ; take 'flex' CHV files settings from the card profile;
    
    
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4085 c6295689-39f2-0310-b995-f0e70906c6a9

commit de3e6aeba9ea0da31ca1b2827e7708137922ce76
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 13:05:03 2010 +0000

    pkcs15init: prepare instantiation of the pin-domain templates
    
    When binding profile and p15card (in sc_pkcs15init_set_p15card()), add to the profile EF list the named DF for the path of the all existing AUTH.
    
    ; variables name and coding style issues;
    ; debug messages;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4084 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21acf3ed3d06a7cc4b3e99f74881f1d154f30e11
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 12:55:09 2010 +0000

    pkcs15init profile: fix indexed instantiation of pin/key domain; more of debug messages
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4083 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d08b13f980671c5d17ef426e296811918e2439a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 12:49:12 2010 +0000

    pkcs15init asepcos: unused variables
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4082 c6295689-39f2-0310-b995-f0e70906c6a9

commit d22a2483c03d2bbadf93d529ecb4bacfa2d1c8e2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 4 08:14:36 2010 +0000

    Header file cleanup.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4081 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bd07bacd6359f2042d16ffbf2dd233d62973427
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 3 17:22:01 2010 +0000

    pkcs15init profile: syntax error can provoke segmentation fault
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4080 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0bb56af014cd291c1d2c8dda684b9f6a578085b7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 2 17:03:44 2010 +0000

    pkcs15init: no more need for static keycache
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4079 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02c35be138d67b290e0a3fe239a1db739c1c6fe3
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 2 16:22:33 2010 +0000

    asepcos: 'trasport PIN' (global PIN with reference '0') is presented as 'AUT' key
    
    ; no more need of athena dedicated PIN flag 'TRANSPORT KEY';
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4078 c6295689-39f2-0310-b995-f0e70906c6a9

commit de6649fed585d5b5698ff76f747c0d6f3b016be7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 2 09:50:07 2010 +0000

    pkcs15init asepcos: fixup initialisation with protected profile
    
    ; new, athena dedicated, PIN pkcs15 flag 'TRANSPORT_KEY':
    in the Athena initialization procedure the 'trasport' SOPIN object is used. This object references to the pre-existing global SOPIN and is different from the final SOPIN of the card. This object should be ignored when fixing up the ACLs of the newly created file;
    
    ; the pkcs15 refereces of the new private keys are derived from the file-id;
    
    ; remove duplicated code;
    
    ; some log messages in  pkcs15-lib.c;
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4077 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70ee7c1438232987fce7be112d803fb615a52065
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 1 15:29:39 2010 +0000

    pkcs15init: in sc_pkcs15init_add_object() if DF update fails, remove object from the list before return
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4076 c6295689-39f2-0310-b995-f0e70906c6a9

commit dbd315c7e9d95b719314b6530941d41129b81d41
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 1 14:01:25 2010 +0000

    profile: 'cbs' member of 'struct sc_profile' is not used
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4075 c6295689-39f2-0310-b995-f0e70906c6a9

commit abd3a43b3e863cfcb87047092791a6114a2ff083
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 1 13:51:05 2010 +0000

    include: do not create link to the non-existing ui.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4074 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb6ccdb9fb34f427ae78f8e0ac4e67e687ce92d2
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 1 13:36:02 2010 +0000

    pkcs15init oberthur: no extractable key; for generated key set reference from the key's path
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4073 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a48d4a6f2b987ad10d9c4ede5f75cd8acdec81f
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 25 15:16:23 2010 +0000

    add support for westcos card with crypto component and minor renames to westcos-tool
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4072 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf4ec4ab3fad742e92100d5fde6f5c907f73d906
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 14:06:04 2010 +0000

    #47: C_SignRecover is not implemented at the moment, don't give any promises with C_SignRecoverInit either.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4071 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f887e5b625075866617fbcbc3d0162206c89052
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 12:20:59 2010 +0000

    #185: drop opensc-config. If required, pkg-config and libopensc.pc can be used instead.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4070 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ef975fa516dda2bb16f6c524e608809bef3808d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 10:42:36 2010 +0000

    #148: clear PIN cache in sc_pkcs15_unbind()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4069 c6295689-39f2-0310-b995-f0e70906c6a9

commit adf4035d86ce75a5baf460facdcf1bcbfd94be95
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 08:57:37 2010 +0000

    fix mistake in r4065
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4068 c6295689-39f2-0310-b995-f0e70906c6a9

commit 258a867bbc00f5df645d998aeb72febcd2cbe550
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 08:28:15 2010 +0000

    libopensc: re-design 'sc_pkcs15_allocate_object_content' for the case when the 'new' and 'old' data pointers are the same
    
    ;change the prototype of 'sc_pkcs15_find_pin_by_type_and_reference' to eliminate the compilation warnings;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4067 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e64de79e4aec5d58c26abad7b1332cb44781707
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 08:25:13 2010 +0000

    Remove openssh/ directory and our patch for openssh,
    as they removed the opensc code in favor or new pkcs#11 code.
    This new code works out of the box with opensc-pkcs11.so,
    so we don't need the patch any more.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4066 c6295689-39f2-0310-b995-f0e70906c6a9

commit 839644bb4e6576ff083b39d66b718ad6d81af99a
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 08:22:24 2010 +0000

    add check params; fix: pkcs15-rutoken.c:208: warning: unused parameter 'puk'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4065 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a11b3019a4c398e085524ce76e51c23fe69248d
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 24 07:48:53 2010 +0000

    set default auth_method SC_AC_CHV for emulated cards thanks to Martin Paljak patch
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4064 c6295689-39f2-0310-b995-f0e70906c6a9

commit 975d703c0de22f6c57eea76007c6fd19853c3fc9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 20:46:59 2010 +0000

    libopensc: remove unused variables
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4063 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9485f168ee2ac5890f31dd27c95f139e0c5507b5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 20:33:51 2010 +0000

    pkcs15init: 'defined bu not used'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4062 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23b7c2673c1ad9c37f40a82820e59ff36c80a484
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 19:54:59 2010 +0000

    pincache: pkcs15-pin.c:515: warning: unused variable ‘i’
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4061 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b6d2525da2276437eddf923e9d93c622ab2b4b8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 19:53:53 2010 +0000

    pincache: correct message for user consent PINs (it is a matter of policy not software support)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4060 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8c4f57c55e8846fa3c4c855af1a339579e0bbc9
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 19:47:53 2010 +0000

    Fix exports file:
    {{{
    Undefined symbols:
      "_sc_pkcs15init_fixup_acls", referenced from:
         -exported_symbols_list command line option
      "_sc_pkcs15init_set_pin_data", referenced from:
         -exported_symbols_list command line option
      "_sc_pkcs15init_set_secret", referenced from:
         -exported_symbols_list command line option
    }}}
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4059 c6295689-39f2-0310-b995-f0e70906c6a9

commit 535131adda862b457cc955dff93ed9eccafdc495
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 18:24:41 2010 +0000

    pkcs15init: instead of static keycache use the pincache as a content of the pkcs15 AUTH object
    
    Tested with cards:
    CardOS v4.3B;
    SetCOS 4.4.1B;
    Oberthur;
    Cryptoflex 16k, 32k e-gate, 32k e-gate token;
    GPK 8K;
    Athena;
    Aventra;
    Fetian;
    Rainbow 3000 (STARCOS SPK 2.3)
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4058 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dd6abf41b92b4d684cd080c1276542b849aab39
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 16:21:57 2010 +0000

    pkcs15init: in the prototypes of the internal procedures the 'struct sc_card' argument replaced with the 'struct sc_pkcs15_card' one
    
    This patch is not largely tested and it will be followed (hope in a few hours) with another one
    that will replace the using of the static pincache
    with the pincache as the content of the AUTH pkcs15 object.
    
    In the intervention into the card specific part I tried to respect its creator's coding style.
    Sorry, if it's not always the case.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4057 c6295689-39f2-0310-b995-f0e70906c6a9

commit e88839475ab54183043eba47b622753535fedba5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 11:10:30 2010 +0000

    Missing piece from [4055]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4056 c6295689-39f2-0310-b995-f0e70906c6a9

commit edcf32337ed0163fd05396a4a60f161e757906ab
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 11:02:12 2010 +0000

    libopensc: only one pkgconfig file is required.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4055 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8e921b2d24f3e05632c1a63e58cba27d31197be
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 09:13:00 2010 +0000

    manpages: don't install sc_* API documentation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4054 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba4b02e09885ed37ff851ed2dac2f0474115f79f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 09:09:33 2010 +0000

    pkcs15-init: don't suggest using --erase-card with --create-pkcs15 in help message.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4053 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d603a61e8860c5184e7a74c62e0b299887cf953
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 21 09:08:13 2010 +0000

    manpages: Clarify pkcs15-init --erase-card usage. Fix XML structure from [4012]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4052 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5233e72979ceadd33c334e9c614e827e08d725e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 23:20:38 2010 +0000

    cyberflex: no more 'protect-certificates' profile option
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4051 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef919e94d46fe533eab45b6a555e57caa5fa9c3a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 23:14:45 2010 +0000

    pkcs15init: 'protect-certificates' profile option not used
    
    Profile option 'protect-certifcates' was activated by default for all the cards,
    was mentioned and commented out only in 'flex' profile,
    and finaly is not working 'by design' of pkcs15-lib.c
    
    So, no need to keep this option, untill the valid arguments to restore it back.
    Anyway, the access to certificates is controlled by the file's ACLs defined in profile.
    
    
    ;in profile use the 'define' macros to define the pin encoding type;
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4050 c6295689-39f2-0310-b995-f0e70906c6a9

commit 128e0661760ce90201e7c0bb1c338c21d94c6f90
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 22:16:19 2010 +0000

    pkcs11: no pincache concept at the pkcs11 level -- it's implemented at the pkcs15 one
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4049 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c964e3d71b50ede832ee689b75e611335459f1c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 22:04:07 2010 +0000

    pincache: implement pincache as the content of the AUTH pkcs15 object
    
    ; in 'sc_pkcs15_pin_info' structure add 'auth_method' member to keep the PIN authentication method: CHV, AUT or SM;
    ; in pkcs15init profile add function to search PIN template by auth method and reference;
    ; in 'sc_pkcs15_remove_object' return silently if object to delete is NULL;
    ; in 'sc_pkcs15_object' structure add 'usage_counter' member;
    ; new 'sc_pkcs15_find_pin_by_type_and_reference' procedure to search PIN pkcs15 object by auth method and reference;
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4048 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac5307d457cb131c3f507cd0b96096204a1bd527
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 20:09:22 2010 +0000

    pkcs15init: when updating 'OpenSC Info' file, cleanup its non-used tail part -- thanks to Xiaoshuo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4047 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7dfa2104a677dda458388381bf7d72d8ae88b84
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 10:09:06 2010 +0000

    entersafe: fix import key RSA 2048 bits
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4046 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30924e4e9dd4ae6ef212db74fe941515d5150911
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 08:34:40 2010 +0000

    PKCS15: set the PRNG flag on PKCS#15 card object even if it was not set in TokenFlags if RNG capability is reported by the low level card driver.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4045 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26f1750cd70652fb5567bf1bba4ad9c645ddcd51
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 20 08:31:19 2010 +0000

    entersafe: don't mix hexadecimal and decimal in code and comments
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4044 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba3299bcef7bd7e4775e0305b459db8fb6737327
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 19 16:52:50 2010 +0000

    entersafe: sorry, fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4043 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9bf12ba47f9794e751a300b4c4bf0450641151e9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 19 16:41:05 2010 +0000

    entersafe: unify cards behavior - don't throw error when erasing empty card
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4042 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6380feb1fdaf03f96a008b667da2f20797cae369
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 19 10:41:33 2010 +0000

    Use cardmod if explicitly request on config only
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4041 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c45262f5ead8bd11cb1faedb75e086aaa993cff
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 18 17:08:01 2010 +0000

    MyEID: fix 'Activate Applet' apdu case
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4040 c6295689-39f2-0310-b995-f0e70906c6a9

commit d89e6377a034dce1fff30c1d056b8706a19b1be4
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 18 10:26:08 2010 +0000

    MyEID: 'read until the end' not supported -- set maximal receiving size to 255
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4039 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4395d5b8b328839b0919189596f52cf7b40a7e76
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 18 10:08:32 2010 +0000

    MyEID: fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4038 c6295689-39f2-0310-b995-f0e70906c6a9

commit 709869785ce28ccbe8ead0ab7aa3ad3f7c540cf2
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 17 17:19:14 2010 +0000

    fix: mis-usage of 'type' (PIN encoding style)
    Thanks to Viktor TARASOV
    http://www.opensc-project.org/pipermail/opensc-devel/2010-February/013454.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4037 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d23ea782beb49ac55295d73cfe9285588804734
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 17 07:51:52 2010 +0000

    cardmod updates:
    - Add comment to opensc.conf
    - Use opensc log in cardmod
    - Minor corrections on cardmod pcsc driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4036 c6295689-39f2-0310-b995-f0e70906c6a9

commit 462f7ac7e83b61eb52ea3e299fb0173a33275e81
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 16 07:10:45 2010 +0000

    automake gets packge name and version from AC_INIT.
    the old AM_INIT_AUTOMAKE syntax is deprecated now, switch to the new one.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4034 c6295689-39f2-0310-b995-f0e70906c6a9

commit c4509d3c7bee48d22ec0cf5082e17676a9fe70d6
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 15 20:55:12 2010 +0000

    fix SIGABRT (r4028)
    
    *** glibc detected *** invalid pointer: 0x00007fff9e9f7670 ***
    Program received signal SIGABRT, Aborted.
    0x00007f971d0a8ea5 in raise () from /lib64/libc.so.6
    (gdb) bt
    #0  0x00007f971d0a8ea5 in raise () from /lib64/libc.so.6
    #1  0x00007f971d0aaab3 in abort () from /lib64/libc.so.6
    #2  0x00007f971d0e7d58 in __libc_message () from /lib64/libc.so.6
    #3  0x00007f971d0ed7e8 in malloc_printerr () from /lib64/libc.so.6
    #4  0x00007f971d0efda6 in free () from /lib64/libc.so.6
    #5  0x0000000000410f5c in pkcs15_gen_keypair (p11card=0x72aec0, slot=<value optimized out>,
        pMechanism=<value optimized out>, pPubTpl=<value optimized out>, ulPubCnt=<value optimized out>,
        pPrivTpl=<value optimized out>, ulPrivCnt=6, phPubKey=0x7fff9e9f7e50, phPrivKey=0x7fff9e9f7e58)
        at framework-pkcs15.c:1763 /* see opensc-0.11.13 */
    #6  0x0000000000409a6e in C_GenerateKeyPair
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4032 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42d7d2284129211d82dab0da1c4684fcc6e696d8
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 15 17:47:20 2010 +0000

    pkcs15init profile: accept the minimal file-ids difference from GPK profile
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4030 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22f9b2930eae4038d13345d849ef157695bf1359
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 12 17:23:02 2010 +0000

    fix memory leaks
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4028 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91da9ab8191ae8492f7322c6c10ab60f775e7958
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 12 16:53:07 2010 +0000

    fix memory leak
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4027 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5991dfb433ce39f942ddb07994a1654452f85edd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 11 14:50:18 2010 +0000

    Remove the dummy EMV driver.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4021 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ab30d8c52a9c0f08bd88f61e292c51c7e7f1d30
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 11 14:47:34 2010 +0000

    libopensc: 'javacard' driver has to be the last one before 'default' -- thanks to Andreas
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4020 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8161c72fa32a90010f728992be646568bbd3ab36
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 11 14:15:13 2010 +0000

    libopensc: in
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4019 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0330993a6174b352345a78c56aa2b1bfe79593cf
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 11 12:14:03 2010 +0000

    pkcs15-init tool: simplify 'pristine' test - it's ok if MF, DIR or PKCS15-AppDF is not selectable
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4014 c6295689-39f2-0310-b995-f0e70906c6a9

commit 53d29939fd05744f6db80225f8f032b50a871005
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 11 08:46:17 2010 +0000

    remove useless symbol from libopensc.exports
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4013 c6295689-39f2-0310-b995-f0e70906c6a9

commit 485d455fb9961657395993027e8a4cf5bd3b7ec5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 10 07:59:16 2010 +0000

    Debian bug report 505396:
    -P is not --store-public-key, but --store-pin.
    I simply remove the short form "-P" for now (didn't find a good place
    to add it).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4012 c6295689-39f2-0310-b995-f0e70906c6a9

commit f621238ff52025ca55f318db19b50ba26007cec6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 10 07:44:55 2010 +0000

    AFAIK the default format is PEM, not DER.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4011 c6295689-39f2-0310-b995-f0e70906c6a9

commit da83260826713de358cd3e7cd6d3e6af6ad0bcf9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 10 07:40:52 2010 +0000

    patch from debian bug report 470637 by  Philippe Teuwen:
    update_binary() was not foreseen by the middleware creators of BELPIC
    so I added it, which allows to write some data in the
    MF/ID/EF(Preferences) of the card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4010 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8009bec0746bb460ba86cbe6755cf60f5d54a82
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 9 15:15:02 2010 +0000

    libopensc: error message for success
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4009 c6295689-39f2-0310-b995-f0e70906c6a9

commit b28add8e3bf453b3bdd893ab9c23cfe93e6e5a14
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 9 14:45:07 2010 +0000

    libopensc: in sc_pkcs15_object introduce the 'content' member
    
    Replace not-used 'der' structure member by the 'content' one.
    
    'Der' member was introduced to keep the ASN1 encoded object attributes. Actually it's not used.
    'Content' is intended to keep the object value (AUTH object - pin cache value; CERT object - der value, ...)
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4008 c6295689-39f2-0310-b995-f0e70906c6a9

commit 909953d55a772cdd8772a3181523c3a011c0079f
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 9 14:05:54 2010 +0000

    libopensc: separate 'remove' and 'free' pkcs15 object
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4007 c6295689-39f2-0310-b995-f0e70906c6a9

commit 935b0740e456ef3570246468f8e053bfb55efa24
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 9 13:53:27 2010 +0000

    libopensc: remove not used function
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4006 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30733069893d487f566dea8b51b1ed1444e79515
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 6 12:59:24 2010 +0000

    Add a comment to keep javacard driver 2nd last.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4005 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d56ce2b7bdce32e4308dfeaa615c373bb18c61e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 6 10:56:29 2010 +0000

    Add a catch-all for (possibly) blank JavaCards. This way known blank JavaCards without a supported applet get recognized by opensc-tool -n.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4004 c6295689-39f2-0310-b995-f0e70906c6a9

commit f636cc1862804ceabb3e1f751733ce2c2d7947d9
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 21:39:28 2010 +0000

    cardmod - build fixups and mingw stuff
    
    1. Add --enable-cardmod to autoconf to enable feature explicitly.
    
    2. Modify opensc-cardmod.dll to always have bitness suffix eg opensc-cardmod32.dll
    
    3. Remove complex cardmod.h detection, could not find any reason for this.
    
    4. Make cardmod.inf a template and inject opensc version into its version string.
    
    5. More minor autoconf/automake cleanups.
    
    6. Remove internal-winscard.h usage in cardmod.c as cardmod.h already includes winscard.h
    
    7. DllMain is not exportable.
    
    Notes:
    
    1. I may caused other build not to work, will happy to work it out.
    
    2. Cannot find reason why cardmod.inf cardmod-westcos.reg should reside in bin directory.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4003 c6295689-39f2-0310-b995-f0e70906c6a9

commit a19a966b2920cb8eab863f292038ec52b5c84ac5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 13:56:52 2010 +0000

    Files generated by automake & friends are not placed in svn.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4002 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e03c6d5cf0d3e73b762b8d1a7f8d0b458d142ed
Author: flc <flc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 13:05:25 2010 +0000

    add cardmod a minidrivers for windows
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4001 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc6bc0df4ac086e4d4f3ca21eae868eda9856f64
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 11:21:31 2010 +0000

    fix pthread include for win32/mingw compilation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4000 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1471e4a0c4fdcc04b9b143e2e7ad044affa6044
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 06:20:45 2010 +0000

    Fix bebytes2ushort function, reported by Roland Schwarz.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3999 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9406ce2885e2e7c285161b5882ac323a6513f8aa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 06:16:37 2010 +0000

    Updated piv driver by  Douglas E. Engert:
       the PIV driver no longer need to set the card max_*_size parameters
       to get around emulating read_binary and write_binary. It can
       now handle partial reads and writes.
    
       The assumptions for write_binary are that the first chuck will
       have idx = 0, and the last chunk will write the last byte.
       The flags parameter will contain the total length.
    
       The only write_binary operations are done when initializing
       a card, and this is only done from piv-tool.c which was modified
       to pass in the length and other flags.
    
       Piv-tool continues to be a primative test tool for inializing test
       cards. But it has been expanded to be able to write other objects
       on test cards.
    
       The serial number of a PIV  card is obtained from the CHUID object
       if present which has a FASC-N which is an ID number created by the
       issuer. Normally PIV cards are issued the U.S. Federal government
       But there are ways to use the same cards with a non government CA.
       This is then be referred to as PIV Compatible. In this case,
       the FASC-N should start with an agency code = 9999 and an RFC 4122
       GUID should be present in the CHUID. If this is the case, the GUID
       is used as the serial number.
    
       Windows 7 comes with a PIV card card driver, but to get it use one of
       these card the CHUID is required. (piv-tool can now write one.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3998 c6295689-39f2-0310-b995-f0e70906c6a9

commit 119c7751c79eba8c467ec731542e38c9ea82c7b4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 5 06:14:19 2010 +0000

    Improved chaining for large APDU commands,
    by Mats Andersson and Douglas E. Engert.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3997 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85613b459dfde803c199b5d98ef29f474c73e162
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 4 12:18:19 2010 +0000

    rutoken (ECP): add 4 DF (reserved for internal use)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3996 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a4c42ba067c9d1b356e6144090148b6549b1dab
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 4 10:39:30 2010 +0000

    rutoken (S and ECP): never unblock SO PIN
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3995 c6295689-39f2-0310-b995-f0e70906c6a9

commit de05af6632647553476b7906f1c9a054a7aa5cdb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 4 06:33:33 2010 +0000

    fold ui.c/h into pkcs15-init.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3994 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91da321c466f7e32afd8d4544dd1a45594164bce
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 4 06:22:50 2010 +0000

    remove log output coloring.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3993 c6295689-39f2-0310-b995-f0e70906c6a9

commit b113b9000003b144777287123494745b4b909661
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 4 06:19:52 2010 +0000

    remove ui code from library.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3992 c6295689-39f2-0310-b995-f0e70906c6a9

commit 314a31f8675a5901b18e866c66d4f021f06f746c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 3 15:46:44 2010 +0000

    [PC/SC / MacOSX] Try to connect to the card twice.
    
    On OS X, when you insert a card, securityd sequentially starts all found Tokend-s to see if a card can be handled with one.
    If a non-tokend application waits for a card insertion with sc_wait_for_event and tries to connect to the card right after the system sees it, it will fail with "The reader is in use by another application" 95% of the time.
    With this hack connecting to the card succeeds 95% of the time with the probable penalty of an extra second on initialization for non-tokend clients.
    
    This should only affect applications that wait for card insertion events.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3991 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4a24af66d5042686e1ef16a1002d082785c3069
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 3 12:10:41 2010 +0000

    rutoken (S and ECP): both PINs are globals (and addition to changeset 3960, 3946)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3990 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9f844c367d3465bb6c8644b1ae13eb60b4c5ab8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 3 10:10:43 2010 +0000

    [PKCS#11] use combined constants for events
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3989 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3428a684dfe5f800a136fb66404f044acad81fb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 3 09:58:37 2010 +0000

    [tools] If started with --wait, also wait for a reader if necessary.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3988 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36992b400133ddf9ce0a2f6b341b9950b7c4ac2e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 3 09:54:02 2010 +0000

    [PC/SC] detect other events besides card insertion/removal
     * remove whitespace.
     * don't use SC_MAX_READERS and allocate memory dynamically.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3987 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c34f5b28c03654708034ec9b91e3c891899127d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 18:15:53 2010 +0000

    pkcs15init: useless if/else construction
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3986 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6afab17c73c30885ee975a8e5a7976b4febc8e04
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 17:29:17 2010 +0000

    pkcs15init: remove commented-out code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3985 c6295689-39f2-0310-b995-f0e70906c6a9

commit b94d9896e1812181d2955bd60ba28b4bb693175a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 17:20:09 2010 +0000

    pkcs15init: little fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3984 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97ab1858e880dbabb2175314816f06f90c05dcd0
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 17:18:06 2010 +0000

    pkcs15init: remove the old commented-out code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3983 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8026eabacdae08fe93ee7e89534e4a5255ca811c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 16:45:47 2010 +0000

    pkcs15init: remove profile option 'keep-public-key' that was used only by oberthur
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3982 c6295689-39f2-0310-b995-f0e70906c6a9

commit b065c706958ad4696a0cc5e350b1d244a887e6c7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 14:50:56 2010 +0000

    pkcs15init: abandon Old API
    
    tested with Oberthur, CardOS and SetCOS.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3981 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6f9f023a015932066313291f0591dec7544e1bb
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 14:50:42 2010 +0000

    [WINDOWS] Remove tool specific file description support resource file
    
    The implementation was based on the previous MSC build, each tool had its own
    description in version resource.
    
    This change sets a single version resource to all files, and produces much
    simpler build.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3980 c6295689-39f2-0310-b995-f0e70906c6a9

commit 596b8c3c03239e3ece581a3baafd928655082b3d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 14:31:37 2010 +0000

    oberthur: clean 'global' PIN reference flag when getting byte from ACL
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3979 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff4c2c6aa247a7a5114dc104c547e523d830b3a7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 12:53:44 2010 +0000

    Include simclist.h to opensc includes to be able to build OpenSC.tokend
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3978 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92debb4b5e18399a20b6441ed0af5edf5839dfc1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 12:01:36 2010 +0000

    PC/SC: Do not try to watch 0 readers on OS X
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3977 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf471eaf74f88cba93a51a44ae548da0dd9d4c9c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 09:46:03 2010 +0000

    pkcs15init: migrate MyEID to the New API
    
    Migrated without testing, but normally should work -- the pkcs15init part of MyEID and SetCOS are sufficiently close.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3976 c6295689-39f2-0310-b995-f0e70906c6a9

commit 840053f6ba1ff2988f987bf12c378f38c1e99a6c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 09:44:46 2010 +0000

    pkcs15init: migrate MyEID to the New API
    
    Migrated without testing, but normally should work -- the pkcs15init part of MyEID and SetCOS are sufficiently close.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3975 c6295689-39f2-0310-b995-f0e70906c6a9

commit 976c214a05ef9fb253920c1ffb69a63f4c471d56
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 2 09:33:29 2010 +0000

    pkcs15init: unused variables
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3974 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac9f672189e0c0b9daad4094bd0b09d7148ff9f0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 1 15:22:28 2010 +0000

    update windows makefiles: only create one dll.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3973 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9b3c5982e4857222ef6a177080ff46999915291
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 1 15:20:51 2010 +0000

    remove no longer used export files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3972 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b2fe63ac2cba0b0adc447521138fc9db78fa6f7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 1 15:12:53 2010 +0000

    build only one shared library instead of many.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3971 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c7624c81b5ae610395177ff1583191e4af91a4c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 1 10:14:04 2010 +0000

    pkcs15init: sc_verify() has been deprecated (thanks to Martin)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3970 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ce0b374873ac16fb578c10c22c634ea6467f5cd
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 1 09:04:10 2010 +0000

    pkcs15init miocos: remove obsolete code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3969 c6295689-39f2-0310-b995-f0e70906c6a9

commit 167aed7c1fbb2d9e37dcdfd47177354ac7a307a6
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 31 20:29:58 2010 +0000

    pkcs15init: migrate setcos to the New API
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3968 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f52a0267f909f531f67f366a3f5d286fb8b317f
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 31 20:26:45 2010 +0000

    pkcs15init cardos: fix update keys
    
    When creating application DF ('PKCS15-AppDF'), User PIN is not yet created, and AC type 'SC_AC_SYMBOLIC' cannot be resolved.
    So, in the card profile, the macro '$PIN' cannot be used to define the ACLs of the application DF.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3967 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72d5ebb79caf39eea4ecbc7c7d0f06a75801bc0d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 30 19:25:22 2010 +0000

    make erase incompatible with all other actions.
    thus we don't need to worry about if the pin/so-pin was passed
    for the old structures (before erase) or the new ones (if used
    with create).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3966 c6295689-39f2-0310-b995-f0e70906c6a9

commit b83ed7ed71a817ea4c48bdf45058234f53673477
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 29 17:41:05 2010 +0000

    sertcos: both PINs are globals
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3965 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19e9aaf635524a67f654a339e29b3c548a90bcd7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 29 17:40:03 2010 +0000

    pkcs15init: fix putting xPINs in cache
    
    ;when putting SOPIN into the global cache, use the path from the object info;
    ;sc_pkcs15init_create_pin() can be called to create PUK object;
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3964 c6295689-39f2-0310-b995-f0e70906c6a9

commit 742b0ea341daf87131793f1d4c0151754f2148fe
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 29 17:12:53 2010 +0000

    pkcs15init: one more fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3963 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2bcd5352840be1172ff69eb58040b63536532608
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 29 17:08:26 2010 +0000

    pkcs15init: fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3962 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e805ecf2db9ee040efbfce145279e08774babb2
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 29 10:54:51 2010 +0000

    libopensc: in iso7816 process_fci() decode Life Cycle Status byte (ISO 7816-4 2005, 5.3.3, tag '8A')
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3961 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90ba3c769dc450cec65666533df43588b6aa1794
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 16:44:02 2010 +0000

    pkcs15init: card specific pkcs15init has to be ready for pin_reference = -1
    
    Starting from r3946, the reference of PIN, instantiated from profile, is not overwritten by 0 in sc_pkcs15init_create_pin().
    http://www.opensc-project.org/opensc/browser/trunk/src/pkcs15init/pkcs15-lib.c?rev=3946#L1064
    
    So, card specific pkcs15init has to be ready for the pin_reference = -1.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3960 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32f7a4eed367f6f8b29bcb92adcb262840cf3d5c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 14:53:36 2010 +0000

    fix text a bit.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3959 c6295689-39f2-0310-b995-f0e70906c6a9

commit c23f07764d0c74a123ba2e5a39bbd5061afb7b55
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 14:29:30 2010 +0000

    Add more event type defines, add declaration of sc_ctx_get_reader_by_id().
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3958 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9eebe0e1a579994366ee6eb502f2b8856da0f4ad
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 14:15:13 2010 +0000

    pkcs11: by default do not create slot for the User PUK (thanks to Andreas)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3957 c6295689-39f2-0310-b995-f0e70906c6a9

commit 630eb213f47c08e220846ecec3009a0aac066442
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 12:46:36 2010 +0000

    miocos: migration to New API
    
    Miocos card owners are heartly invited to test this revision.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3956 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55f7f02e1845e0b405c334997ed68af4a68f7350
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 12:42:19 2010 +0000

    remove debug message
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3955 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67b1ba0562b909e2c8ef1de470869c311e8c4501
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 12:17:05 2010 +0000

    opensc.conf: in pkcs11 section a new option to disable slot for User PUK
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3954 c6295689-39f2-0310-b995-f0e70906c6a9

commit 031bfc7a0774004b4e261b0f9bc2280e1405b25e
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 12:14:48 2010 +0000

    pkcs11: parametrize disabling of the slot for PUK
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3953 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae046cc460fb7c0b9403cbaf09e8c72dc0e4fad4
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 28 08:28:25 2010 +0000

    pkcs11: do not create slot for PUK
    
    Ignore PUK for the 'normal' pkcs11 also, not only for 'one-pin-pkcs11'.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3952 c6295689-39f2-0310-b995-f0e70906c6a9

commit 660fdea68a14d140e7c99ef2a3a377e299ed403d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 18:18:10 2010 +0000

    profile: for PIN flags use rather 'define' macro
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3951 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2d3618ff614da9e1a70a7e859a8e8e16cb62477
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 18:07:14 2010 +0000

    oberthur: finalize migration to the NEW API
    
    no more 'init_app'.
    
    - Oberthur unblock style is the only one (local SOPIN is used as PUK);
    - user PIN and PUK should be everywhere defined as local;
    - SOPIN is always global.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3950 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38e1144c1e63c4b5e307b6b2c9d77635898dbbf9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 17:53:51 2010 +0000

    pkcs15init: pkcs15 PinObject for PUK
    
    When creating PIN, if 'puk_id' is defined in 'struct sc_pkcs15init_pinargs',
    the pkcs15 PinObject for PUK will be created.
    
    For a moment, PinObject is not created for SO PUK.
    
    
    
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3949 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8aa21284236abd2fb4a89f973066f7d98a21aa3a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 17:38:43 2010 +0000

    pkcs15-init tool: don't ask for PUK value when creating PIN with 'unblock-disabled' in flags
    
    - prepare pkcs15-init tool for creating a pkcs15 PinObject for PUK.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3948 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42ad65e8d20e2b1e6dae15c72285ec7b2cb06545
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 17:08:04 2010 +0000

    sorry, fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3947 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f0abe80bb6759b3df5c16c794aee22110b03358
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 17:03:04 2010 +0000

    libopensc pkcs15: path is optional for PinAttributes of PinObject
    
    - for 'global' PINs path in not encoded into the AODF;
    - when selecting pin_reference, start from value defined in profile.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3946 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33228c7cbc910f5b31c6e9e562857e7d2e38349e
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 16:04:19 2010 +0000

    cleanup and correct style
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3945 c6295689-39f2-0310-b995-f0e70906c6a9

commit 723bcc41ff080d5749464546c13a340741ca8b98
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 14:50:35 2010 +0000

    fix: use of uninitialised value - return parameter (phObject) from C_CreateObject and C_GenerateKeyPair
    (In function 'pkcs15_add_object': warning: unused parameter 'pHandle')
    
    Example (C_CreateObject):
    Breakpoint 3, C_CreateObject (hSession=134587040, pTemplate=0x8049160, ulCount=5, phObject=0xbff55560)
        at pkcs11-object.c:57
    57              rv = sc_pkcs11_lock();
    (gdb) x/x phObject
    0xbff55560:     0xffffffff
    (gdb) finish
    0xb7f5c6c0 17:15:09.969 [opensc-pkcs11] framework-pkcs15.c:657:pkcs15_add_object: Setting object handle of 0x0 to 0x805ab80
    Run till exit from #0  C_CreateObject (hSession=134587040, pTemplate=0x8049160, ulCount=5,
        phObject=0xbff55560) at pkcs11-object.c:57
    0x080487a4 in main ()
    Value returned is $1 = 0
    (gdb) x/x 0xbff55560
    0xbff55560:     0xffffffff
    (gdb) c
    Continuing.
    
    Breakpoint 4, C_DestroyObject (hSession=134587040, hObject=4294967295) at pkcs11-object.c:106
    106             rv = sc_pkcs11_lock();
    (gdb) p/x hObject
    $2 = 0xffffffff
    (gdb) finish
    Run till exit from #0  C_DestroyObject (hSession=134587040, hObject=4294967295) at pkcs11-object.c:106
    0xb7f5c6c0 17:15:56.581 [opensc-pkcs11] pkcs11-object.c:110:C_DestroyObject: C_DestroyObject(hSession=0x805a2a0, hObject=0xffffffff)
    0x080487cb in main ()
    Value returned is $3 = 130
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3944 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66f9ccaa94950e0483d86cb2f934acbd9d2d4233
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 27 12:22:50 2010 +0000

    fix SIGSEGV:
    $ pkcs11-tool --slot 5 --login --pin "12345678" --label 1 --type data --private --write-object tmp.txt
    Generated Data Object:
    Data object 0
    ...
    $ pkcs11-tool --slot 5 -O --login --pin "12345678"
    Data object 135436368
      label:          '1'
      application:    '1'
      app_id:         -1
      flags:           modifiable private
    ...
    (gdb) run
    Starting program: /usr/local/bin/pkcs11-tool --slot 5 --login --pin "12345678" --label 1 --type data --delete-object
    
    Program received signal SIGSEGV, Segmentation fault.
    [Switching to Thread -1210333504 (LWP 7193)]
    0xb7cc8181 in slot_token_removed (id=5) at slot.c:319
    319                     if (object->ops->release)
    (gdb) bt
    #0  0xb7cc8181 in slot_token_removed (id=5) at slot.c:319
    #1  0xb7cc82dd in card_removed (reader=0x811bdf0) at slot.c:132
    #2  0xb7cc43e7 in C_Finalize (pReserved=0x0) at pkcs11-global.c:298
    #3  0x08050fc0 in main (argc=11, argv=0xbf98d6f4) at pkcs11-tool.c:677
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3943 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5cd5728c0e7b290b19e877689432ec87fca2efa4
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 26 12:59:08 2010 +0000

    libopensc: search pkcs15 objects: accept NULL value for the output argument
    
    So that, the dummy object for the 'search pkcs15 object' calls is not neccessary.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3942 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ec8932c93a2fc7c8939286bf68d654aaa5a3a38
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 26 10:40:47 2010 +0000

    fix:
    reader-openct.c: In function 'openct_reader_connect':
    reader-openct.c:204: error: 'reder' undeclared (first use in this function)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3941 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc140126e967fce0f2a148a48cfbe0e2a79f89f5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 25 16:42:22 2010 +0000

    pkcs15init: in select_object_path() look for the template also outside the 'key-domain'.
    
    To use New API with the cards that do not have 'key-domain' in their profile,
    when setting object data path,
    the object template has to be also looked for outside the 'key-domain'.
    
    ;migrate Oberthur to the New API;
    ;use macros SC_CALLED, SC_TEST_.., SC_RETURN in pkcs15-lib.c
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3940 c6295689-39f2-0310-b995-f0e70906c6a9

commit 986309db799e288082c1d9389147cd7277980766
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 25 16:10:54 2010 +0000

    libopensc: new operations for access control
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3939 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4662812e93c696fce5fec382fa61de41392628b7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 25 15:53:29 2010 +0000

    pkcs15-init tool: when importing bunch of certificates, break after the first error
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3938 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97d5b3e6e7199b05db5a48254e798d9a9f6542c5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 25 15:30:33 2010 +0000

    sorry, commit by error; reverting back to r3935
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3937 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e9c7e561941502878c88a99ca6af1655b0bab8f
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 25 15:11:35 2010 +0000

    pkcs15-init tool: when importing bunch of certificate, break after the first errorsrc/tools/pkcs15-init.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3936 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0244baa494ecf80c0f3b2eb5bffc70f3f6511625
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 20:45:02 2010 +0000

    pkcs11:
      - slots, sessions and objects are kept as lists.
      - change the way slots, cards and readers are managed.
      - re-implement C_WaitForSlotEvent(/C_Finalize) as written in PCKS#11 v2.20, canceling pending blocking calls.
      - implement a "virtual hotplug slot" with a floating slot id to keep NSS working with C_WaitForSlotEvent with a new reader.
        NSS does not call C_GetSlotList(NULL) to re-fetch the list of available slots if C_WaitForSlotEvent returns an event in an already known slot ID.
        By changing the ID of a slot whenever a reader attached  NSS/Firefox can be tricked into recognizing new readers when waiting for events with C_WaitForSlotEvent.
      - change (possibly break something) sc_to_cryptoki_error() to not have side-effects
      - Implement CKU_CONTEXT_SPECIFIC in C_Login to implement CKA_ALWAYS_AUTHENTICATE (keys with user consent)
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3935 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0595eb7d1ed63184c6a8a9adc83cb1fe1ddee8f3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 15:40:02 2010 +0000

    tests: remove slots and sc_disconnect_card API as in r3931
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3934 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a0cc5012357b21673a6da4b15f7e0b7a7957e4d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 15:29:47 2010 +0000

    tools: remove slots; implement change in sc_disconnect_card(); convert util_connect_card()/--wait to support the changes in r3931
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3933 c6295689-39f2-0310-b995-f0e70906c6a9

commit e191142d04e91661fe75cb3a8644f1d183f93696
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 15:26:14 2010 +0000

    pkcs15init: remove slots, according to r3931
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3932 c6295689-39f2-0310-b995-f0e70906c6a9

commit d006b1845ef6ef7416a04fb8cf0677a8cd0cb6e1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 15:25:08 2010 +0000

    libopensc:
     - Remove slot abstraction from internal API and all reader drivers. CT-API (from where it all comes from) readers with multiple slots (if still found) can be presented as separate readers, OpenCT should remove the slot abstraction, PC/SC never knew about it. None of the tools knew how to use slots.
     - Add sc_cancel (translates to SCardCancel)
     - Re-implement sc_wait_for_event; support a blocking call.
     - Replace the "int reader" API with "* sc_reader_t" style; add "Get reader by name" functionality.
     - Remove "action" parameter from sc_disconnect_card() (was not used)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3931 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c7d6587beefdd77549056914b2a2da712ecee53
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 15:14:55 2010 +0000

    Use a constant buffer instead of malloc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3930 c6295689-39f2-0310-b995-f0e70906c6a9

commit 101df10ae53610c230e1f86da628188636064bcf
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 15:05:14 2010 +0000

    Add simclist, also used by pcsc-lite, for list operations.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3929 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbfa2dd9398adf4b558afabe0566583e9b4d3399
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 12:50:37 2010 +0000

    Missing piece from r3912
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3928 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd9e6669267e1a2e41b789330134c080c29cb5a6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 24 12:38:34 2010 +0000

    SC_ERROR_MEMORY_FAILURE signals EEPROM failures on card. Failures to allocate memory on host result in SC_ERROR_OUT_OF_MEMORY.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3927 c6295689-39f2-0310-b995-f0e70906c6a9

commit 612d66655df8d592b57f33753cc6adadee8731e3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 23 19:12:52 2010 +0000

    Introduce SC_ERROR_NOT_ENOUGH_MEMORY <=> CKR_DEVICE_MEMORY.
    
    When trying to import a too large keyfile as a data object, TrueCrypt received a CKR_GENERAL_ERROR before this.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3926 c6295689-39f2-0310-b995-f0e70906c6a9

commit f48ec9528eb59c36f813d4a1ba1aded295610112
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 23 06:28:35 2010 +0000

    OpenSSL 1.0.0-beta series crash when assembler implementations underflow with 0 byte length call to OPENSSL_cleanse() and overwrite memory.
    Avoid it by nut trying to eraze zero memory.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3925 c6295689-39f2-0310-b995-f0e70906c6a9

commit 561507769af85d6d5127ba24c0e71bfa5c7dfacd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 22 12:11:41 2010 +0000

    tools: cardos-tool uses OpenSSL, link against it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3924 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2bc83b1382243b642fa283792a75ccccf4ed30a
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 22 12:01:17 2010 +0000

    fix:
    
    CK_MECHANISM rsa_mech = { CKM_RSA_PKCS_KEY_PAIR_GEN, NULL, 0 };
    C_GenerateKeyPair(..., &rsa_mech, ..., ..., ..., ..., ..., ...); -> ... -> sc_pkcs15init_store_public_key -> sc_pkcs15init_store_data -> select_object_path -> sc_pkcs15_get_objects: return 0 -> CKR_OK
    ($ pkcs15-tool --list-public-keys:
    Public RSA Key [Public Key]
            ...
            Path        : 3f0050000200
    )
    
    CK_MECHANISM gost_mech = { CKM_GOSTR3410_KEY_PAIR_GEN, NULL, 0 };
    C_GenerateKeyPair(..., &gost_mech, ..., ..., ..., ..., ..., ...); -> ... -> sc_pkcs15init_store_public_key -> sc_pkcs15init_store_data -> select_object_path -> sc_pkcs15_get_objects: return 0 -> CKR_OK
    ($ pkcs15-tool --list-public-keys:
    Public RSA Key [Public Key]
            ...
            Path        : 3f0050000200
    
    Public GOSTR3410 Key [Public Key]
            ...
            Path        : 3f0050000200
    )
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3923 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d935df1bc65022ef80a40f8721f0fa8e3709289
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 21 19:58:49 2010 +0000

    Fix #193: cryptoflex driver did not set minimum PIN length.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3922 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6dd95cd03ce93ccd6c79737eac899f8be8a4f3c
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 21 10:58:10 2010 +0000

    update on NEWS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3921 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39a70345b99ae8f6a7e1d6903497f1abf3fb9a64
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 21 10:07:40 2010 +0000

    pkcs15init profile: 'private key' as BSO is differenciated from the one as EF
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3920 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6fc954cbc63c07c03ce3c7180d0c894d7e2dc73b
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 21 09:41:40 2010 +0000

    pkcs15init: new profile type BSO
    at the profile level the difference between EF and BSO is:
    - BSO path is always the path of the host DF and do not indexated when template is instanciated;
    - EF path is always ending with file-id that is always indexated  when template is instanciated.
    
    New non-static 'sc_profile_get_file_instance' procedure to instanciate non-template entries.
    In profile.c get_uint() accepts hexadecimals.
    In CardOS profile (I venture to) increase the xDF sizes
    	and change ACL to permit the key re-importing.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3919 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5200b3bbea13ccd85a87767e807e51d7afeec5e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 19 13:11:21 2010 +0000

    Add GemSafeXpresso 32K ATR.
    The card is available from http://www.smartcardfocus.com/shop/ilp/id~246/p/index.shtml
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3918 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54ee99d486299f0ae7b9da948cdb2413d1a01257
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 17 21:08:13 2010 +0000

    pkcs15init: use pinpad
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3917 c6295689-39f2-0310-b995-f0e70906c6a9

commit f205d48258204927d46ba3192c1f194dfb91ff2c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 16 21:52:47 2010 +0000

    pkcs15init: dissociate object file-id and object ID;
    ;use macros SC_CALLED, SC_RETURN and SC_TEST_RET;
    ;change debug level in debug macros;
    
    For a new pkcs15 object of a given type the file index is chosen as a first value in the range from 'file-id' to 'max-id',
    excluding the values that are already assigned to the file indexes of the existing pkcs15 objects of the same type.
    
    'file-id' is defined in the template ('key-domain') of the card profile ;
    'max-id' is 'file-id' + hard coded value 0xFE .
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3916 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45b95583d0880c14f0e3ec09484841314ab2a356
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 16 20:55:45 2010 +0000

    profile sanity check: in template check for minimal difference between file-ids
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3915 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a7793c77cfcdbcd91bd5abb0af8aeff2fcc2af2
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 15:29:16 2010 +0000

    pkcs15init: possible error of 'find_object_by_id' should not be ignored
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3914 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb5b8d0493b2d119f5a888e23286d74e29608ea5
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 14:08:54 2010 +0000

    oberthur: increase sizes of xDF files; source tabified
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3913 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29d93a07b1f71b1942943e09e8139c60daaa8fda
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 09:45:11 2010 +0000

    Add comments about unused errors and add an error for locked readers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3912 c6295689-39f2-0310-b995-f0e70906c6a9

commit 875fe4a50fb96b180c20f3806b723580bcb8dd0b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 09:36:00 2010 +0000

    pkcs11-tool: test hotplug partial commit fix + make a slot ID mandatory and parse it as an unsigned long, not int.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3911 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5effc32c38c52752f56daa6c5632241835982d3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 09:33:27 2010 +0000

    pkcs11-tool: test hotplugging and events (C_GetSlotList/C_WaitForSlotEvent) before others tests and only if --hotplug is given
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3910 c6295689-39f2-0310-b995-f0e70906c6a9

commit cc5c03197d645220173e2a63d91220a41b30cf56
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 09:27:17 2010 +0000

    pkcs11-tool: Check for CKA_ALWAYS_AUTHENTICATE and CKU_CONTEXT_SPECIFIC login for --test operations.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3909 c6295689-39f2-0310-b995-f0e70906c6a9

commit e595042474aa5cfa3de5dcfddb2c4bca72fb0f2f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 15 09:22:03 2010 +0000

    pkcs11-tool: Call C_Finalize when a fatal error happens. (Otherwise OSX pcsc locks up)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3908 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6a0e54f9a94a44f0bfc33fcefefba903ba1e013
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 13 16:39:37 2010 +0000

    oberthur: accept token 'OCS ID-One Cosmo Card'; ignore warning status 'end of file reached ...'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3907 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4942760d06300db1706099da7a2fa86fad037820
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 13 12:27:05 2010 +0000

    Xiaoshuo Wu:
    removes the assert line and some unused code, solves a problem with ePass3000.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3906 c6295689-39f2-0310-b995-f0e70906c6a9

commit d43ea3f0651d20aa2c7db584629e3da7f76eb7b7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 10 21:58:48 2010 +0000

    Remove strange characters.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3905 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0518ed57c5015ebd13d7caa342c2ce982c2fc203
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 10 20:33:32 2010 +0000

    no more 'reuse pkcs15 object'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3904 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ce6c1d05eadfcf70adcf02143b8481060451920
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 10 18:44:02 2010 +0000

    PC/SC: Add SCardCancel to please mingw
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3903 c6295689-39f2-0310-b995-f0e70906c6a9

commit ece2a6a3403f236853a199e269924cd800729697
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 8 15:51:42 2010 +0000

    regression tests: pkcs11-tool API has been changed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3902 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2dae6b97bf1916c1c01a3db9825334df2fb7fe8
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 8 15:41:07 2010 +0000

    Unlock User PIN with PKCS#11:
    One of the three unblock methods can be activated from the 'opensc-pkcs11' section of opensc.conf:
    - C_SetPin() in the unlogged sesssion;
    - C_SetPin() in the CKU_SPECIFIC_CONTEXT session;
    - C_InitPin() in CKU_SO session (inspired by Pierre Ossman).
    -- This last one works, for a while, only for the pkcs15 cards without SOPIN auth object.
       For the pkcs15 cards with SOPIN, this method will be useful for the cards
       that do not have then modes '00' and '01' of ISO command 'RESET RETRY COUNTER'.
    
    Test commands:
    # pkcs11-tool --module ./opensc-pkcs11.so --slot 0 --unlock-pin --puk "123456" --new-pin "9999"
    # pkcs11-tool --module ./opensc-pkcs11.so --slot 0 --unlock-pin -l --login-type context-specific --puk "123456" --new-pin "9999"
    # pkcs11-tool --module ./opensc-pkcs11.so --slot 0 --init-pin -l --new-pin "9999"
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3901 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39ca6b156f67a8081e229703cfd74f455065b731
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 3 18:26:46 2010 +0000

    pkcs15-init tool: delete both key parts when deleting splitted key
    
    Splitted key is stored as the two private keys with the same ID.
    (It's not conform to PKCS#15, but tolerated by OpenSC.)
    Previously used 'sc_pkcs15_find_prkey_by_id()' is not appropriated to the case of splitted key.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3900 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0484968a952960658db2d543720f94a7de8275e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 18 13:33:03 2009 +0000

    merge changes 0.11.11 -> 0.11.12
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3899 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7cf8760f9f92ab19ec8798fb9d8e51f583c2a665
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 10 14:50:32 2009 +0000

    Fix: any of these calls
    C_CreateObject(hSession, NULL_PTR, 1, NULL_PTR);
    C_GetAttributeValue(hSession, hObject, NULL_PTR, 1);
    C_SetAttributeValue(hSession, hObject, NULL_PTR, 1);
    C_FindObjectsInit(hSession, NULL_PTR, 1);
    C_FindObjects(hSession, NULL_PTR, 0, NULL_PTR);
    C_FindObjects(hSession, NULL_PTR, 1, NULL_PTR);
    C_FindObjects(hSession, NULL_PTR, 1, pulObjectCount);
    C_DigestInit(hSession, NULL_PTR);
    C_SignInit(hSession, NULL_PTR, hKey);
    C_SignRecoverInit(hSession, NULL_PTR, hKey);
    C_DecryptInit(hSession, NULL_PTR, hKey);
    C_VerifyInit(hSession, NULL_PTR, hKey);
    C_GenerateKeyPair(hSession, NULL_PTR, pubKeyTmpl, arraysize(pubKeyTmpl),
    prvKeyTmpl, arraysize(prvKeyTmpl), &hPubKey, &hPrvKey);
    C_GenerateKeyPair(hSession, pMechanism, pubKeyTmpl,
    arraysize(pubKeyTmpl), NULL_PTR, 1, &hPubKey, &hPrvKey);
    C_GenerateKeyPair(hSession, pMechanism, NULL_PTR, 1, prvKeyTmpl,
    arraysize(prvKeyTmpl), &hPubKey, &hPrvKey);
    =>
    Segmentation fault
    
    Remark: Allow calls:
    C_FindObjectsInit(hSession, NULL_PTR, 0)
    C_GenerateKeyPair(hSession, pMechanism, NULL_PTR, 0, NULL_PTR, 0, phPublicKey, phPrivateKey)
    C_UnwrapKey(hSession, pMechanism, hUnwrappingKey, pWrappedKey, ulWrappedKeyLen, NULL_PTR, 0, phKey)
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3891 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ec5a6b25dd555de12a4c8a1bcecf2cc256a1d4d
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 10 12:34:04 2009 +0000

    fix: return CKR_ARGUMENTS_BAD from C_Login, C_InitPIN, C_SetPIN, if pPin == NULL_PTR and PinLen > 0
    PKCS#11:
    "To log into a token with a protected authentication path, the pPin parameter to C_Login should be NULL_PTR."
    "To initialize the normal user?s PIN on a token with such a protected authentication path, the pPin parameter to C_InitPIN should be NULL_PTR."
    "To modify the current user?s PIN on a token with such a protected authentication path, the pOldPin and pNewPin parameters to C_SetPIN should be NULL_PTR."
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3890 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dff2deae1fa67ba3bb1d51d519ce029a0c39e8c
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 9 13:59:03 2009 +0000

    fix: return CKR_USER_NOT_LOGGED_IN (now CKR_GENERAL_ERROR) from C_GenerateKeyPair for the case where there was no call C_Login
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3889 c6295689-39f2-0310-b995-f0e70906c6a9

commit 781c3c0fff0c795cb390461fa96ea7dc81a3a88b
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 8 18:34:55 2009 +0000

    add to changeset 3887
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3888 c6295689-39f2-0310-b995-f0e70906c6a9

commit 425ec51f782979a65d98cb3494cf7b1b0f5f8d0d
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 8 18:28:22 2009 +0000

    fix:
    CK_MECHANISM gostMech = { CKM_GOSTR3410_KEY_PAIR_GEN, NULL, 0 };
    ...
    C_GenerateKeyPair(hSession, &gostMech, NULL_PTR, 0, NULL_PTR, 0, &hPubKey, &hPrvKey);
    -> CKR_OK and Generate RSA Key Pair
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3887 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22a950cd0d6063b7991aa9118aaf867456be8b6a
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 8 14:29:49 2009 +0000

    Fix: return CKR_SESSION_READ_ONLY from C_InitPIN, C_SetPIN,
    C_CreateObject, C_CopyObject, C_DestroyObject, C_SetAttributeValue,
    C_GenerateKey, C_GenerateKeyPair, C_UnwrapKey, C_DeriveKey if session is
    read-only.
    
    PKCS#11:
    "C_InitPIN can only be called in the 'R/W SO Functions' state."
    
    "C_SetPIN can only be called in the 'R/W Public Session' state, 'R/W SO
    Functions' state, or 'R/W User Functions' state. An attempt to call it
    from a session in any other state fails with error CKR_SESSION_READ_ONLY."
    
    "Only session objects can be created/destroyed/modified
    (C_CreateObject/C_DestroyObject/C_SetAttributeValue) during a read-only
    session."
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3886 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5881b46ac1541e5faf948c04011c8e0db63dd756
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 7 12:50:59 2009 +0000

    PKCS#11: Spec does not allow CKR_OBJECT_HANDLE_INVALID from C_EncryptInit, C_DecryptInit, C_DigestKey, C_SignInit, C_SignRecoverInit, C_VerifyInit, C_VerifyRecoverInit, C_WrapKey, C_DeriveKey, C_UnwrapKey
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3885 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5bf000da188db373923b72b3f7536e65ff4e78a9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 13:11:56 2009 +0000

    pkcs15-tool: unblock PIN with pinpad
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3884 c6295689-39f2-0310-b995-f0e70906c6a9

commit 193ca769800af0866e040583917d4945db46f539
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 12:51:12 2009 +0000

    pkcs15-tool: change PIN with pinpad
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3883 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44e94c8c94dc74572a509c62f96c7ad93f0231de
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 11:59:48 2009 +0000

    opensc-explorer: remove debug messages
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3882 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4730e98da10325023bac76855187fe1476d7745d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 11:13:17 2009 +0000

    Thomas Uhle: Just this morning I realised that there is
    a minor mistake in my patch for opensc_info(). For the Sun Studio 12.1
    compiler (__SUNPRO_C == 0x5100) and later versions also, it must be
    (__SUNPRO_C >> 4) & 0xFF to split the micro and mask the major version
    number.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3881 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ff96b8c6647faf29f7fc7a6db01c9ec689482e8
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 11:11:04 2009 +0000

    pinpad support of PIN changing and unlocking
    Oberthur and opensc-explorer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3880 c6295689-39f2-0310-b995-f0e70906c6a9

commit 490e02b3495bb14bca5f226152787340c1dc585d
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 10:47:51 2009 +0000

    after Martin's suggestion: for pcsc do not use '0' protocol when detecting readers
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3879 c6295689-39f2-0310-b995-f0e70906c6a9

commit df4bdaf6f72d4f33ee9e4224741a361498a2217f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 07:18:19 2009 +0000

    Update westcos emulation by François Leblanc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3878 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93a2b39028e72d22973aaf149ecb79d9e6cfa0f5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 07:10:24 2009 +0000

    Updated westcos driver by François Leblanc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3877 c6295689-39f2-0310-b995-f0e70906c6a9

commit 073c9da34223aba1671a6d596b0e9de265f44006
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 07:05:15 2009 +0000

    Thomas Uhle: modify Makefile so configure finds the include files
    of PC/SC lite.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3876 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2c5ab32092b6b04a6418d863881f7b787a5f9ad
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 3 07:03:53 2009 +0000

    Thomas Uhle: Add information about sun compiler to opensc-tool.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3875 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06aaa718cc7fec5e9658a0c8daf0203935b62c4c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 2 11:10:16 2009 +0000

    Describe now option for --help.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3874 c6295689-39f2-0310-b995-f0e70906c6a9

commit 724c3485a650dff903e099a1a9abbf6b9d22e16c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 2 11:07:45 2009 +0000

    remove dead code for now - easy to recreate later.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3873 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29407cf2d885cc6c999df8e4778a0d06fb17438f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 2 09:52:12 2009 +0000

    fixed and tested by Viktor TARASOV. Thanks!
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3872 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b21dd6a0523719d00ee2b3b663cc3f1c8a8a07d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 1 21:10:06 2009 +0000

    basic command to change startkey,
    so far untested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3871 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9935bf410f4b7eed4885cfa3d225027e8752789
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 1 11:47:19 2009 +0000

    cardos-tool: invalid parsing of the 'common system keys' info
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3870 c6295689-39f2-0310-b995-f0e70906c6a9

commit e4780e82ec4a6b073cad5089c2d0e5d76dce127c
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 27 11:15:33 2009 +0000

    add to pkcs11-tool: GOST mechanisms and GOSTR3410 key to show objects on token
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3869 c6295689-39f2-0310-b995-f0e70906c6a9

commit d201a1d86d247dd005ab9cecb8b16a7dcd413148
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 27 11:07:23 2009 +0000

    add get CKA_GOSTR3410_PARAMS attribute for GOST private key
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3868 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2d6ec2c764ce450e488c6749245e90a6753d0b5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 25 18:01:30 2009 +0000

    Always print the slot description (reader name in case of OpenSC)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3867 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0756990c4458800c50125d959c7df77e5a4583a2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 24 13:43:32 2009 +0000

    Patch by João Poupino for Portugese eID card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3866 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56dd3ec0ead138fadcfaee87ee6e6b8a8e8dd3e2
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 23 16:38:02 2009 +0000

    Modification Rutoken S binary interfaces by Aktiv Co. (OpenSC+Rutoken S driver for Windows works now)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3865 c6295689-39f2-0310-b995-f0e70906c6a9

commit 505406c3b0544d2ad35f145850d2607dd7a20ea9
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 23 13:40:05 2009 +0000

    Oberthur: verify PIN with pinpad
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3864 c6295689-39f2-0310-b995-f0e70906c6a9

commit b372290e72d13cb616ac698903c5ee9500ad9083
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 23 11:41:23 2009 +0000

    correct SEC_ATTR_SIZE name (add prefix)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3863 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05b96a1f5e001e5196bd4a200b4f63a6ff6a3a29
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 20 15:23:12 2009 +0000

    CKR_USER_ALREADY_LOGGED_IN: It indicates that the specified user cannot be logged into the session, because it is already logged into the session.
    CKR_USER_ANOTHER_ALREADY_LOGGED_IN: It indicates that the specified user cannot be logged into the session, because another user is already logged into the session.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3862 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7cbe5e5470ce6304724161caa0c76088e82678f9
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 20 13:15:00 2009 +0000

    use generic iso7816_select_file code, remove duplicate code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3861 c6295689-39f2-0310-b995-f0e70906c6a9

commit 052775325a95c2269d7c15203a68fd9c1958b340
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 20 12:26:04 2009 +0000

    remove dead code (in compliance with http://www.opensc-project.org/opensc/changeset/3839#file8)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3860 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5320ca6fd1afa40b475510bd23a34efd3d77376f
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 19 15:41:03 2009 +0000

    Corrected GOSTR3410 public key structure
    
    Working now with GOST R 34.10:
    $ pkcs15-init --store-private-key key --key-usage sign,decrypt --auth-id 2 --id 1 --pin "12345678"
    $ pkcs15-init --store-certificate my_cert --id 1 --pin "12345678"
    
    But have problem: no CKA_GOSTR3410_PARAMS by retrieve pub_key from certificate, if pub_key object was removed (see parse_x509_cert, asn1_decode_gostr3410_params)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3859 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ba09f087b21b20ca5a22ea2172c5882ae26b391
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 17 13:27:15 2009 +0000

    logs: time stamp with 1msec resolution in unix. Thanks to Ludovic Rousseau.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3858 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f52e7bba8a6989c7a04da51a68eda7150d8b490
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 17 12:12:17 2009 +0000

    reader-pcsc::pcsc_transmit() add log message with the reader's name
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3857 c6295689-39f2-0310-b995-f0e70906c6a9

commit b41fcbedd9328681deb7930e955773b84af3471a
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 17 11:11:05 2009 +0000

    logs: time stamp; dump_hex() with the static output buffer
    - time stamp in the log messages: for Windows 1msec resolution, otherwise 1sec;
    - one more dump hex function, to be easily inserted into the formatted message.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3856 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11e9cab070600dab23f5c46d545409a56649c294
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 16 21:41:40 2009 +0000

    Fix C coding style to please visual studio. By João Poupino.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3855 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1444f8db954abaa89f8854bfbd744bea34e5fa27
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 16 20:45:26 2009 +0000

    Fix windows build
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3854 c6295689-39f2-0310-b995-f0e70906c6a9

commit e931fdfd067a40626c2f65e29684b38eb431e1be
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 16 20:35:15 2009 +0000

    Fix C coding style
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3853 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff8912c6002463ea2493db46b3938184d6554028
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 16 07:32:46 2009 +0000

    Remove plugindir as plugin was removed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3852 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5d2618ea3c65effb93da0635c905743f420dc42
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 15 18:08:10 2009 +0000

    Estonian eID: fix charset
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3851 c6295689-39f2-0310-b995-f0e70906c6a9

commit c398f55373683ea8531a1c71eb46112900aee4ec
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 15 18:03:04 2009 +0000

    Allow to turn off CT-API support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3850 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8dc5bdeefa7a4ef022cf3a8586d6ee81a11eca7
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 14 21:55:17 2009 +0000

    opensc-explorer::do_apdu() number of bytes in printed message 'Sending'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3849 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2005bc2e920bf6ca32510599328ccf08df583a04
Merge: 6415269 df20fe7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 19:28:13 2009 +0000

    Move branches/martin/0.12 to trunk
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3848 c6295689-39f2-0310-b995-f0e70906c6a9

commit df20fe72e139e084381c8c7307d718fa5336145b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 19:01:21 2009 +0000

    merge [3823:3844/trunk]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3845 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64152699b52d9b8e9ce2f41ee6609f578c4c1588
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 14:52:25 2009 +0000

    remove dead code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3844 c6295689-39f2-0310-b995-f0e70906c6a9

commit 533a33521f4295fc1b3b4d55f65863e452c8ab87
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 14:51:32 2009 +0000

     * Update opensc-tool and opensc-explorer man pages
     * Remove not implemented pksign/pkdecrypt commands from opensc-explorer. Use pkcs15-crypt instead.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3843 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fe567e94d747532003f3ee508f4c318c7173d6f
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 14:45:33 2009 +0000

    add support for GOSTR3410 keys
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3842 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0eac0fb14cabb83bb901870d42102d2d800ba9a3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 12:25:18 2009 +0000

    Fix #58: properly document "pkcs15-init -T"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3841 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca0976ba6f7860cc82a1e3d308bf427437262719
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:48:17 2009 +0000

    Remove signer and related configure elements
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3840 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38ba3ad18d0b6dbe33c7e98bbefcdb2eb3c6bb7f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:32:12 2009 +0000

    Remove card->finish() functions that do nothing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3839 c6295689-39f2-0310-b995-f0e70906c6a9

commit 84de38855fc242204518aa06f596da4aba687474
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:23:16 2009 +0000

    Fix a compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3838 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2dfbf4f934c9be535ca891e059dd2e54664930c4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:21:58 2009 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3837 c6295689-39f2-0310-b995-f0e70906c6a9

commit e95b0662f6549644f87f54a65d842c6114ddd85c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:21:39 2009 +0000

    Fix compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3836 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc1d4c4e06e0d7f2eba136d865ea14612427b475
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:21:09 2009 +0000

    Fix compiler warnings and a typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3835 c6295689-39f2-0310-b995-f0e70906c6a9

commit b34a1a6128b4c6636b6445dcdb515fd87afd7de4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:19:46 2009 +0000

    Remove unused variables & fix line endings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3834 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5b644c2f7a868322f8394c08d81873c6df73859
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:15:00 2009 +0000

    Remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3833 c6295689-39f2-0310-b995-f0e70906c6a9

commit 48924f32223f9922519662b2957dce546706c585
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:14:10 2009 +0000

    Remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3832 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb9423c5f990adcffb481375afec2d0e3e93fcc0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:13:35 2009 +0000

    Remove unusued variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3831 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a3c0b3fe68e8e7fb29bfb179bffe6e32bbddc44
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:13:14 2009 +0000

    Remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3830 c6295689-39f2-0310-b995-f0e70906c6a9

commit a869431ff66b462413a6c7a06c93eca7adc144f8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:13:01 2009 +0000

    Remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3829 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17b7e1b0413b8a775fb210eff07d4711749b03b4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:12:43 2009 +0000

    Remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3828 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a6f8b7468a4d5f0576f76ee67d19f46e4273cde
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:12:14 2009 +0000

    Remove unused variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3827 c6295689-39f2-0310-b995-f0e70906c6a9

commit 684e9b20baa4a9094872b47f5a7c4c70e8e6fae1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 11:10:44 2009 +0000

    Convert newlines to unix style, remove compiler warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3826 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5dc6a35aa8e27d20a1cd30affcd266ae7dd55486
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 09:53:22 2009 +0000

    mix tab/space character [3822]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3825 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ea5bb7987601f0cbf42aeb30176af7d318b0ac0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 09:45:21 2009 +0000

    Merge [3804:3822/trunk]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3824 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f316b2f2abe37d1d02295a9751ad81f74fe8d0c
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 13 09:12:31 2009 +0000

    patch to improve wesctos pkcs15init, submitted by Francois Leblanc
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3823 c6295689-39f2-0310-b995-f0e70906c6a9

commit babc99bf583f027f8566db1baad35ec4d48bc23b
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 12 16:03:51 2009 +0000

    To enable keygeneration in Firefox and opensc-pksc11.so when using smartcards that require different keybobjects for signing and encryption (CardOS)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3822 c6295689-39f2-0310-b995-f0e70906c6a9

commit a06c8ef67fe9151a6c96176d3c240a040fd497df
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 11 20:18:41 2009 +0000

    set default ID style to 'native'
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3821 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1df1bbb0c8de6f993d1beff9aa4355497f9eb321
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 11 18:47:14 2009 +0000

    Intrinsic ID: after Aleksey Samsonov's code revision:
    - memory leaks after 'memory allocation' and other errors;
    - coding style;
    - simplify code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3820 c6295689-39f2-0310-b995-f0e70906c6a9

commit 15b1ba0cd7d5e753e49d095bafead91b0a417a4c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 11 08:42:24 2009 +0000

    Fix two bugs, noticed by Mats Andersson
    
    http://www.opensc-project.org/pipermail/opensc-devel/2009-November/012817.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3819 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dc884574e05fafbd3d181e075386ed4b154e20c
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 18:51:24 2009 +0000

    Intrinsic ID for the cryptographic objects:
    with the new pkcs15 profile option 'pkcs15-id-style'
    the method to calculate the unique object ID for the cryptographic
    objects 'private key', 'public key' and 'certificate x509'
    can be choosen from the followings:
    - actually existing one byte ID: 0x45 + 'number of existing object of given type';
    - 'Mozilla style': SHA1(rsa.modulus) or SHA(dsa.pub);
    - 'rfc2459': 'Subject Key Identifier'.
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3818 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81cc9d605fd88c5d4d815c54baff0c4bc8a25e17
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 16:25:58 2009 +0000

    free card applications when erasing card
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3817 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3603a22917c2d8d9220325cac7edf31d0619d864
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 15:07:40 2009 +0000

    fix: probable endless loop
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3816 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c9e21e9cc5d5a37ff2b8b07d36606c43f65571c
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 14:42:29 2009 +0000

    add support for GOSTR3410 keys
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3815 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16d9d8ff43f147b602a94e14344a7ed753eab748
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 12:55:55 2009 +0000

    pkcs15-tool.c:71: warning: comma at end of enumerator list
    pkcs15-tool.c: In function 'print_pin_info':
    pkcs15-tool.c:911: warning: comparison of unsigned expression >= 0 is always true
    pkcs15-tool.c: In function 'test_update':
    pkcs15-tool.c:1254: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3814 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed93bfa548e6392dde12362d09e1a18f5c878ccb
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 12:38:09 2009 +0000

    corrected option_help according to options
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3813 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36f26b63576c5a8d550e82ec9c7a594743d23d37
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 10 10:05:51 2009 +0000

    Do not duplicate reader name in private structure.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3812 c6295689-39f2-0310-b995-f0e70906c6a9

commit e06b0543695ae62fd29650dfddd142f3e9abd675
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 9 14:14:00 2009 +0000

    add support for uaToken S
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3811 c6295689-39f2-0310-b995-f0e70906c6a9

commit a0acb90b48c9e8df4fe7e9fbbc6c3c3ce01388ae
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 7 21:04:53 2009 +0000

    Oberthur card driver: useless assignments
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3810 c6295689-39f2-0310-b995-f0e70906c6a9

commit 435862ee1e2d994a4a32b6fb03d250513d2a1bf4
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 7 20:45:16 2009 +0000

    suppress errors when verifying PIN status
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3809 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8681d963ab40b92647042d597fcf6866c7905cff
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 7 19:38:15 2009 +0000

    Oberthur pkcs15init: update Oberthur's 'token info' file
    when initializing token or creating user PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3808 c6295689-39f2-0310-b995-f0e70906c6a9

commit 004f23f10261ad12c20c3ee5e2692c422dfc0a2b
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 7 10:26:20 2009 +0000

    Oberthur card driver: new style for PIN commands;
    allow verifying of the PIN status;
    when verifying SOPIN, try firstly the local one.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3807 c6295689-39f2-0310-b995-f0e70906c6a9

commit 76f3cfd79cde87202845e0310b78e20d94fe2cea
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 6 10:06:40 2009 +0000

    invalid e-mail address
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3806 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51e15b8fb4bcd96f74dbc11dcfe80cafc9c6c9c4
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 6 10:00:31 2009 +0000

    For the Oberthur IdOne AuthentIC card: make possible
    to initialize the card with the PIN unblocking style
    of the Oberthur's native middleware.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3805 c6295689-39f2-0310-b995-f0e70906c6a9

commit 450e1fc5aeab264da8aa671ac90730d28b6ae497
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 5 18:27:56 2009 +0000

    Merge [3794:3803/trunk]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3804 c6295689-39f2-0310-b995-f0e70906c6a9

commit 275c7f930e4a9488a6ca636ec5b74ed695b84efb
Author: viktor.tarasov <viktor.tarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 2 18:25:30 2009 +0000

    remove useless code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3803 c6295689-39f2-0310-b995-f0e70906c6a9

commit 704f59ad5cc4137c5f104998e9375a6948a28619
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 2 10:52:39 2009 +0000

    Enable PCSC by default. Use --disable-pcsc if you do not want it.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2009-November/012755.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3802 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4101b6c4518c4694cc03a78e5bfc5a2dc933b0f5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 2 10:43:06 2009 +0000

    Do not use an absolute path for the default PCSC provider.
    Just use "libpcsclite.so.1" instead so the library can be either in /lib
    (Ubuntu) or /usr/lib (Debian) for example.
    
    See http://www.opensc-project.org/pipermail/opensc-devel/2009-November/012755.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3801 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2885691a1091eb6ba28075d305419f9af9e8b282
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 1 14:11:41 2009 +0000

    fix potential memory leak
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3800 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8c6e28bac3ca6e952f20bea90d287a8f1d22ca2
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 1 13:55:52 2009 +0000

    fix memory leak and read after free
    
    Example code:
    int main()
    {
    	...
    	r = C_Initialize(NULL);
    	assert(r == CKR_OK);
    	r = C_GetSlotList(CK_TRUE, NULL_PTR, &slot_cnt);
    	assert(r == CKR_OK);
    	assert(slot_cnt >= 1);
    	r = C_GetSlotList(TRUE, &slot, &slot_cnt);
    	assert(r == CKR_OK);
    	r = C_OpenSession(slot, CKF_SERIAL_SESSION | CKF_RW_SESSION, 0, 0, &hndl_session);
    	assert(r == CKR_OK);
    	assert(hndl_session != CK_INVALID_HANDLE);
    	r = C_Login(hndl_session, CKU_USER, pin, sizeof(pin));
    	assert(r == CKR_OK);
    	r = C_CreateObject(hndl_session, data_tmpl,
    			sizeof(data_tmpl)/sizeof(data_tmpl[0]), &hndl);
    	assert(r == CKR_OK);
    	r = C_DestroyObject(hndl_session, hndl);
    	assert(r == CKR_OK);
    
    	r = C_GenerateKeyPair(hndl_session, &rsa_genkp_mech, rsa_pbkey_tmpl,
    			sizeof(rsa_pbkey_tmpl)/sizeof(rsa_pbkey_tmpl[0]), rsa_prkey_tmpl,
    			sizeof(rsa_prkey_tmpl)/sizeof(rsa_prkey_tmpl[0]),
    			&hndl_pb, &hndl_pr);
    	assert(r == CKR_OK);
    
    	r = C_Finalize(NULL);
    	assert(r == CKR_OK);
    	return 0;
    }
    
    ==20626== Invalid read of size 4
    ==20626==    at 0x41036B: pkcs15_add_object (framework-pkcs15.c:679)
    ==20626==    by 0x410B27: pkcs15_gen_keypair (framework-pkcs15.c:1761)
    ==20626==    by 0x40980D: C_GenerateKeyPair (pkcs11-object.c:869)
    ==20626==    by 0x4078CD: main (pkcs11_1.c:71)
    ==20626==  Address 0x632d3e0 is 0 bytes inside a block of size 584 free'd
    ==20626==    at 0x4C24A28: free (vg_replace_malloc.c:325)
    ==20626==    by 0x4E5452B: sc_pkcs15init_delete_object (pkcs15-lib.c:2903)
    ==20626==    by 0x41243B: pkcs15_dobj_destroy (framework-pkcs15.c:2721)
    ==20626==    by 0x40AD91: C_DestroyObject (pkcs11-object.c:96)
    ==20626==    by 0x407871: main (pkcs11_1.c:68)
    ==20626==
    ==20626== 80 bytes in 1 blocks are definitely lost in loss record 76 of 148
    ==20626==    at 0x4C24137: calloc (vg_replace_malloc.c:418)
    ==20626==    by 0x40E383: __pkcs15_create_object (framework-pkcs15.c:250)
    ==20626==    by 0x40E45C: __pkcs15_create_data_object (framework-pkcs15.c:439)
    ==20626==    by 0x41164C: pkcs15_create_data (framework-pkcs15.c:1441)
    ==20626==    by 0x411760: pkcs15_create_object (framework-pkcs15.c:1490)
    ==20626==    by 0x409A35: C_CreateObject (pkcs11-object.c:53)
    ==20626==    by 0x40783A: main (pkcs11_1.c:65)
    ==20626==
    ==20626== LEAK SUMMARY:
    ==20626==    definitely lost: 80 bytes in 1 blocks
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3799 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a5db68158568cd8a832b60e04b17d8cba6ebe0b
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 1 13:50:45 2009 +0000

    fix memory leak
    
    Example code:
    int main() {
    	...
    	C_Initialize(NULL);
            C_Finalize(NULL);
    	return 0;
    }
    
    ==3312== 176 bytes in 1 blocks are definitely lost in loss record 109 of 146
    ==3312==    at 0x4C24137: calloc (vg_replace_malloc.c:418)
    ==3312==    by 0x4117B8: pkcs15_init_slot (framework-pkcs15.c:716)
    ==3312==    by 0x41307F: pkcs15_create_slot (framework-pkcs15.c:761)
    ==3312==    by 0x413263: pkcs15_create_tokens (framework-pkcs15.c:849)
    ==3312==    by 0x40BB9B: card_detect (slot.c:149)
    ==3312==    by 0x40BCF9: __card_detect_all (slot.c:167)
    ==3312==    by 0x4083F7: C_Initialize (pkcs11-global.c:229)
    ==3312==    by 0x4076BD: main (pkcs11_1.c:27)
    ==3312==
    ==3312== 528 bytes in 1 blocks are definitely lost in loss record 139 of 146
    ==3312==    at 0x4C24137: calloc (vg_replace_malloc.c:418)
    ==3312==    by 0x41365B: pkcs15_bind (framework-pkcs15.c:167)
    ==3312==    by 0x40BB43: card_detect (slot.c:139)
    ==3312==    by 0x40BCF9: __card_detect_all (slot.c:167)
    ==3312==    by 0x4083F7: C_Initialize (pkcs11-global.c:229)
    ==3312==    by 0x4076BD: main (pkcs11_1.c:27)
    ==3312==
    ==3312== LEAK SUMMARY:
    ==3312==    definitely lost: 704 bytes in 2 blocks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3798 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83b7a9788d08c9cede780def45617ebcedf7359a
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 1 13:45:56 2009 +0000

    trunk is now post release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3797 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30ab50600b003461eff0c90dbb342bc86d82dcce
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 25 20:22:11 2009 +0000

    Merged [3783:3794/trunk]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3795 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8d8262d6da9737daceee4c1687faa97d5e027b7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 24 06:38:06 2009 +0000

    we created a -rc2 for openssl 1.0.0 support too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3794 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ecd64ed9305f91f54982abbf7f5eec989575f19
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 23 18:16:59 2009 +0000

    fix: compile with openssl-1.0 beta3
    http://www.opensc-project.org/pipermail/opensc-devel/2009-October/012702.html
    Thanks to Kalev Lember
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3791 c6295689-39f2-0310-b995-f0e70906c6a9

commit 425c0ccb69df112a7ca34da50401ff867c34367c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 23 13:09:48 2009 +0000

    Prepare release candidate.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3789 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12213dee5c6f3a63dd44300281e036d3886e685b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 23 13:08:32 2009 +0000

    Improved myeid driver (by Aventra)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3788 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6cd345d3163c5f88b79ade51766666f6b5f5ff51
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 23 12:12:40 2009 +0000

    Default PCSC provider is libpcsclite.so.1 instead of libpcsclite.so
    
    See Debian bug #511344
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3787 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5926c08c9198c3282b7828af0f3c2ceb8a0be1dc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 22 18:28:25 2009 +0000

    Cleanup westcos driver to remove warnings - by François Leblanc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3786 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56fb57603b58117e2acc94b51328941e1eb635e5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 22 09:18:16 2009 +0000

    Merge [3758:3783/trunk]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3785 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95a5ab065401968c7f300ee4bd8d391d96279013
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 22 08:59:59 2009 +0000

    Re-implement PIN cache on PKCS#15 layer; remove it from PKCS#11. Re-name and log PKCS#15 options to better reflect the purpose.
    
    Data objects and PKCS#15 init are left broken currently.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3784 c6295689-39f2-0310-b995-f0e70906c6a9

commit 268755c4d6076a9c763b931ba01beb9dc7608dfb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 21 09:23:26 2009 +0000

    latest changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3783 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8746d0232909a75dea438d3d11c0c1090b59c898
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 21 09:08:22 2009 +0000

    rewrite code to support openssl 0.9.7 so rsa variable is properly set.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3782 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2848c7094eb1355995f205436cb348d858b3d59
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 21 07:27:19 2009 +0000

    Make opensc / westcos driver compile with openssl 0.9.7:
    It tests the version of openssl and uses the old RSA_gererate_key
    if older the 0.9.8. By Douglas E. Engert.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3781 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59c9a8eae0a35813846d563565d6f00dcb5bd2ab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 21 07:24:58 2009 +0000

    remove the variable not initialized error for "tag",
    and to fix another error when loading a 3des key when
    the string passed to sc_hex_to_bin is not terminated.
    By Douglas E. Engert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3780 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2df781e8db0329d6472c32a537a0f5e3b1dbc88
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 21 07:22:56 2009 +0000

    Fix warnings in muscle code - by  João Poupino.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3779 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2446c4645988b5a0e79d73c3b7aab45952a592ab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 20 12:27:26 2009 +0000

    next release could be 0.11.11, trunk is "-svn" preview.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3778 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03bc2565944972ee23376cd5884eabe57a9b24a1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 20 12:25:16 2009 +0000

    Create new release 0.11.10
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3776 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7fa19788e227e71f7888b401beaba620bf7aaaab
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 13 14:20:03 2009 +0000

    fix misprint
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3775 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4196e9f15633ecc6ca3a5b4979b222c5d8b06d2a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 13 08:29:29 2009 +0000

    PC/SC: Log enabled options.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3774 c6295689-39f2-0310-b995-f0e70906c6a9

commit 615b1814713d9de8f1f92bb88f63cee422c30584
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 12 09:26:05 2009 +0000

    Revert [3752]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3773 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02ea9d738893f2722f6dd13a148eb1a26130faa3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 9 13:03:23 2009 +0000

    Fix windows/nmake build
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3772 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82ab3bfc22c64a860ce96cf4eb6159b5f47ccf10
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 9 05:46:20 2009 +0000

    rollback: "fix pkcs11 access with multiple PINs"
    http://www.opensc-project.org/pipermail/opensc-devel/2009-October/012607.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3771 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7845debb0a2f697da14ff4d538cb0636d2b0123
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 13:46:41 2009 +0000

    framework-pkcs15.c:683: warning: comparison of distinct pointer types lacks a cast
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3770 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9c52b85a4abca07b1ae8b95c74862697f6d03f9
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 13:32:27 2009 +0000

    fix OpenSC PKCS#11 object grouping
    
    Thanks to Pierre Ossman
    
    http://www.opensc-project.org/pipermail/opensc-devel/2009-October/012553.html
    http://www.opensc-project.org/pipermail/opensc-devel/2009-October/012580.html
    http://www.opensc-project.org/pipermail/opensc-devel/2009-October/012582.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3769 c6295689-39f2-0310-b995-f0e70906c6a9

commit c36bd197e3cbe48d6df1f0f9b0babc538fc4f114
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 11:17:41 2009 +0000

    fix: key id for automatic selection of the predefined directory (for rutoken-tool)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3768 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd045ff6384b08e0fa99988569559dbc42584c3c
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 10:59:00 2009 +0000

    remove dead code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3767 c6295689-39f2-0310-b995-f0e70906c6a9

commit 616c7fea7597e9d1c193414c41916e68fd52a966
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 08:22:47 2009 +0000

    correct options "small" and "default" in rutoken.profile
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3766 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff9951d94d29bc644a6abf9cc79b4b5879ecc1bb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 07:36:51 2009 +0000

    kill lots of warnings (unused variables, unsigned/signed comparison etc.)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3765 c6295689-39f2-0310-b995-f0e70906c6a9

commit 80f16d4f4e2b4fb05a542e9f8755e09514a24aab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 07:25:35 2009 +0000

    remove gemsafeV2 code - not working properly, not maintained.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3764 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17195678405082762be23d3963378bbd16b59838
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 06:40:18 2009 +0000

    Add more NEWS entries.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3763 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7de6380e8bf1ad66066da30d37d3eda9f6429cc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 06:36:21 2009 +0000

    westcos: use generic select_file function (Aleksey Samsonov).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3762 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46b55bb870ebc84783f5e9c61cc6dbc6bbf1e8d6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 06:34:05 2009 +0000

    Allow building westcos without openssl. (François Leblanc)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3761 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8402c6248ab7775ca2278d4e9dc017c14fd292d7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 6 06:32:26 2009 +0000

    New GemsafeV2 Emulation code by Georges Bart
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3760 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea370692724dabe3c2b13b35e3623376c12e668c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 5 20:10:07 2009 +0000

    Merged r3749:3758 from trunk
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3759 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91815f380a2620203122bacda1f0662a19220f3f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 5 19:59:05 2009 +0000

    PC/SC: better separation between OpenSC and PC/SC types.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3758 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97a8f73b9ce2d0d9c7b23dcc42534e54aeaa14c8
Author: s <s@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 5 18:40:51 2009 +0000

    add GOST R 34.10-2001 algorithm (only PKCS#11) by Aktiv Co.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3757 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64916e01b5b6878a397190a231c2b3c06fb05047
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 17:04:32 2009 +0000

    Accidental sc_error removed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3756 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c7eb8122afb1653d4b1bfe27a5c5b1bf9ced211
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 14:41:14 2009 +0000

    Add support for Portugese eID on IAS and Gemsafe cards, by João Poupino.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3755 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8dc97e0dc19ff538edfda89d2184c393bdc0318
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 10:13:45 2009 +0000

    Cardos security env patch for Italian CNI card.
    By Emanuele Pucciarelli, http://itacns.corp.it/hg/itacns/file/adc0b2ceec86/patches/115-cardos-secenv.patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3754 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99e84ae82a4f32518cf5f91d81f8a512654c9a35
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 10:07:55 2009 +0000

    Fix spelling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3753 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab2ed07b78f09af05b06ab566355e4482a5bace3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 10:06:53 2009 +0000

    Fix APDU sanity check.
    By Emanuele Pucciarelli,  http://itacns.corp.it/hg/itacns/file/adc0b2ceec86/patches/010-apdu.patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3752 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64f95782020f6305810a4550fc33762377dfab16
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 09:31:07 2009 +0000

    apdu.sensitive is not in use since [2868]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3751 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9da39d84629fe22492989b640fc9f7fcc30bb4fc
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 3 07:48:28 2009 +0000

    Merged r3719:3749 from trunk
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3750 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45e12e6ff52ba2275c5421416debf8b8bdbff9c9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 2 10:56:58 2009 +0000

    Move the declaration of sbuff[] to avoid a compiler warning
    
    card-entersafe.c: In function ‘entersafe_write_rsa_key_factor’:
    card-entersafe.c:1131: warning: declaration of ‘sbuff’ shadows a previous local
    card-entersafe.c:1126: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3749 c6295689-39f2-0310-b995-f0e70906c6a9

commit bceeb38977ccd12988874f22a9d26dea2cbca363
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 2 10:54:38 2009 +0000

    comment out 2 unused static functions
    
    card-entersafe.c:1591: warning: ‘entersafe_card_ctl_1024’ defined but not used
    card-entersafe.c:1378: warning: ‘entersafe_preinstall_rsa_1024’ defined but not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3748 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e1b4dbadee99ab784962b1895d89856817c720c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 2 10:52:32 2009 +0000

    remove unused variables
    
    card-entersafe.c: In function ‘entersafe_cipher_apdu’:
    card-entersafe.c:172: warning: unused variable ‘r’
    card-entersafe.c:172: warning: unused variable ‘i’
    
    card-entersafe.c: In function ‘entersafe_process_fci’:
    card-entersafe.c:434: warning: unused variable ‘len’
    card-entersafe.c:434: warning: unused variable ‘taglen’
    card-entersafe.c:433: warning: unused variable ‘p’
    card-entersafe.c:433: warning: unused variable ‘tag’
    
    card-entersafe.c: In function ‘entersafe_create_file’:
    card-entersafe.c:775: warning: unused variable ‘r’
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3747 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2d59cf3eb880534198f010143dcc4498499c938
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 2 10:49:28 2009 +0000

    card-entersafe.c:226: warning: ‘tmp_rounded’ may be used uninitialized in this function
    card-entersafe.c:226: note: ‘tmp_rounded’ was declared here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3746 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10547c9c8d18dc5874c7db5147063b4096def027
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 2 10:48:20 2009 +0000

    card-entersafe.c:496: warning: ‘r’ may be used uninitialized in this function
    card-entersafe.c:496: note: ‘r’ was declared here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3745 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a95a40e813b4e7fcff970762d1d2485766c0c63
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 25 19:29:38 2009 +0000

    Implement pinpad support as used by Portugal eID, by João Poupino
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3744 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8874c50e86c64a15dba129fde5a893fbad6797bd
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 21 11:59:17 2009 +0000

    remove spaces at end of line
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3743 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6fd22203113a3d82728588e9ebc4b9e67cc25a20
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 20 10:57:11 2009 +0000

    Bump the version number
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3742 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4439f4d3a2f00e95f7e3dd6f5ce0fae722ff7031
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 18 11:54:52 2009 +0000

    fix pkcs11 access with multiple PINs
    
    Thanks to Roman Himmes for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-September/012426.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3741 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2763c08d09b785aa636ea7bd3663c2520343e17a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 17 07:50:28 2009 +0000

    Add myeid driver by Aventra.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3740 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a6c41be277e2fb7dcb1e6723720918a96c95b00
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 16 11:29:54 2009 +0000

    Fix "serial->len is used uninitialized", By Aleksey Samsonov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3739 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75cee4ff8e481072753327e1f2a2fcbfa06e4e58
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 15 12:33:35 2009 +0000

    PC/SC: Fix display detection and clean up
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3738 c6295689-39f2-0310-b995-f0e70906c6a9

commit e350239b37ee4cb355d838c873309b96fac46d3c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 15 12:29:17 2009 +0000

    Fix debug file closing.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3737 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46a4b5b70ec560817d93f8afb202e67010556915
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 15 07:59:20 2009 +0000

    EstEID: Fix compiler warnings, add support for PIN retries related PKCS#11 token flags, add a version number for debugging.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3736 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6f9345ea1f443a5571ede4a781c713218deecde
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 15 07:51:50 2009 +0000

    Improve EMV and default driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3735 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f4092f12d5c335a44cec30ffde78c83bd558c76
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 15 07:50:46 2009 +0000

    Fix "log.h:64:4: warning: backslash and newline separated by space"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3734 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6155ae366ace67f4f98cad8aea3add7be72b7491
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 12:04:24 2009 +0000

    Add back needed debug level check. Thanks to Aleksey Samsonov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3733 c6295689-39f2-0310-b995-f0e70906c6a9

commit 831d1a539e288472eafea3318f9390312f557245
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 10:12:24 2009 +0000

    PKCS#11: Fix a crash in C_GetMechanismList if pulCount is NULL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3732 c6295689-39f2-0310-b995-f0e70906c6a9

commit a614dff522e24196b72ac2c8839450bc21ab7148
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 10:05:40 2009 +0000

    PKCS#11: Implement more token flags that describe available PIN retries.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3731 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6d4da7919cc5a5e16b536238d13fbe14c44f171
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 09:48:56 2009 +0000

    PC/SC: Improve core and pinpad code
     * Make opensc-tool -l display pinpad capabilities, if available
     * Detect reader capabilities when a reader is found, not when a connection to a card is opened
     * Fix unpadded PIN block parameters to not be rejected by the latest free CCID driver
     * When locking the card and it has been reset by some other application (or re-attached), clear cache and lock again
     * Enable pinpad detection by default
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3730 c6295689-39f2-0310-b995-f0e70906c6a9

commit a64cdc1d8e8bfbda24c600fb0c31bc67d4513db3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 09:35:15 2009 +0000

    sc_error removal missing bits
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3729 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7df1c600f19400cc8e080feb1fa9ac020c7e4179
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 09:15:58 2009 +0000

    Remove empty files: emv.c, emv.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3728 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1aed8cdec41ab1e242c345946b03a29480d860fe
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 09:08:16 2009 +0000

    PKCS#15-emu: remove dead code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3727 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd5aff8ea01fc37819c10a6bc543348d47a48c95
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 09:03:33 2009 +0000

    PC/SC: More return codes are handled.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3726 c6295689-39f2-0310-b995-f0e70906c6a9

commit 446fe0f18d2178f1908e6d48a86b837319cc25e1
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 08:59:58 2009 +0000

    PKCS#11: Spec does not allow CKR_DEVICE_ERROR from C_Initialize
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3725 c6295689-39f2-0310-b995-f0e70906c6a9

commit 847e0ade96daf32e1fc118f8490e28b9eec5c6d8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 08:56:39 2009 +0000

    PKCS#11: translate SC_ERROR_CARD_UNRESPONSIVE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3724 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17593afa600a48aa9605f249c22540c8534a436c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 08:53:38 2009 +0000

    Fix iconv handle leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3723 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6a48771ce1c64859394cf74752e51a9e3b777627
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 08:51:53 2009 +0000

    Implement CKA_ALWAYS_AUTHENTICATE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3722 c6295689-39f2-0310-b995-f0e70906c6a9

commit d672fde4499fef4380cc3d8b88e496986687ec03
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 14 08:46:59 2009 +0000

    Remove sc_error and sc_ctx_suppress_errors_* in favor of sc_debug/fprintf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3721 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3201511c7efc5d30c9105a1c92dac63f4af4808
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 12 11:46:00 2009 +0000

    r3717:3719 from trunk
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3720 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dbc0a714308980a8f35c82160a94609e888f6b2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 12 07:04:48 2009 +0000

    More Westcos cleanups by Aleksey Samsonov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3719 c6295689-39f2-0310-b995-f0e70906c6a9

commit e31d2ff966445f5c0fd8956b48fe16528f22eda6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 11 09:48:51 2009 +0000

    New westcos driver by François Leblanc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3718 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89e18e51dd45f7a46e386e535e58e0e4961f2722
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 6 15:56:08 2009 +0000

    Branch for next major release changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/branches/martin/0.12@3717 c6295689-39f2-0310-b995-f0e70906c6a9

commit 886fa8931f8ea0d182dc7f0b7ce8a525e09c2cf1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 29 07:03:59 2009 +0000

    trunk is now post release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3716 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4951622598919c33c6db5223eb45d6e179e95e1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 29 07:02:37 2009 +0000

    Prepare for new release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3714 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f185e30799ea0efbaff71364fe4484d1310b609
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 23 08:56:41 2009 +0000

    Weitao Sun: no one can create more than 15 files
    under 5015 df. I increase it from 15 to 48, and all are OK.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3713 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61b8f0a35d3f1ed2c821a6bed240f0c833b3dc7f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 23 08:30:43 2009 +0000

    Latest version from scute svn with this change:
    Stef Walter: Make all constants UL that should be.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3712 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c2fe83c3bf0ad9f759be51f14b85367a1dbb00d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 22 12:24:33 2009 +0000

    Aktiv Co./Aleksey Samsonov:
    fix a bug in rutoken driver.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3711 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16f045bf0c86114abad712e5c7226da7f8612cef
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 22 10:09:21 2009 +0000

    Douglas E. Engert: major update for the PIV smartcard.
    
    The major issue is with getting the length of an object or the cert
    contained in an object. The PIV card does not have a directory on the card,
    So the previous version tried to put off as long as possible the reading
    of objects for performance so as to avoid having to read objects that would
    not be used. The first standard, NIST 800-73, set maximum sizes for objects.
    800-73-2 removed this for certificates.
    
    A certificate object can contain a certificate which might be compressed.
    The only way to get the length of the compressed certificate is to decompress
    it. Thus the decompressed certificate could be larger then the container object,
    so even if the PIV card had a directory, one would still need to decompress
    the certificate to find its length.
    
    OpenSC sc_read_binary will use the length obtained by using
    sc_select_file(...,&file_out), and thus the lengths must be determined
    in sc_select_file.
    
    Change are to card-piv.c and pkcs15-piv.c and include:
      * The old cache code which was not working was removed.
      * New cache code was added which caches all object read from the card
      * If an object has a cert, the cert is decompressed and also cached.
      * As part of reading an object the first 8 bytes are read
        and this is then used to allocate a large buffer to read in the
        object.
      * If pkcs15 or pkcs11 asks about a certificate, the cert object
        will be read, and the cert decompressed, to get the actual length.
      * If piv_select_file is called with the file_out != NULL the object
        will be read to get the length If called with NULL it will not be read.
      * The enumeration of the objects now starts with 0.
      * sc_ctx_suppress_errors_on and off are used to avoid file not found
        messages which are are a by product of not having a directory.
      * "Unsigned Card Holder Unique Identifier" object in card-piv and pkcs15-piv.c
         had conflicting paths, as NIST 800-72-1 had two tables with different
         paths. The enumtag for it in card-piv.c was also wrong.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3710 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9cd831b4f7c416da0b4f590ecb58f6805cd2817
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 22 10:06:32 2009 +0000

    Douglas E. Engert: The pkcs15-gemsafeV1.c does not detect of the
    card present is in fact a gemsafeV1 card, and thus it can end up
    issuing commands to the wrong cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3709 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8529b7ba3e07ec848a04d51d9783e48d8411c0c9
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 2 13:59:38 2009 +0000

    Add support for JCOP31 v2.4.1 with the modified muscle applet[1].
    This add support for 2048bit key and extended APDU.
    
    [1] http://www.opensc-project.org/pipermail/opensc-user/2009-June/003147.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3708 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8b1f540bd9e25fe812e62049b11666a40f24835
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 10:08:17 2009 +0000

    Kalev Lember: fix onepin-opensc-pkcs11.dll manifest embedding
    with Microsoft compilers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3707 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3b0d6ae84e12cc7b56b0838443154e1a432abd6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:26:55 2009 +0000

    Aktiv Co. / Aleksey Samsonov:
    use generic code instead of identical funciton
    (now that the generic code was fixed).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3706 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2032f5e83837488c374a5e0c207420fc263ac87
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:25:47 2009 +0000

    Aktiv Co. / Aleksey Samsonov:
    use generic set_security_env code, remove duplicate code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3705 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3cf4707b1a81432bf9eb38c913458c2bdac21a8c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:23:16 2009 +0000

    Aktiv Co. / Aleksey Samsonov:
    Remove dead code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3704 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a0b63e0ad9d571680ee735d8434ffa3a4edfcd7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:22:24 2009 +0000

    Aktiv Co. / Aleksey Samsonov:
    Add assert() calls to check constant buffer size.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3703 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25ab286fed958dd478832fec4e541ff82693e559
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:20:37 2009 +0000

    Aktiv Co. / Aleksey Samsonov:
    Check buffer length (*outlen)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3702 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d282a9e0eeed19f0da4890904fe8556fc8fd3a4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:19:38 2009 +0000

    Aktiv Co. / Aleksey Samsonov:
    Fix for the case when "apdu.resplen < 2" and checked buffer length.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3701 c6295689-39f2-0310-b995-f0e70906c6a9

commit 265eb5923bcce500b45029ae04f84cf69d47f0e4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:17:19 2009 +0000

    Aktiv Co. / Aleksey Samsonov: fix case depending on length.
    also no need to null resplen or le (done by sc_format_apdu).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3700 c6295689-39f2-0310-b995-f0e70906c6a9

commit be526c840feb9626b3dcc42481118221986cfa3d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 28 07:11:16 2009 +0000

    Move emv driver to the end.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3699 c6295689-39f2-0310-b995-f0e70906c6a9

commit c44b7cbbeb65b387bf9d73184485d818b9b29066
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 25 08:45:05 2009 +0000

    iso7816_set_security_env(): correctly set P1 parameter in case of
    SC_SEC_OPERATION_DECIPHER
    
    Thanks to Aleksey Samsonov for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-June/012263.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3698 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3e9ce36a4b817a0a53ec0a11b9f440182a04d27
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 24 15:29:59 2009 +0000

    add a NEWS entry too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3697 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7931ded481170704ca047ae5442e5a6b2a299926
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 24 15:26:37 2009 +0000

    Add new rutoken_ecp driver by Aktiv Co. / Aleksey Samsonov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3696 c6295689-39f2-0310-b995-f0e70906c6a9

commit 490d1b84aa30b75a574bc738ae5c68aff6674d5d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 16 09:17:53 2009 +0000

    print_file(): inverse "write" and "erase"
    
    Thanks to Aleksey Samsonov for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-June/012212.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3695 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b4a1f673bfc81290e93233c971ed453ca2173f6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 12 14:35:49 2009 +0000

    cardos_sm4h(): fix memory leaks. Thanks to cppckeck(1)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3694 c6295689-39f2-0310-b995-f0e70906c6a9

commit dab3723c95fef974d69d471edce150a0c390eaf4
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 12 14:29:30 2009 +0000

    sc_pkcs15emu_add_object(): fix a memory leak. thanks to cppcheck(1)
    
    [pkcs15-gemsafeV1.c:419]: (error) Memory leak: obj
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3693 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb900ff9b851c7c1f5b628072b67ebcfa78fcb6b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 12 14:27:39 2009 +0000

    do not cast calloc() return value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3692 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0db85da76a1305c711e5b783e3bae481d8b78df8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 7 13:09:03 2009 +0000

    prep next release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3689 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3fa5747e33690bc3f488b14f26ed6ce8fd23e105
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 7 10:57:07 2009 +0000

    Fix security issue.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3688 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd9a40ad0ef23e50c37e713c36ad77d78e81f1a0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 6 16:25:50 2009 +0000

    avoid a compilation failure with --disable-openssl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3687 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0e03ec4f6f97a3408980b55dcf7bffd49b30496
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 23 18:02:38 2009 +0000

    Fix --disable-man install from svn checkout, by Ludovic Rousseau
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3686 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33a13139c5d7a54b05cdec4f50390c76da46fb9a
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 23 18:00:42 2009 +0000

    Fix --disable-man install from svn checkout, by Ludovic Rousseau
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3685 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23e247cafe56e695a12670ba5a87a193447afb4b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 21 16:43:00 2009 +0000

    Fix GNU libiconv detection
    
    By Kalev Lember
    
    The attached patch fixes GNU libiconv detection by adding an additional
    libiconv symbol check to autoconf -liconv link test. Right now some
    iconv implementations have only iconv* symbols (GNU libc), some have
    only libiconv* (GNU libiconv), and some have both defined (Mac OS X's
    iconv), so it's necessary to check for both variants.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3684 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09a442adb434de0a122fd1e89e43a1786fc85437
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 17 07:19:03 2009 +0000

    Fix SCardDisconnect reset parameter.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3683 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07fce14a6b756142392b5b1ab730cf5f473c1548
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 15 07:52:04 2009 +0000

    Move sc_check_sw to opensc.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3682 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86b4d65c4c52894e45eb03e6f33958cc8e611167
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 15 06:18:49 2009 +0000

    Export sc_check_sw, required by external drivers and utilities.
    Thanks to Marc Rios Vallès.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3681 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2f8effbf5f4ec422aeed1f64bb395cb3e52a43f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 14 15:21:53 2009 +0000

    Update news file too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3680 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60415958954bedd81cd29090f3c401eafd77a1db
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 8 10:31:18 2009 +0000

     * Correctly set offsets for PINs for PIN modification operations with pinpads. Thanks to Robert Konklewski.
     * Only set messages if the reader has display capabilities.
     * Detect rejected pinpad commands
     * Whitespace fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3679 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16baddcc740892f6ddd56974d5c0ccef74a686b8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 8 09:40:21 2009 +0000

    Engine API is not used.
    
    Thanks to Robert Konklewski for noticing this.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3678 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfc69348f700e8467ceec0a5030bbae2a8666d37
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 3 19:54:42 2009 +0000

    Actually print SCardControl result, thanks to martin
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3677 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef4b1e1410837726452ded9590c6c5fce234a9fe
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 3 19:17:15 2009 +0000

    reader-pcsc - minor cleanups in reader features
    
    1. Indent fix.
    2. Reorder conditions.
    3. Do not print error if SCardControl fails.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3676 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f050d9cec8cdf48f2320cc2651bf7ef3b62aec1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 2 10:33:16 2009 +0000

    Document latest change.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3675 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46702385562bb0a8f710c4f80b17f40b39ce5ade
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 2 10:32:02 2009 +0000

    Entersafe changes by Weitao Sun:
    1.Card type FTCOS/PK-01C added. (new)
    2.Limit pin length in range [4,16). (bug fix)
    3.Can not unblock PIN. (bug fix)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3674 c6295689-39f2-0310-b995-f0e70906c6a9

commit 117d790aeaec42d07746b20735fa5b6c88459b47
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 25 14:31:21 2009 +0000

    Do not use msc_crypt_process (OP_PROCESS). This operation is used to do
    multipart encryption when, for example, the data is too big to fit in
    one APDU. It basically calls the Cipher.update() method until all data
    has been processed. However, the Java Card API documentation advises
    against using update():
    
    "This method requires temporary storage of intermediate results. In
    addition, if the input data length is not block aligned (multiple of
    block size) then additional internal storage may be allocated at this
    time to store a partial input data block. This may result in additional
    resource consumption and/or slow performance.  This method should only
    be used if all the input data required for the cipher is not available
    in one byte array. If all the input data required for the cipher is
    located in a single byte array, use of the doFinal() method to process
    all of the input data is recommended."
    
    As the card's JVM was returning an internal exception when using
    OP_PROCESS, it was decided to implement an msc_crypt_final_object()
    function in OpenSC that uses the msc_object_*() functions to read/write
    all the data from the card. This way, it is possible to transmit/receive
    "arbitrarily" large data chunks to/from the card and use doFinal(). This
    is the fallback method when, for example, using 2048 bit keys and the
    card doesn't support extended APDUs.
    
    Thanks to Joao Poupino for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011978.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3673 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f0476ab2aef23f61b84f5d7e8e59add643801ec
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 25 14:22:34 2009 +0000

    pcsc_internal_transmit(): do not limit the size of the reception buffer
    to 258. This check is no more needed now that pcsc-lite can handle
    extended APDU.
    
    Thanks to Joao Poupino for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011978.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3672 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04a5c99f77a1ac17396e592e85f740c05b434142
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 25 13:55:25 2009 +0000

    Detect the eToken 72K and activate RSA 2048 and extended APDU for it.
    
    Thanks to Joao Poupino for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011978.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3671 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0f35451575ad57c1cde1a180c6f6c2bc15a560a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 25 13:50:41 2009 +0000

    Change MSC_MAX_APDU to make some buffers larger to support extended
    APDUs. The change was only from 256 to 512 bytes since it is more than
    enough for 2048 bit keys;
    
    Thanks to Joao Poupino for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011978.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3670 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b07db6b59ab5c5ec208da8f29a38fe430a06547
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 25 13:47:46 2009 +0000

    msc_get_challenge(): return SC_SUCCESS instead of dataLength in case of
    success
    
    Thanks to Joao Poupino for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011978.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3669 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89b2ac778fc95022bf70b52ca0e5c83f4d7fbfcb
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 25 13:42:13 2009 +0000

    msc_get_challenge(): use 0x62 instead of 0x72 for GET CHALLENGE as it is
    the value used by the Muscle applet (INS_GET_CHALLENGE)
    
    Thanks to João Poupino for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011978.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3668 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9862d431e8fafd96392d5fe9fce6908286e3121b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 21 11:17:14 2009 +0000

    Fix typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3667 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9668f0aa33143306c3b57c482e030c660a18f2d6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 21 11:09:12 2009 +0000

    Add support for LCD detection on pinpad devices.
     * Update IOCTL definitions to PC/SC part 10 v2.02.05
     * Return SC_SUCCESS instead of 0 if returning SC_ codes.
     * Detect the presence of a display with FEATURE_IFD_PIN_PROPERTIES
    
    Tested with patched CCID driver on OS X, with SPR532 (no display) and OK3821 (with display)
    
    Known CCID reader with a display:
    
    ATMEL_AT91SO.txt:  wLcdLayout: 0x0210
    CardMan3821.txt:  wLcdLayout: 0x0210
    Kobil_EMV_CAP.txt:  wLcdLayout: 0x0210
    Xiring_XI-SIGN.txt:  wLcdLayout: 0x020C
    Xiring_XI-SIGN_6000.txt:  wLcdLayout: 0x020C
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3666 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b0faecbb1e1e70ad6b18b01ce4f6b0911a76c63
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 19 17:54:45 2009 +0000

     * Display the default CCID message for PIN verification if the reader has a display
     * Part 10 -> PC/SC v2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3665 c6295689-39f2-0310-b995-f0e70906c6a9

commit 464a4f6d7411bc8c9ae3553b32ac04007e24e5f6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 18 10:18:18 2009 +0000

    Fix Global Platform PINs with CCID pinpads.
    
    Thanks to François Leblanc for the report:
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011947.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3664 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ef196c2cdc1083667fef95f21983ed63e50ebd1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 12 08:33:37 2009 +0000

    store the generated public key on the token.
    
    Thanks to Rickard Bondesson for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-February/011884.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3663 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd6adb4e269db0549b0f442660c27693918758d8
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 7 21:55:40 2009 +0000

    Fix Windows PINPAD mingw issue
    
    Thanks to François Leblanc
    
    http://www.opensc-project.org/pipermail/opensc-devel/2009-March/011932.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3662 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50f9ef865bffdf83c7f81eed0d1fe807af9fae6c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 6 09:30:54 2009 +0000

    check if len or p is 0/NULL and return.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3661 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54a35a2f4fec5ce16cfab5717e071c2d340b8da4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 6 09:26:41 2009 +0000

    fix typo.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3660 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3347ededf614e39ae63713eb5da180af8d62d9ba
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 5 18:37:55 2009 +0000

    Improve this function even more.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3659 c6295689-39f2-0310-b995-f0e70906c6a9

commit aadf09d1de53d785bfbf3ad936893d54f5f1bb6a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 5 15:28:17 2009 +0000

    resolve an "undefined code" situation.
    the old code was undefined, but ok (variables where never used
    again in the "goto error" case). but the new code should
    be clearer on this.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3658 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dd1407703d51ca3fa65fb6ab91d58a22003ef3f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 5 15:15:24 2009 +0000

    change base id so it does not overlap with the next one.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3657 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33d5e392eeed3530e667ac7fb995fe97f0c2bcb3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 26 08:58:06 2009 +0000

    created final release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3656 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2752c331080a4a4b9bb456fba2b1f5bde6b3420d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 25 09:13:35 2009 +0000

    removed unused variable
    
    misc.c:317: warning: unused variable 'i'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3654 c6295689-39f2-0310-b995-f0e70906c6a9

commit 042d47aaebd31319ada4be142688c3951b0169fc
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 25 09:10:38 2009 +0000

    iattr_extract(): use sizeof(CK_CERTIFICATE_TYPE) for a
    CKA_CERTIFICATE_TYPE
    
    thanks to Wan-Teh Chang for the better patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-February/011892.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3653 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4987d22c9aff09dc372aa7dbd0572adcae6ab3a7
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 24 17:15:57 2009 +0000

    attr_extract(): use sizeof(CK_ULONG) instead of sizeof(CKA_CERTIFICATE_TYPE)
    
    Thanks to Marc Rios Valles for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2009-February/011890.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3652 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc3f8f65098bdeadc20c62f1fa32b8a3cd8e8f13
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 3 20:11:30 2009 +0000

    Default PCSC CFLAGS from pkg-config
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3650 c6295689-39f2-0310-b995-f0e70906c6a9

commit abe9112f2b103c92897c79ca973eae15a09b5759
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 1 08:26:30 2009 +0000

    update NEWS file from 0.11.7 branch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3649 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe195e9b33b09867e28933d542c480208fc1da7b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 1 08:19:49 2009 +0000

    trunk code is now working towards 0.11.8
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3647 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bf7e9c41874b892e9dcb2450d4a0fe30a719721
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 30 11:59:12 2009 +0000

    typo fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3645 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24d69c655d885b59cc5a5c74c22786d0d119f241
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 29 11:50:21 2009 +0000

    hide_empty_tokens should not affect emulated cards (always on)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3644 c6295689-39f2-0310-b995-f0e70906c6a9

commit 830ba34b67b8ff76d3f22a83c7edf8b03772b220
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 29 11:47:45 2009 +0000

    Fix native windows build, add iconv support
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3643 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93998e95612b7d99eee9eff27466029f82e2851b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 28 12:43:30 2009 +0000

    Optionally load SCardControl132 on apple
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3642 c6295689-39f2-0310-b995-f0e70906c6a9

commit aadf4ad0377c28f75c10d757a26746f0082d13f5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 28 12:28:41 2009 +0000

    Fix pinpads on OS X
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3641 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34a75de5d75f0f740f0dfb177e1434474e07894e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 28 12:10:13 2009 +0000

    Rutoken updates
    
    By Aktiv Co. Aleksey Samsonov
    
    - use PKCS#15 (not builtin PKCS#15 emulator)
    - rutoken.profile (add privdata)
    - correct using ACL
    - correct erase procedure
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3640 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09a849c906c27eb49afdd56da5c12c52c5f8a84e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 23 09:30:42 2009 +0000

    Set default of hide_empty_tokens to true
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3639 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1d49190c1f6d63c71844e276f4d9cf5aa1de446
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 23 09:27:30 2009 +0000

    Typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3638 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17cf43eeb1a4cdd70509c98b546d499a4d46d26c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 23 09:14:15 2009 +0000

    Rename PKCS#11 v2_20_mode option to plug_and_play
    
    As it is the only feature it controls.
    Also, change the default to true.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3637 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98841d1e6154a7171771ffa28513a041fe3450eb
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 23 09:00:11 2009 +0000

    Finally remove eval stuff from autoconf
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3636 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef38618c3431e3774073756758881c36cd876b8c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 22 14:29:25 2009 +0000

    Remove unused OPENSC_ETC_PATH
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3635 c6295689-39f2-0310-b995-f0e70906c6a9

commit a5f32a99dba81222156fc8c31ab12808d1a11c1e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 21 13:19:18 2009 +0000

    Move all private factories into private headers, the iso7816 factory is the only one which is actually exposed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3634 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74f6d41dc6928c898ae69b2940197608f4197043
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 21 13:01:37 2009 +0000

    Add sc_get_iso7816_driver as it is required for external drivers
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3633 c6295689-39f2-0310-b995-f0e70906c6a9

commit 304f227d79b0641919501fd22af105fc6615decf
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 20 08:45:12 2009 +0000

    Add SCARD_E_NO_SERVICE to internal-winscard.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3632 c6295689-39f2-0310-b995-f0e70906c6a9

commit fbd51c705edce808036c9fa388fef60f88147e14
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 20 08:42:47 2009 +0000

    Revert 3630
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3631 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce5c5f3ae93de8ddadfba801cb54cb68e54b93bc
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 19:43:19 2009 +0000

    Add SCARD_E_NO_SERVICE to internal-winscard.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3630 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78ac13a96ac5eab333dcc1b0381975df5f3c3bde
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 13:39:52 2009 +0000

    Add PACKAGE_SUFFIX
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3629 c6295689-39f2-0310-b995-f0e70906c6a9

commit 584e0a1b2fce0eecb6fb20302ba1903a787113e1
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 13:32:29 2009 +0000

    Expose version components into config.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3628 c6295689-39f2-0310-b995-f0e70906c6a9

commit c58bcfab843858dbb347dd2ef9af96da6e64ebbe
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 12:06:38 2009 +0000

    Configurable for PKCS#11 v2.20 related changes.
     - Correctly report Cryptoki version if v2.20 is used.
     - Consistently report no version for hardware/software we know no version information about.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3627 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d5c61d90c9444a516a07f34e251b18046b4b2ea
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 11:57:20 2009 +0000

    Correct PC/SC -> OpenSC error code translation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3626 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a7515cd7ffa59f89d0d185238de029dc68706a5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 18 23:16:53 2009 +0000

    Recognize SCARD_E_NO_SERIVCE:
    {{{
    $ /Library/OpenSC/bin/opensc-tool -a
    [opensc-tool] reader-pcsc.c:881:pcsc_detect_readers: SCardEstablishContext failed: 0x8010001d
    [opensc-tool] reader-pcsc.c:990:pcsc_detect_readers: returning with: Unknown error
    No smart card readers found.
    }}}
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3625 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b41afbb3f35dabdd516649b5debf9d92e9c747b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 21:27:46 2009 +0000

    Set hardcoded default for profile_dir
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3624 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdbd4c1193560cd4f4f0664f3382e9baa2ceebd6
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 20:52:36 2009 +0000

    More iconv build fixes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3623 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96d387b5e9092f960c86c93f2f84e2551c0dc5be
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 20:21:27 2009 +0000

    Fix external iconv override
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3622 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9c6f9f2b2d50a6a392b486a8137036bb13dc8d3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 17:48:26 2009 +0000

    Correct iconv support
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3621 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51824acab7175cbb91de03a566867bc604fc7f6c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 17:13:32 2009 +0000

    Revert r3612, the autoconf warning is correct and be the default in future
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3620 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0876222c5f9e9740a4f656a4044861494d80a194
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 16:44:35 2009 +0000

    Make PKCS#11 module default slot configuration more sensible:
     * Increase default slot count to 16, which equals 4 concurrent readers by default
      * 2 OpenCT + 2 PC/SC on Linux for example
     * Rename num_slots to slots_per_card
     * Rename internal PKCS#11 variables, remove unneeded defines.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3619 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6f753dc00bbc89ce8fa31445aae4a7115b35cdf
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 16 16:12:50 2009 +0000

    Limit virtual OpenCT readers to a sane default of 2 readers/tokens by default.
    
    Most users don't use more than one or two tokens concurrently. This way default configuration (or with no configuration file) works even after you insert a PC/SC reader as OpenCT does not "eat up" all PKCS#11 slots with 5 virtual readers.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3618 c6295689-39f2-0310-b995-f0e70906c6a9

commit 300dfeb08874da78361a5ceded44d498d69fd942
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 23:55:00 2009 +0000

    link with iconv on Mac OS X, to support [3616]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3617 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ffec4205590acf435d05bdc4477ae2e2f16f436
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 23:20:48 2009 +0000

    Linux compatible PKCS#11-friendly changes to EstEID PKCS#15 emulation driver to display the name of the cardholder in token label field.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3616 c6295689-39f2-0310-b995-f0e70906c6a9

commit 315c0edc6e4d7bdcdf881d29c6ed9090dcfc0aa3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 21:40:44 2009 +0000

    PC/SC readers have always only one slot per reader.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3615 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e2a998f10da567a20b194efde3165224de5d459
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 21:23:09 2009 +0000

    Remove some unused/prehistoric defines.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3614 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7e7b94d879ade4545ae4ddbd586f362b0ea75f95
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 21:08:30 2009 +0000

    Fix PKCS#15 emulation handling:
     * Work as expected without a configuration file
      * "Normalize" the configuration file: show the used default and give examples with opposite values.
     * DWIM:
      * If there is no config file: try all builtin drivers
      * If there is a configuration file, allow to turn emulation off
      * If there is a configuration file, allow to filter the list of internal drivers
     * Introduce a PKCS#15 layer card flag for emulated cards
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3613 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f72e22b31fecce574c5a67bb6c604d39a10c916
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 20:05:09 2009 +0000

    Get rid of configure warnings:
    {{{
    configure: WARNING: winscard.h: accepted by the compiler, rejected by the preprocessor!
    configure: WARNING: winscard.h: proceeding with the compiler's result
    }}}
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3612 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86fe58e3261bbefe72db64bf94fe890c2723ab8a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 20:01:52 2009 +0000

    Provide default system PCSC_CFLAGS on Mac OS X
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3611 c6295689-39f2-0310-b995-f0e70906c6a9

commit c64fd881e931898065fdcac4641b673e392bc233
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 15 20:01:09 2009 +0000

    Mac OS X 10.5.6 fixes the ATR padding bug.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3610 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1809d50799fa88994d71ae0bc0d71ad7755567c9
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 1 20:55:50 2009 +0000

    Fix doc build issues
    1. VPATH issue.
    2. Parallel build issue, suggested by Ludovic Rousseau.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3609 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8828faeccfb0e5bafcebf3b98a223bb2ef028308
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 28 21:28:53 2008 +0000

    Allow delete data objects by specifying application-name and label
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3608 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8456a321f8fb132f49fb1e01a500828df07e8237
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 28 18:45:29 2008 +0000

    Add PKCS#11 specification limitation note
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3607 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c364fdd5411a984183fa75ef0e963556cdcde6c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 28 18:37:03 2008 +0000

    Typeo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3606 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a6bc59e668924f871857d65ee20c85fa91c2252
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 28 16:07:51 2008 +0000

    Create new type "privdata" in all profiles with different
    ACL settings, and check C_CreateObject parameter CKA_PRIVATE aka
    pkcs15_create_data args.auth_id variable, aka sc_pkcs15init_new_object
    object->flags & SC_PKCS15_CO_FLAG_PRIVATE to decide if "data" or "privdata"
    profile needs to be used.
    
    Tested with cryptoflex 32k and opensc-explorer, now I no longer can
    "get" the data object file stored with "--private".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3605 c6295689-39f2-0310-b995-f0e70906c6a9

commit a89b14668f7a9b4884055c4b16aa90ec14a4a179
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 28 16:01:04 2008 +0000

    Enable lock_login by default for security.
    Disable soft_keygen by default for security.
    Make defaults code more readable.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3604 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e56f8384adee3fcabb4c3b42a330d022e094844
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 11 09:18:09 2008 +0000

    #include <wintypes.h> on __APPLE__ to define DWORD, LONG, etc. Windows types
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3603 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b5a7d3c58fc0ac85c3b33dcf4148eb57a6c0aff
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 6 20:04:11 2008 +0000

    Upgrade to safe and sane values of late 2008
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3602 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5617c9d5354e297344e7aee566fc06bbc3d910f6
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 6 18:49:58 2008 +0000

    Fix bug #86, thanks to ville.skytta
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3601 c6295689-39f2-0310-b995-f0e70906c6a9

commit de89aa47e723e017f4385efe22b1875653a25226
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 6 11:41:00 2008 +0000

    Fixes #109
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3600 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4c85e7502391a9eb6c062ea1c09b2abb12d8f08
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 5 15:57:51 2008 +0000

    Cosmetic fix for [3595]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3599 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94d0f8d835163a9e3973f81ace6de970d0b73129
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 5 15:53:31 2008 +0000

    Remove ancient unused code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3598 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7967258aad92e382baffa99667b31db709c598e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 5 15:48:49 2008 +0000

    DWIM: If you don't specify a reader on the command line and you have more than one reader (for example, OpenCT virtual readers and one existing PC/SC reader) the tools will skip to the first reader that has a card in it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3597 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f3012d95905d248169c1ea23571a7f01b6fa6db
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 27 10:44:57 2008 +0000

    add CKM_SHA256* and CKM_SHA384* logs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3596 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e41d4d267df0613346bddca4e9fd945c873fecf
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 24 22:06:27 2008 +0000

     * Fix issues with pkcs11-tool testing of C_GenerateRandom/C_SeedRandom and OpenSC PKCS#11 implementation of those functions.
    Thanks goes to Rickard Bondesson who noticed the issues.
    
    http://www.opensc-project.org/pipermail/opensc-devel/2008-November/011436.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3595 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36112bf6e07d02f5853fcf10b3a60f524b6ef7eb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 24 21:55:28 2008 +0000

    typos
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3594 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b93c51230668ec958c26cc7f11377c8b6d7ee00
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 24 21:53:56 2008 +0000

    Missing SHAs
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3593 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04b30cdac324965d6043833cc9c3f544ee8d34dd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 21 22:34:31 2008 +0000

    Add --list-token-slots / -T to pkcs11-tool to list only slots with tokens.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3592 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb6f6f79520033a3dad66f9a388c50c9656f7268
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 27 19:17:36 2008 +0000

    mingw32->mingw*
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3591 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7941bf85032e40b4159b94b643ec538785d7def
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 27 19:16:28 2008 +0000

    Re-add pcsc-lite compile-time dependency
    
    Win64 changed the SCARDCONTEXT from LONG to ULONG_PTR,
    pcsc-lite did not follow this on 64bit platforms.
    This breaks the pcsc module.
    
    To solve this we use installed winscard.h in order to get proper
    declerations.
    
    As mingw32 does not have winscard.h we keep current types. mingw64 and
    pcsc-lite system have winscard.h.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3590 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ad85b3d91ca983c9a459827c2af228acadc7fe1
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 26 19:13:14 2008 +0000

    Add some more debug information to pcsc
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3589 c6295689-39f2-0310-b995-f0e70906c6a9

commit d771870d5ce06eb3e72d767a0efa51ba00fcd53b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 26 14:48:47 2008 +0000

    Resolve some conflict with win64
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3588 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2f428590b336b0c35d6bcbebb894047018f815f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 20 15:04:29 2008 +0000

    use 0x%08lx instead of 0x08%lx
    
    Thanks to Alon Bar-Lev for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3587 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a1e1192a6e8ad2e1a0e686dfa41e10bbd3ece0b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 20 07:46:24 2008 +0000

    display PC/SC error codes as 0x08%lx instead of %lx to make it explicit
    they are hex values
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3586 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4c5c8d539d04f5b832ee7e697f3ca40daea843d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 20 07:27:41 2008 +0000

    use SCARD_S_SUCCESS instead of 0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3585 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e5cd2466e94ca67eea2d6607a7736bc1f4f8156
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 10 09:42:36 2008 +0000

    Add documentation:
    # (max_virtual_slots/num_slots) limits the number of readers
    # that can be used on the system. Default is then 8/4=2 readers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3584 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b89748111c892a1b2c4949ffdf9007376f0ea6a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 10 09:39:27 2008 +0000

    slot_get_token(): return CKR_TOKEN_NOT_PRESENT if CKF_TOKEN_PRESENT is
    not set.
    
    Thanks to Douglas E. Engert for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2008-October/011361.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3583 c6295689-39f2-0310-b995-f0e70906c6a9

commit 001f03f18d1e56f69b718e0f3a2b1af09abebbe5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 9 13:05:13 2008 +0000

    card_removed(): warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3582 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6eb3ecd10771785efd4d26d1c4acce83ece83e56
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 9 12:59:02 2008 +0000

    card_initialize(): correctly associate a reader to each virtual slot.
    
    Thanks to Douglas E. Engert for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2008-October/011359.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3581 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2b329e7c9ca49bc854076aeebe04fc113b1dd69
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 9 09:02:42 2008 +0000

    make the * targets depend on only one dependency to avoid problems on
    concurrent make (-j)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3580 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac8bb831c4e784f42649246146cd0885c604f685
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 9 08:35:32 2008 +0000

    remove html.out and man.out before filling them to avoid problems
    when/if they already contain a html.tmp or man.tmp file (on the 3rd
    execution of make)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3579 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6405222707b8f55f30d2c1756c215691d8e2cf9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 9 08:32:14 2008 +0000

    cardos-info is now cardos-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3578 c6295689-39f2-0310-b995-f0e70906c6a9

commit df74ebcdc02d5944aa9644ef5a2136ce98d06faa
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 4 19:52:56 2008 +0000

    Handle spaces correctly
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3577 c6295689-39f2-0310-b995-f0e70906c6a9

commit acb06323aa9193ef2d3c378eb29e9e3248a3aa40
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 4 19:35:16 2008 +0000

    Make src/tools/cardos-info.bat DOS format
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3576 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2659c00f0d10d3b2b70982acc28223584f66d24c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 4 19:33:31 2008 +0000

    Make src/tools/cardos-info.bat DOS format
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3575 c6295689-39f2-0310-b995-f0e70906c6a9

commit 350811017796d877c35ea117aeaaa668f5598e78
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 4 19:32:05 2008 +0000

    Fixup cardos-info scripts
    
    1. They are not binaries.
    2. No need for resources.
    3. Put in separate files.
    
    Anyway, do we actually need these? why not just document
    that cardos-tool should be used instead?
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3574 c6295689-39f2-0310-b995-f0e70906c6a9

commit a767600ee8a85823121f1b2ddc9ba981617b575b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 22 14:36:46 2008 +0000

    fix apdu length check: 0..3 is wrong (too short). 4 is ok.
    5 is not (length byte for data, but no data?). 6 or more is ok
    (length byte and data). checking for "5" is not important.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3573 c6295689-39f2-0310-b995-f0e70906c6a9

commit 042d9d06a530f6ffddd7edd9a07102a0145c8409
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 22 14:21:01 2008 +0000

    An erased CardOS with a StartKey version 0xFF can now be directly formatted.
    Verbose output contains now some useful data.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3572 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8136c8b40fe7e9405bdb53725f437cf4f39360e4
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 22 10:38:34 2008 +0000

    fix some bad crash on Mac
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3571 c6295689-39f2-0310-b995-f0e70906c6a9

commit 524672345bac517d503d64cb25342f8f58e0b1bb
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 22 09:47:43 2008 +0000

    CardOS 4.2C is working too after changing Default StartKey to 16 * 0xFF
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3570 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0d1bb5410e5fcee08fd68d34ec3e6b27d14f48f
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 22 08:35:54 2008 +0000

    fixing typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3569 c6295689-39f2-0310-b995-f0e70906c6a9

commit aee10c8a1355956c3bb254445e104752611bcda1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 22 07:01:34 2008 +0000

    Fix a comment and allow cardos 4.3B too.
    Thanks to JP for testing.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3568 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbf0c28d635f8511fce05342ffabb80298e3bc18
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 19 10:21:14 2008 +0000

    fix a few missing  \n
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3567 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c29dcdb94632d69b990fa90bbc6e35e3524b3fa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 18 17:44:54 2008 +0000

    commit changes: cardos-info is now cardos-tool.
    and it knows to format, at least some cards/tokens with cardos.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3566 c6295689-39f2-0310-b995-f0e70906c6a9

commit 021dfaccba8965bc8d04b7903e016cab8583158c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 18 17:43:38 2008 +0000

    rename files only.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3565 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19a6ecddbf07bc892142e9653c731cd36ea8fb5a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 11 11:39:47 2008 +0000

    the "-" for make must be in the first line of a multi column command,
    not somewhere in the middle. this code makes shell look for "-rm" command
    which does not exist. fixing.
    
    "-" is not required in these cases, as "rm -f" always returns 0.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3564 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff4d6dd101194cb93305a161a47af85085e6a001
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 12:44:40 2008 +0000

    Fix for two apparent C code bugs
    
    By Stanislav Brabec
    
    entersafe_init_pin_info() was declared as int, but defined and used as
    void, resulting in a function returning an unused pseudo-random value.
    
    card-gemsafeV1.c uses comparison 'type == "DF"', which is always false,
    as it compares pointer to a string with pointer to the string "DF" in
    the code.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3563 c6295689-39f2-0310-b995-f0e70906c6a9

commit c89d27f7559603b4c871320ebc0a7c493a9c424e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 8 14:04:49 2008 +0000

    Don't removed generated external files during distclean
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3562 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29ee5e116ccbbec6fd03930c4f90bfed681db9e1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 27 06:19:36 2008 +0000

    Update trunk for new release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3559 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ce2fcdc8cbd06dec05d8acc1c4146d2590558b8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 20 15:20:23 2008 +0000

    Document recent changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3558 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9468d989cf5f279e11f1551164624c2cd1b25948
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 20 15:17:59 2008 +0000

    Douglas E. Engert:
    The pkcs15-gemsafeV1.c code assumes that the key_ref is always 3. But that is
    not always the case. In our case it is 4. The patch tries to determine the
    key_ref by looking at what appears to be a table of allocated keys, and picking
    the first allocated key.
    
    In case this is not always true, the patch will also allow for the the
    opensc.conf card flag = n to specify the key_ref as the low order 4 bits of the
    flag.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3557 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27d00f9265e053c574690d9cf27d4d579d29a09d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 20 05:41:20 2008 +0000

    Add new entersafe driver for ePass 3000 tokens.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3556 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ef6b5ff7d798f32958978483bbb1353ed8abfe8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 12 14:48:54 2008 +0000

    remove check for label - if you set one with "pkcs15-init -C -l your-label"
    this check doesn't work correctly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3555 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56ea99d8a009e76096c97384d8d420a279df3af6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 12 09:51:43 2008 +0000

    print_mech_info(): replace printf by fprintf to correctly redirect the
    log
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3554 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07247596d69ab5a186c076e3e379b5074f26261c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 13:25:16 2008 +0000

    Apply security fix.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3552 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b1ae308e0f5e9e560f3c12325d1aa416e03cd54
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 12:43:44 2008 +0000

    update export script.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3550 c6295689-39f2-0310-b995-f0e70906c6a9

commit c528205cdeb9010ebb804de6e8d8b53ed6b18c16
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 12:18:13 2008 +0000

    and update the date.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3548 c6295689-39f2-0310-b995-f0e70906c6a9

commit 262a630bfb797039c99db4f8a297034620bf041c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 12:17:58 2008 +0000

    document this change.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3547 c6295689-39f2-0310-b995-f0e70906c6a9

commit e243e7f322e0e1f9f94ae41db6ab63f016d8baad
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 12:17:29 2008 +0000

    make the sign_with_decrypt hack configureable.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3546 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29d78fde39220226bc396dccd016832c938b0106
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 12:13:15 2008 +0000

    move checks to pkcs15_bind, where we can look at the config.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3545 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4e8c61c50df4f1c9bf0858c8cb0b2ffb3f7051a
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 30 14:00:47 2008 +0000

    Update NEWS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3544 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59dc6f5157e96ef0ae69db1947c247ef57dfd406
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 30 11:57:40 2008 +0000

    update configure and NEWS file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3543 c6295689-39f2-0310-b995-f0e70906c6a9

commit 973bf9a7910898c61f5d83ca0cfb43719244932e
Author: cg2v <cg2v@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 27 15:50:01 2008 +0000

    export a GET DATA operation for cardos so opensc-explorer's do_get works
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3540 c6295689-39f2-0310-b995-f0e70906c6a9

commit 625d14c8809b3c84ae5f279eaed4d2bab820cbf2
Author: cg2v <cg2v@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 27 15:18:59 2008 +0000

    Don't free uninitialized memory if pem_encode fails.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3539 c6295689-39f2-0310-b995-f0e70906c6a9

commit 758adbc7ac41821a2b5e1d4883c0ff6101123421
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 21 14:39:37 2008 +0000

    Chaskiel Grundman:
    I found the following patch to opensc-explorer handy when cleaning up
    after some failed keygens (but not all, since you can't delete private
    key objects). It switches the card to the admin lifecycle at startup:
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3538 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64fd479aa501d7662bdadf54233aa75db973a6f1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 21 14:35:21 2008 +0000

    Chaskiel Grundman:
    Nowhere in pkcs15init/pkcs15-cardos.c is the user pin ever
    requested or presented to the card.
    Since the update acl for the key object uses the user pin, the GENERATE
    KEY operation fails when it isn't logged in.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3537 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2599fa795da9eec2289ab81e7c67cea146e2b0f3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 2 10:15:09 2008 +0000

    Do not delete .exports files on make clean
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3536 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fc6c498edf91c03601d8f2dc640c14001144ba3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 2 09:55:32 2008 +0000

    Make PC/SC work on Windows again
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3535 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3796270d4b3f10e51b05c15d1e9b30c48445b87
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 11 10:14:43 2008 +0000

    Detect libtool-1 or libtool-2 at runtime
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3534 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7534621a8918c60fdfcdc7778d9a54db76c95ad3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 9 08:32:42 2008 +0000

    Revert pic changeset
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3533 c6295689-39f2-0310-b995-f0e70906c6a9

commit c18dbe5669b51ace19f1dc96cd9c3e10c596652b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 9 08:31:38 2008 +0000

    More aclocal->m4
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3532 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38f3ae2518db5eec8e076e1dcea4c07d00520b70
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 9 08:10:11 2008 +0000

    upgrade from http://autoconf-archive.cryp.to/acx_pthread.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3531 c6295689-39f2-0310-b995-f0e70906c6a9

commit 555dcd912e1d20aee928148ea1306fa1c06d7fcc
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 5 20:21:30 2008 +0000

    Revert autoconf version prereq
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3530 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9db36f7bb0c61e2587b8ea488097940f5ce82ac
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 5 17:06:27 2008 +0000

    Rename aclocal->m4 to be more standard
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3529 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d6cf6b694271a8c9ea41cba1ae740939dec6339
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 5 17:03:47 2008 +0000

    Prepare for libtool-2
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3528 c6295689-39f2-0310-b995-f0e70906c6a9

commit df27108452f07240fb7b41f0af9307a9237a3fad
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 26 11:35:56 2008 +0000

    No point to maintain static list of available drivers in configuration file, user can always use opensc-tool to see available drivers
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3527 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47013af374f958e7402d1804809e9ea41c01aa98
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 26 10:46:16 2008 +0000

    opensc-explorer double free and cleanups
    
    $ opensc-explorer
    OpenSC Explorer version 0.11.4-svn
    OpenSC [3F00]> cat
    only working EFs may be read
    OpenSC [3F00]> cat
    only working EFs may be read
    opensc-explorer: sc.c:492: sc_file_free: Assertion `sc_file_valid(file)' failed.
    Aborted
    
    $ opensc-explorer
    OpenSC Explorer version 0.11.4-svn
    OpenSC [3F00]> cd ff00
    OpenSC [3F00/FF00]> cat
    only working EFs may be read
    OpenSC [3F00/FF00]> cd ..
    opensc-explorer: sc.c:492: sc_file_free: Assertion `sc_file_valid(file)' failed.
    Aborted
    
    By Aktiv Co. Aleksey Samsonov
    And some more Cleanups
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3526 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fd85ce0cf249550ff2d770f7c9fd056d9f12ee2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 26 08:30:39 2008 +0000

    print_generic() & print_print(): size is a CK_ULONG (unsigned) so compare
    using "!= (CK_LONG)(-1)" instead of "> 0"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3525 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d1218b64f57f1b70e4921b4379727f559e5bd4c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:37:57 2008 +0000

    completely initialize pkcs11_secret_key_ops structure with NULL pointers
    
    secretkey.c:225: warning: missing initializer
    secretkey.c:225: warning: (near initialization for 'pkcs11_secret_key_ops.destroy_object')
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3524 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96064e195c3395905a288be4bf30dad261386ef8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:30:37 2008 +0000

    add missing prototype for sc_pkcs15emu_rutoken_init_ex()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3523 c6295689-39f2-0310-b995-f0e70906c6a9

commit bdaf49b0c80743f0c287659138d0280273505b20
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:30:16 2008 +0000

    add missing prototype for sc_pkcs15emu_tcos_init_ex()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3522 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82314eaa565846d661d4ddbee857901c6d6361bc
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:26:08 2008 +0000

    do not use system as a variable name. system() is also a function
    
    card-akis.c:400: warning: declaration of 'system' shadows a global declaration
    /usr/include/stdlib.h:730: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3521 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99a16c66dbdff170189ff1b3e232273709997814
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:23:25 2008 +0000

    remove two unused variables
    
    reader-pcsc.c:739: warning: unused variable 'rv'
    reader-pcsc.c:862: warning: unused variable 'again'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3520 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca2da1bd678ddfb4c6de610875edb2859d3dbc8a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:22:23 2008 +0000

    Avoid variable name space collision
    
    reader-pcsc.c:396: warning: declaration of 'priv' shadows a previous local
    reader-pcsc.c:367: warning: shadowed declaration is here
    reader-pcsc.c:909: warning: declaration of 'reader' shadows a previous local
    reader-pcsc.c:901: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3519 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2b103547fd13aaeb60ff32fb99804ba89b13db8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:14:39 2008 +0000

    add a prototype for compat_dummy()
    
    compat_dummy.c:2: warning: no previous prototype for 'compat_dummy'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3518 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb7c59e7aa23ba5d2faa6d98db535d60c2485a0e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 12:13:19 2008 +0000

    use #ifdef instead of #if
    
    pkcs15-cardos.c:547:5: warning: "SET_SM_BYTES" is not defined
    pkcs15-cardos.c:585:5: warning: "SET_SM_BYTES" is not defined
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3517 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28c0c6283d736b863160b3940effeb7c47753a4a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 20 09:47:27 2008 +0000

    print_ptr_in(): change log format
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3516 c6295689-39f2-0310-b995-f0e70906c6a9

commit 232a26b62d26ebbedafb8c65d763b351de7899f7
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 20 09:41:44 2008 +0000

    C_Initialize(): log the value of the pInitArgs argument
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3515 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d71a75b1ac54af4707f26ca7131f879e9f8a01a
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 18:34:32 2008 +0000

    Fixup configure help strings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3514 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7bb718e24abe47c65e1c4890212e1d4bc844d31
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 12 09:41:48 2008 +0000

    C_Finalize(): do not unload the module since the application may try to
    make PKCS#11 calls again
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3513 c6295689-39f2-0310-b995-f0e70906c6a9

commit e14cf57ad1d6561dba946a145988b5c573a670bb
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 10 09:55:01 2008 +0000

    Better handle openct reader replug, revert last change in pkcs11-pin
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3512 c6295689-39f2-0310-b995-f0e70906c6a9

commit a40cf036bbe71d0089b71bcca4b1e6f1d298d757
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 9 22:22:41 2008 +0000

    Fix sc_pkcs15_verify_pin() to handle OpenCT hotplug correctly
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3511 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91177e51ec77d00c4739cce6e177ef8d11fba74c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 5 13:00:01 2008 +0000

    Use size_t instead of int when needed, plus some other minor changes
    
    Patch bug.1 included in Ticket #176
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3510 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8624796f3786eb0842cf7ac1cd1982d5316fb731
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 5 09:51:39 2008 +0000

    use type size_t instead of int since the 3rd argument of
    sc_format_asn1_entry() is void *
    using int will fail on a 64-bits platform
    
    Closes Ticket #176
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3509 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96b0f4a670358328933e35f6f362a2a4ca3fa70d
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 17:56:52 2008 +0000

    Verify PIN support Plug&Play
    
    If card was reset or reader reconnected, verify can restart
    transaction, as upper level will not cache PIN in this case.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3508 c6295689-39f2-0310-b995-f0e70906c6a9

commit e237574742c0790edb5550a74540b12df032da44
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 29 17:01:19 2008 +0000

    Plug&Play support
    
    This is not the best solution, but focus on smallest code change.
    
    Changes:
    
    1. Add detect_readers() to reader opts, this adds new readers to the end
       of the readers list until list is full.
    
    2. Add sc_ctx_detect_readers() that calls readers' detect_readers().
    
    3. Fixup pcsc_lock() so that it reconnect to the card and report proper
       error so caller may be notified if session was lost.
    
    4. Allow context to be created without readers.
    
    5. Call sc_ctx_detect_readers() from PKCS#11 C_GetSlotList with NULL_PTR.
    
    6. Allow no reader at detect_card, as reader my be removed.
    
    7. Since I broke ABI, I updated the external module version requirement
       to match OpenSC version. In the future a separate version should be
       maintained for each interface, this should be unrelated to the package
       version.
    
    Alon
    
    ---
    
    svn merge -r 3480:3505 https://www.opensc-project.org/svn/opensc/branches/alonbl/pnp
    
    M    src/tools/opensc-tool.c
    M    src/pkcs11/pkcs11-global.c
    M    src/pkcs11/slot.c
    M    src/libopensc/reader-pcsc.c
    M    src/libopensc/internal-winscard.h
    M    src/libopensc/ctx.c
    M    src/libopensc/reader-ctapi.c
    M    src/libopensc/libopensc.exports
    M    src/libopensc/reader-openct.c
    M    src/libopensc/opensc.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3506 c6295689-39f2-0310-b995-f0e70906c6a9

commit c862f88ce77fb40fa8ed65eb18699f46ed4fcea2
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 29 06:11:34 2008 +0000

    SIGSEGV print_tags_recursive - fix
    
    Patch opensc-0.11.4.trunk-r3502-fix-segv_print_tags_asn1.diff (for trunk
    trunk revision 3502) is draft.
    
    
    Example 1 (SIGSEGV):
    
    OpenSC Explorer version 0.11.4-svn
    OpenSC [3F00]> cd ff00
    OpenSC [3F00/FF00]> asn1 0001
    Printing tags for buffer of length 512
    [Switching to Thread -1211906368 (LWP 25131)]
    
    By Aktiv Co. Aleksey Samsonov
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3504 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c740b907e4424e393249f958671d72f6ddb9df0
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 29 06:09:00 2008 +0000

    More MSVC fixups by Douglas E. Engert
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3503 c6295689-39f2-0310-b995-f0e70906c6a9

commit e928d5565c19f54f0d6a2c17ee8ee400b0c15764
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:57:03 2008 +0000

    convert C++ in C comment
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3502 c6295689-39f2-0310-b995-f0e70906c6a9

commit 932cc41f30499c76b8456e1a1d8432d140546236
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:45:28 2008 +0000

    convert C++ comment in C comment
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3501 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7201fc7ace10a7050382a258832fedd8f48dd7b0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:44:07 2008 +0000

    convert a C++ comment in C comment
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3500 c6295689-39f2-0310-b995-f0e70906c6a9

commit 63b55ea0aa84301b11868be9c9cb619b8c8c8f51
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:42:22 2008 +0000

    rutoken_new_file(): initialize sec_attr
    
    pkcs15-rutoken.c:372: warning: 'sec_attr' may be used uninitialized in
    this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3499 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b239489fc27635c61fd3fea0a39dec38ab30d71
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:36:07 2008 +0000

    completely initialize the sc_pkcs11_framework_ops structure (using NULL
    for undefined callbacks)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3498 c6295689-39f2-0310-b995-f0e70906c6a9

commit 040ac682d8207999b2c32c8d1fdb4f3909dc4860
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:33:26 2008 +0000

    completely initialize the struct fmap fields
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3497 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1311c8c6a097f21a7dba18feadbf1c1d9ae197b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:24:57 2008 +0000

    card.c:756: warning: unused variable 'j'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3496 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab99cc50bda5385ab48196d5f49dca977aca9592
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 07:23:03 2008 +0000

    convert C++ comment in C comment (ISO C90)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3495 c6295689-39f2-0310-b995-f0e70906c6a9

commit 514d471f0e2e9ee969d1988d593c32d22859f288
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 25 12:49:11 2008 +0000

    Use O_BINARY at rutoken
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3492 c6295689-39f2-0310-b995-f0e70906c6a9

commit 597bcd76358156fbca9485bb6857c714cba43317
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 25 11:51:03 2008 +0000

    Cleanup some Windows issues with open
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3491 c6295689-39f2-0310-b995-f0e70906c6a9

commit 104ff0ed662d18905ec481bdb508212d759f7938
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 24 16:34:08 2008 +0000

    rutoken: Some MSVC fixups, by Aktiv Co. Aleksey Samsonov
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3490 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8110595fb64bb3b0c0b25e6a9b8b128eba32747e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 24 06:32:28 2008 +0000

    Add PATH comment for Windows users
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3489 c6295689-39f2-0310-b995-f0e70906c6a9

commit 886d6ac3ca0bc0ef6777ca0df509f0ff82e7b329
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 18 20:37:55 2008 +0000

    Add --force to autoreconf
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3479 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d7bce4de23d216889234e26b72272cad6255011
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 18 14:08:23 2008 +0000

    ruToken fixups
    
    http://www.opensc-project.org/pipermail/opensc-devel/2008-April/011057.html
    
    By Aktiv Co. Aleksey Samsonov
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3478 c6295689-39f2-0310-b995-f0e70906c6a9

commit e19d6a93ed730651cae523fd18d0b8b01b447f61
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 10:05:50 2008 +0000

    Make sure we generate opensc.conf every time
    
    There is no dependency for autoconf variables, and
    we provide the opensc.conf for Windows MSCVER build.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3477 c6295689-39f2-0310-b995-f0e70906c6a9

commit a160f0ebf764413d65d7dd8b7debaebaf94a710e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 04:42:31 2008 +0000

    common/main.c is part of getopt package
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3476 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d218007c359d11a12508846a851e67af8367b19
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 04:32:56 2008 +0000

    Fix last reference to VERSION and not PACKAGE_VERSION
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3475 c6295689-39f2-0310-b995-f0e70906c6a9

commit 715a794db98340457d03e7c9adf08083f683a547
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 13 17:57:44 2008 +0000

    Add PKCS11-Spy to installer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3474 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1f6df897e3a190f21b95b50845b02c8f93272d8
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 13 17:51:20 2008 +0000

    Add simple Windows installer script for OpenSC
    
    As nobody want to maintain UI installer, at least
    provide an installation script.
    
    The opensc-install.bat should be run from the
    installed location.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3473 c6295689-39f2-0310-b995-f0e70906c6a9

commit 606052c90133028742f5b853af860e8b736d42c8
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 12 21:54:02 2008 +0000

    Add --get-conf-entry, --set-conf-entry to opensc-tool
    
    Although not perfect, will enable installer/users
    to perform some simple tasks against configuration file.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3472 c6295689-39f2-0310-b995-f0e70906c6a9

commit 865f6e9c70cfd21e2581fc07f273174029a7ff29
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 12:52:46 2008 +0000

    More fixups to maintainer-clean
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3471 c6295689-39f2-0310-b995-f0e70906c6a9

commit c50280cb289b8167d7462592188d2ed5f4a74d5d
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 10 12:21:18 2008 +0000

    afxres.h is not needed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3470 c6295689-39f2-0310-b995-f0e70906c6a9

commit f503c3482fbd5d0366ff05b364e3ea4d114e4a94
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 8 19:16:48 2008 +0000

    No need for Makefile.mak in win32 anymore
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3469 c6295689-39f2-0310-b995-f0e70906c6a9

commit d84077749b73fb7b25489ee2c2e4f4255ee9f43d
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 8 18:36:42 2008 +0000

    Distribute autoconf generated files for MSVC build
    
    Construct resource files and winconfig.h using autoconf
    substitutions.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3468 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dff29af2db600a8c74af39fdb73895ed48b7ade
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 8 17:56:27 2008 +0000

    Typeo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3467 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f567f7a3c5b3f62228fd1e706c6051dc6b2bef3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 7 21:35:11 2008 +0000

    More MSVC build additions
    
      (1) use the exports for opensc-pkcs11.dll, onepin-opensc-pkcs11.dll,
          and pkcs11-spy.dll
    
      (2) don't link common.lib with scconf.lib, to avoid duplicate messages
          later.
    
      (3) add piv-tool to openssl_programs.
    
    By Douglas E. Engert
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3466 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9347111db5e644db78ec1e47419d59ed433ad88
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 7 21:28:37 2008 +0000

    Support OPENSC_FEATURES for MSC build
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3465 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54c1c735f312c2910f680316e96193054cb1de52
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 7 19:42:43 2008 +0000

    Attached are the latest mode to OpenSC svn 3462 to use the Makefile.mak
    files to build on Windows.
    
    I got rutoken to compile, and took out the #ifdef's I had in last week.
    The rutoken programmer declared some variables in the middle of a block
    rather then having all the declare statements at the beginning of a block
    as is normally done in C. The Microsoft compile treats this as an error.
    (Actual many errors.)
    
    The makedef.pl is no longer needed, as the exports files can be used.
    Note that in the original Makefile.mak files only opensc.def and
    pkcs15init.def were created.
    
    winconfig.h has a number of changes. As discussed last week this could
    be created by autoconf. I also noted that the Active State Perl that
    was required for the makedef.pl has a psed command that could be used
    like sed to update winconfig.h.  I did not attempt to do this.
    
    
    
      win32/Make.rules.mak - Use ENABLE_OPENSSL and ENABLE_ZLIB
    
      src/tools/Makefile.mak - add the rutoken.tool.exe
    
      src/tools/eidenv.c - use PACKAGE_VERSION
    
      src/pkcs11/Makefile.mak - reorder the objest to match the list in the
               Makefile.am. Makes it easier to read.
    
      src/include/winconfig.h - The windows version of the config.h
               Changes based on discussions on the list last week.
    
      src/common/Makefile.mak - renamed modules.
    
      src/pkcs15init/Makefile.mak - reordered, and added back the rutoken modules
               replaced the use of makdef.pl to sue the exports file.
    
      src/scconf/Makefile.mak - reordered objects.
    
      src/libopensc/card-rutoken.c -
               error. Moved the declares to the beginning of blocks.
    
      src/libopensc/Makefile.mak - reorder names, and add rutoken.
               Use the libopensc.exports file.
    
      src/libopensc/pkcs15-prkey-rutoken.c - more moving of declare statements.
    
    By Douglas E. Engert
    
    http://www.opensc-project.org/pipermail/opensc-devel/2008-April/011011.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3464 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66d819a3a6c4dcfec7e2fa078d2c570a42187ed8
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 7 19:25:21 2008 +0000

    ruToken C fixups
    
    http://www.opensc-project.org/pipermail/opensc-devel/2008-April/011011.html
    
    By Douglas E. Engert
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3463 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e65efb2578dabb6a86bc93c4dfb04b72dc5a4ca
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 20:38:20 2008 +0000

    Some more build cleanups
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3462 c6295689-39f2-0310-b995-f0e70906c6a9

commit 376139d1f130dcc8d07f8e309468ebd37749a914
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 19:21:59 2008 +0000

    Fix future issue with distcheck
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3461 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f226114387333e03e7f166adf9e93ec5a4bca29
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 16:46:50 2008 +0000

    Fix some duplicate symbols with Windows header files.
    Thanks to Douglas E. Engert.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3460 c6295689-39f2-0310-b995-f0e70906c6a9

commit e4eeba26cd86da6532c3149861dd07a215e27d8a
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 16:21:08 2008 +0000

    Fix MSVC compiler error
    
    http://www.opensc-project.org/pipermail/opensc-devel/2008-April/010997.html
    
    Thanks to Douglas E. Engert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3459 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac0c291f9c0653cb9a4dff9ab7904fcce3c402ee
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 06:05:38 2008 +0000

    Fixup WINAPI location
    
    By: Douglas E. Engert
    
     (2) Change the typdefs for the SC_*_t routines.
      The WINAPI had to be moved. For example from:
        typedef PCSC_API LONG (*SCardEstablishContext_t)...
      to:
        typedef LONG (PCSC_API *SCardEstablishContext_t)...
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3458 c6295689-39f2-0310-b995-f0e70906c6a9

commit 317ad765c59cf45c183974f678f4fd32ad85f8ed
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 05:39:34 2008 +0000

    Solve some Windows conflicts
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3457 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94d884922cbe350e0a635b676e366ed515fda402
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 2 19:48:12 2008 +0000

    Fix default PC/SC provider for darwin, thanks to Martin Paljak
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3456 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e2c664d34f38b9b8ff15214290c2392f33341ae
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 2 05:44:12 2008 +0000

    Rename PC/SC library into PC/SC provider.
    Sync symbols between configuration and source.
    Put default provider in opensc.conf, opensc-tool.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3455 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65a427e419243b4abe5ee1d8715c0859c329bf3a
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 20:41:07 2008 +0000

    Ignore -svn component so distcheck will pass for svn versions
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3454 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47c7cf2bbe2f0d93250667520c133adb33f533ca
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 20:32:28 2008 +0000

    Readd -svn version suffix, removed at revision 3446
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3453 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f7aa03520d58c1fefd47dc45a16ab8273a5da5e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 20:10:43 2008 +0000

    Add --with-pcsc-module to configure
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3452 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9b19135fca4610e75a15cc5241115204b81968b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 19:58:30 2008 +0000

    More separate srcdir fixups, make distcheck work
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3451 c6295689-39f2-0310-b995-f0e70906c6a9

commit 87db3c96c2578a9c595701cb9c63e89957195d97
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 19:04:33 2008 +0000

    More separate srcdir fixups
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3450 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39abe22798f5ebdcf66edb5fd23bd94a0b4e1b30
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 17:08:17 2008 +0000

    More separate srcdir fixups
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3449 c6295689-39f2-0310-b995-f0e70906c6a9

commit 503b028acba4cfa5529e90b3e1964dfd02b32592
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 16:55:23 2008 +0000

    More separate srcdir fixups
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3448 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13878512f57cd0c880872064ec1bea363d61db7f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 13:04:48 2008 +0000

    do not use api/*/*.xml but explicitely expand the first * to avoid
    catching api/xsl-stylesheets/catalog.xml
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3447 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69dd0baf30a4e03f9473e079ffbf644e3537c101
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 13:01:43 2008 +0000

    use $(srcdir) for dist_noinst_DATA
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3446 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7e30721378c9fc11881740cbc0d0756baf8b80d8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 12:43:26 2008 +0000

    use $(srcdir) when needed to be able to build in separate build
    directories using: cd foobar ; ../configure srcdir=..
    
    Thanks to Douglas E. Engert for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2008-March/010959.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3445 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ffe2e159d5a8935ce615c91120678bcd93e4cb3
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 12:35:08 2008 +0000

    use "pkcs15.h" instead of <opensc/pkcs15.h> (and similar)
    
    Thanks to Douglas E. Engert for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2008-March/010959.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3444 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77fac9721fb3033d0f4269c5eb40c39f72e7f193
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 1 09:32:40 2008 +0000

    #include <opensc/pkcs15.h> to avoid a compilation warning
    
    rutoken.h:4: warning: 'struct sc_pkcs15_prkey' declared inside parameter
    list
    rutoken.h:4: warning: its scope is only this definition or declaration,
    which is probably not what you want
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3443 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d20a071d6510bc9aeec1b8f0f7d5520d0a855c3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 29 20:34:38 2008 +0000

    Trivial
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3442 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f997da12564f1acf48ecc7d3aab78764551695f
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 14:13:00 2008 +0000

    Install PKCS#11 providers at bin for Windows
    This will place file in more expected location, and
    reduce runtime dependencies as dependency DLL will be located
    at the same directory.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3441 c6295689-39f2-0310-b995-f0e70906c6a9

commit 80a16f686d91dcfed957da8899d58f814b0b3c52
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 26 06:24:37 2008 +0000

    ruToken cleanups
    
    Move constants out of standard files.
    Create ruToken specific interface.
    Update symbols.
    
    Thread at:
    http://www.opensc-project.org/pipermail/opensc-devel/2008-March/010917.html
    
    Cleanup of:
    http://www.opensc-project.org/pipermail/opensc-devel/2007-December/010617.html
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3439 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0e0dd2820d4475c372971c8313d886eb396d56b
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 24 16:05:31 2008 +0000

    Cleanup conventions to meet other OpenSC projects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3438 c6295689-39f2-0310-b995-f0e70906c6a9

commit 500b36ae080db315305f8d34637b138614cb7ac2
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 20 13:36:50 2008 +0000

    Revert last
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3434 c6295689-39f2-0310-b995-f0e70906c6a9

commit 622e3425e3c698ed23937c410754e1bfd35b4e86
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 20 13:06:57 2008 +0000

    Need AC_LIBTOOL_DLOPEN for PKCS#11 module
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3433 c6295689-39f2-0310-b995-f0e70906c6a9

commit 314f2a5501c39cc857522734c770fec15a87847c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 19 21:23:47 2008 +0000

    Cygwin should load .dll version of PKCS#11
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3432 c6295689-39f2-0310-b995-f0e70906c6a9

commit a88a5439404cd9bd38129572491868b1d0756f4e
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 19 20:30:36 2008 +0000

    Fixup compile under cygwin
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3431 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8436f089c58a3d8c453edd933aa43fee5b49da8d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 17 15:17:56 2008 +0000

    pkcs15-gemsafeV1.c:478: warning: 'sc_pkcs15emu_add_pubkey' defined but
    not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3430 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f53d06c173d9cb525d2146339183af11442f69d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 17 15:09:16 2008 +0000

    change type from int to unsigned int to avoid 2 compiler warnings:
    pkcs15-gemsafeV1.c:150: warning: comparison between signed and unsigned
    pkcs15-gemsafeV1.c:331: warning: comparison between signed and unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3429 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2800607c4a1bb72c92b84a6938479d29b6f30bc0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 17 15:09:16 2008 +0000

    rename index -> index_local to avoid a compiler warning
    pkcs15-gemsafeV1.c:126: warning: declaration of 'index' shadows a global declaration
    /usr/include/string.h:304: warning: shadowed declaration is here
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3428 c6295689-39f2-0310-b995-f0e70906c6a9

commit 875d99e46a460a6532d33669fb28b6d0702dee6c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 17 15:09:16 2008 +0000

    use sc_debug/sc_error instead of fprintf(stderr, ...)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3427 c6295689-39f2-0310-b995-f0e70906c6a9

commit a05564447a2d04348bbced863d636e68fda74343
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 17 15:03:51 2008 +0000

    add ATR for the GemSafeXpresso 16k R3.2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3426 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5217ebc2d2265dda329ca62cec28e226fcac6bb3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 15 19:58:28 2008 +0000

    Fix opensc.conf dist again
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3425 c6295689-39f2-0310-b995-f0e70906c6a9

commit 760b89f37ec76631784cb9eeb689e6a56dd13621
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 15 18:12:58 2008 +0000

    Don't distribute opensc.conf
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3424 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97a3455e6c5d7e9a4e2b930f109f2b086cd13232
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 15 13:24:44 2008 +0000

    Fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3423 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e5a053e9afa6eec4e3ff2ae768f9c8e146cb424
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 15 13:24:05 2008 +0000

    Fixup autoconf detection
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3422 c6295689-39f2-0310-b995-f0e70906c6a9

commit f49f765ac68da0a5e177fc0ab9e2ac240826cf69
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 15 11:05:26 2008 +0000

    Fix libtool versioning issues
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3421 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1635782e6200b0c473f5cc0696df197e815f3258
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 14 21:26:42 2008 +0000

    Fixup autoconf help
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3420 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e78a50edc5f985755f3539defd75e508f4459d6
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 14 07:44:09 2008 +0000

    Minor cleanups
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3419 c6295689-39f2-0310-b995-f0e70906c6a9

commit c7d2788f01210f04121a16010d87239712289503
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 18:17:56 2008 +0000

    Support >=autoconf-2.60
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3418 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2761549c1117df8ede365140971bcb8560ee4f1a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 16:38:01 2008 +0000

    use new MKDIR_P macro, but depend on automake >= 1.10.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3417 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ec2b320d6f20f357c4c7b1474ce5c98471e33b3
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 07:10:53 2008 +0000

    Remove emptyline
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3416 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0ad68658ee3e09e9954e4a0d4b4aac7cd88cffc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 06:45:23 2008 +0000

    automake&co define mkdir_p, not MKDIR_P.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3415 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ac87f1b1eac646bbc29646874241fcf4ea17fb8
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 9 21:24:24 2008 +0000

    Remove useless comments
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3414 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e4abcc6753560e477915e4d2028af5e307b37e7
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 9 19:44:12 2008 +0000

    Some build cleanups
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3413 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72449f06352280b8fdf26b31f3fa2e06a92961cf
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 9 15:34:28 2008 +0000

    Make export-wiki.sh static across projects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3412 c6295689-39f2-0310-b995-f0e70906c6a9

commit 679a4c04dea930b665be978084fc300605149ceb
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 9 15:13:11 2008 +0000

    export-wiki.xsl now works with new trac
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3411 c6295689-39f2-0310-b995-f0e70906c6a9

commit 440ea331db03909e5b041c2b43f699fe148aa981
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 9 12:01:22 2008 +0000

    Windows DLL suffix is actually delta
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3410 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9af12d475292542d2f6417850bc6f4149b7d7ac
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 9 11:48:03 2008 +0000

    Add some missing AC_PROG
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3409 c6295689-39f2-0310-b995-f0e70906c6a9

commit 800e5b0b4101c7596b9c94de04a009644630a7ad
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 8 15:36:27 2008 +0000

    We don't need version constraint
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3408 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a809dd5cb55b61b1726bf64a5e85db18edbb107
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 6 16:06:59 2008 +0000

    Complete rewrite of OpenSC build system.
    
    1.  Build system now supports MinGW (Windows) compilation using msys and cross compilation.
    2.  Ability to explicitly disable and enable dependencies of the package.
    3.  openct, pcsc and nsplugins features are disabled by default.
    4.  Modified pcsc driver to use pcsc dynamically, no compile time dependency is required.
    5.  --enable-pcsc-lite configuration option renamed to --enable-pcsc.
    6.  Install opensc.conf file (as opensc.conf.new if opensc.conf exists).
    7.  Add--enable-doc configuration option, allow installing documentation into target.
    8.  Add --disable-man configuration option, allow msys mingw32 users to
        build from svn without extra dependencies.
    9.  Add export files to each library in order to export only required symbols.
        Windows native build may use these files instead of scanning objects' symbols.
    10. Add opensc-tool --info to display some general information about the build.
    11. Create compatibility library to be linked against library instread of recompiling the
        same source files in different places.
    12. Add different win32 version resource to each class of outputs.
    13. Make xsl-stylesheets location selectable.
    14. Some win32 fixups.
    15. Some warning fixups.
    16. Many other autoconf/automake cleanups.
    
    Alon Bar-Lev
    
    svn diff -r 3315:3399 https://www.opensc-project.org/svn/opensc/branches/alonbl/mingw
    
    _M   .
    D    configure.in
    _M   src
    _M   src/openssh
    M    src/openssh/Makefile.am
    _M   src/tools
    M    src/tools/rutoken-tool.c
    M    src/tools/opensc-tool.c
    M    src/tools/cardos-info.c
    M    src/tools/pkcs15-crypt.c
    M    src/tools/pkcs15-init.c
    M    src/tools/piv-tool.c
    M    src/tools/netkey-tool.c
    M    src/tools/eidenv.c
    M    src/tools/cryptoflex-tool.c
    M    src/tools/util.c
    M    src/tools/pkcs11-tool.c
    M    src/tools/pkcs15-tool.c
    M    src/tools/util.h
    M    src/tools/opensc-explorer.c
    M    src/tools/Makefile.am
    _M   src/pkcs11
    M    src/pkcs11/pkcs11-global.c
    M    src/pkcs11/framework-pkcs15.c
    M    src/pkcs11/mechanism.c
    M    src/pkcs11/pkcs11-display.c
    M    src/pkcs11/pkcs11-object.c
    A    src/pkcs11/opensc-pkcs11.exports
    M    src/pkcs11/sc-pkcs11.h
    M    src/pkcs11/pkcs11-spy.c
    M    src/pkcs11/openssl.c
    M    src/pkcs11/Makefile.am
    A    src/pkcs11/pkcs11-spy.exports
    _M   src/tests
    _M   src/tests/regression
    M    src/tests/regression/Makefile.am
    M    src/tests/sc-test.c
    M    src/tests/pintest.c
    M    src/tests/Makefile.am
    _M   src/include
    _M   src/include/opensc
    M    src/include/opensc/Makefile.am
    A    src/include/opensc/svnignore
    M    src/include/Makefile.am
    _M   src/signer
    _M   src/signer/npinclude
    M    src/signer/npinclude/Makefile.am
    M    src/signer/Makefile.am
    A    src/signer/signer.exports
    _M   src/common
    A    src/common/compat_dummy.c
    D    src/common/getopt.txt
    D    src/common/strlcpy.c
    D    src/common/LICENSE
    A    src/common/compat_getopt.txt
    A    src/common/compat_strlcpy.c
    A    src/common/LICENSE.compat_getopt
    A    src/common/compat_getopt.c
    D    src/common/strlcpy.h
    D    src/common/ChangeLog
    D    src/common/getpass.c
    D    src/common/my_getopt.c
    A    src/common/compat_strlcpy.h
    A    src/common/compat_getpass.c
    A    src/common/compat_getopt.h
    A    src/common/ChangeLog.compat_getopt
    D    src/common/README.strlcpy
    D    src/common/my_getopt.h
    A    src/common/compat_getpass.h
    A    src/common/README.compat_strlcpy
    D    src/common/strlcpy.3
    A    src/common/README.compat_getopt
    D    src/common/getopt.3
    D    src/common/README.my_getopt
    A    src/common/compat_strlcpy.3
    A    src/common/compat_getopt.3
    M    src/common/Makefile.am
    M    src/Makefile.am
    _M   src/pkcs15init
    M    src/pkcs15init/pkcs15-oberthur.c
    M    src/pkcs15init/profile.c
    M    src/pkcs15init/pkcs15-lib.c
    M    src/pkcs15init/pkcs15-rutoken.c
    A    src/pkcs15init/pkcs15init.exports
    M    src/pkcs15init/pkcs15-gpk.c
    M    src/pkcs15init/Makefile.am
    _M   src/scconf
    M    src/scconf/Makefile.am
    M    src/scconf/parse.c
    A    src/scconf/scconf.exports
    _M   src/libopensc
    M    src/libopensc/card-rutoken.c
    M    src/libopensc/compression.c
    M    src/libopensc/sc.c
    M    src/libopensc/card-piv.c
    M    src/libopensc/pkcs15-openpgp.c
    M    src/libopensc/pkcs15-postecert.c
    M    src/libopensc/pkcs15-tcos.c
    M    src/libopensc/opensc-config.in
    M    src/libopensc/reader-pcsc.c
    A    src/libopensc/internal-winscard.h
    M    src/libopensc/ctx.c
    A    src/libopensc/libopensc.exports
    M    src/libopensc/pkcs15-piv.c
    M    src/libopensc/pkcs15-infocamere.c
    M    src/libopensc/internal.h
    M    src/libopensc/pkcs15-actalis.c
    M    src/libopensc/pkcs15-starcert.c
    M    src/libopensc/card-oberthur.c
    M    src/libopensc/pkcs15-atrust-acos.c
    M    src/libopensc/p15card-helper.c
    D    src/libopensc/part10.h
    M    src/libopensc/ui.c
    M    src/libopensc/card-gpk.c
    M    src/libopensc/pkcs15-wrap.c
    M    src/libopensc/pkcs15-gemsafeGPK.c
    M    src/libopensc/log.c
    M    src/libopensc/pkcs15-esteid.c
    M    src/libopensc/pkcs15-prkey-rutoken.c
    M    src/libopensc/log.h
    M    src/libopensc/Makefile.am
    M    src/libopensc/reader-openct.c
    _M   aclocal
    M    aclocal/Makefile.am
    _M   win32
    M    win32/Makefile.am
    A    win32/versioninfo.rc.in
    A    win32/ltrc.inc
    A    configure.ac
    _M   doc
    _M   doc/tools
    M    doc/tools/pkcs15-profile.xml
    D    doc/changelog.sh
    D    doc/export-wiki.xsl
    _M   doc/api
    _M   doc/api/file
    M    doc/api/man.xsl
    _M   doc/api/asn1
    _M   doc/api/apps
    _M   doc/api/init
    _M   doc/api/types
    _M   doc/api/card
    M    doc/api/html.xsl
    _M   doc/api/misc
    _M   doc/api/util
    M    doc/Makefile.am
    D    doc/export-wiki.sh
    AM   doc/nonpersistent
    A    doc/nonpersistent/export-wiki.xsl
    A    doc/nonpersistent/Makefile.am
    A    doc/nonpersistent/export-wiki.sh
    A    doc/nonpersistent/svn2cl.xsl
    D    doc/generate-man.sh
    D    doc/svn2cl.xsl
    M    Makefile.am
    A    svnignore
    _M   etc
    M    etc/opensc.conf.in
    M    etc/Makefile.am
    D    man
    _M   solaris
    M    solaris/Makefile
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3405 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56a4322c3484cc47f937a4ad1e9a130858314f0c
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 6 15:04:29 2008 +0000

    Convert constant SC_PKCS11_MAX_VIRTUAL_SLOTS to configuration option.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3404 c6295689-39f2-0310-b995-f0e70906c6a9

commit 741330ba1942ae4eaf7c57e1a7ab0dc2a1874957
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 6 15:00:04 2008 +0000

    Allow specifying application name for data objects at pkcs15-init.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3403 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1875a25c4090b261d9eeb419beeb74bae9735650
Author: alonbl <alonbl@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 6 14:56:31 2008 +0000

    PKCS#11 "Application and processes" instructs the sequence
    that should be taken after fork().
    Applications should call C_Initialize() immediately after fork()
    to reinitialize the provider.
    
    The change monitor the pid that calls C_Initialize(), if it is
    different than previous C_Finalize() is called.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3402 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9740726f165ad393ee7473463813497664f173f6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 29 15:37:46 2008 +0000

    sc_asn1_decode_integer/asn1_encode_integer: correctly manage negative
    numbers and some positive numbers like 128
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3401 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04942bb4f6b8cb6d1bfb29b8d26742c10fcf38f8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 29 10:18:51 2008 +0000

     * Correctly return CKR_PIN_INCORRECT if PIN is out of range.
     * By Alon Bar-Lev from svn diff -r 3397:3398 https://www.opensc-project.org/svn/opensc/branches/alonbl/pkcs11-login-rv
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3400 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a04a103fbca1d8b031379aa258976f385efb249
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 20:36:59 2008 +0000

    do not use memory quota
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3392 c6295689-39f2-0310-b995-f0e70906c6a9

commit c46c366f1d62e65f2a07039cb4e32682a4f3d947
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 19:47:11 2008 +0000

    check tpin before trying to delete application
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3391 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69742ed3a909611940950295a4e10571b0949ec6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 14 17:02:02 2008 +0000

    circumvent the 'padded with zeros' ATR bug on Mac OS X <=10.5.2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3388 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8db7c8c124c42060c8e3992b7d758718d40faa85
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 10 16:13:55 2008 +0000

     * Fix protocol forcing. Whenever connecting, use  whatever protocol is available / currently set on card and only force the protocol with a cold reset when different
     This fixes pcsc_lock->pcsc_reconnect->protocol mismatch error escaping from reader-pcsc.c if some other application has set the card to a different protocol.
     * pcsc_reconnect uses PC/SC return values, pcsc_reset uses OpenSC; 0 -> SC_SUCCESS
     * CCID driver with OmniKey 1021 returns SCARD_W_UNPOWERED_CARD when a card is inserted upside-down. Translate the currently unknown error into 'Unresponsive card'.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3386 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4bad4452e7d6acdb75c129fa28c5291f4606b79
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 1 14:31:02 2008 +0000

    Add support for the Austrian A-Trust ACOS card
    
    Thanks to Franz Brandl for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2008-February/010675.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3318 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91288d495550af6c8c0eb544c089510f1854ec32
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 11 16:28:00 2008 +0000

    remove $(pkcs11dir)/opensc-pkcs11.so so that creating the symbolink link
    does not fail if the file already exists.
    
    Thanks to Jean-Pierre Szikora for the bug report
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3314 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9135ff34779cbae1d3a9740dc46bfe3d535e965
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 4 13:13:53 2008 +0000

    print_binary(): everything except printable characters (including space)
    are displayed in hex
    
    Thanks to Ian Young for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2008-January/010641.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3313 c6295689-39f2-0310-b995-f0e70906c6a9

commit 156f368f9daa0f8db35e7038d65d8fc6f4121419
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 4 08:57:12 2008 +0000

    add two missing files for ruToken support
    
    Thanks to Ian Young for the bug report
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3312 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9ff90382e62aeedd9c483bb26b01fb1078a7776
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 3 09:44:40 2008 +0000

    update comment to reflect the fact that lock_login is now false by
    default
    
    Thanks to Eric Dorland for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3311 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf9d6beaac8bd079d4cb77bd90711133f90d1f0d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 3 08:59:14 2008 +0000

    new patch for ruToken support
    
    Thanks to Andrew V. Stepanov
    http://www.opensc-project.org/pipermail/opensc-devel/2007-December/010631.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3310 c6295689-39f2-0310-b995-f0e70906c6a9

commit 513a3dde0ab9f57275dc9267808bb8dbd1e7e5a9
Author: pk <pk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 28 18:18:57 2007 +0000

    support for TCOS3
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3309 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1667798217e60324ab649ab67019c6b03ac0c841
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 21 16:40:27 2007 +0000

    Remove unused code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3308 c6295689-39f2-0310-b995-f0e70906c6a9

commit 743ecfe89e025a031842577b0112ee75608fcb86
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 21 16:37:22 2007 +0000

    Remove copy of Estonian eID ATR
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3307 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27257f2278b4b9874fd8a26c1158a39cea6325c9
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 19 09:58:29 2007 +0000

    support for Siemens CardOS V4.2C
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3306 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb7bdc208f8158784155c2da8d33946cc945e35b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 17 13:47:25 2007 +0000

    redefine trace macro to avoid compiler warnings when _DEBUG is not
    defined
    
    rutoken-tool.c:107: warning: statement with no effect
    rutoken-tool.c:165: warning: left-hand operand of comma expression has no effect
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3305 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ecc294ed8bea00c712e90b0db3ea29eef935730
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 17 13:39:20 2007 +0000

    add support of ruToken
    
    Thanks to Andrew V. Stepanov for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2007-December/010617.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3304 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d098d96502cb8f5086b52182cf809986af79c2e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 7 09:46:21 2007 +0000

    do not add a signature prefix for D-Trust cards
    
    Thanks to Simon Eisenmann for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2007-December/010609.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3303 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2bec293d2dd03178154885cfbc4d82aaaaacd97
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 15 15:52:46 2007 +0000

    gemsafe_init(): the applet supports also SC_ALGORITHM_RSA_HASH_NONE
    
    thanks to Douglas E. Engert for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3302 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44b2d51385a5a1cae9f82f021a523a521c047042
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 15 14:07:13 2007 +0000

    gemsafe_flags2algref(): return 0x12 instead of 0x13 for
    SC_ALGORITHM_RSA_PAD_PKCS1
    
    thanks to Douglas E. Engert for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3301 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4bf320b3044252e47ecc863ee210b4b6ca46f906
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 13 09:38:18 2007 +0000

    add support of /usr/lib/pkcs11/ directory. See
    http://wiki.cacert.org/wiki/Pkcs11TaskForce
    
    Thanks to Alon Bar-Lev for the better patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3300 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82253cd635fcbc30281b8e24c48827980cc98b15
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 13 09:13:17 2007 +0000

    sc_pkcs15emu_gemsafeV1_init(): remove addition of
    SC_ALGORITHM_RSA_PAD_PKCS1 algorithm since it is already done in
    card-gemsafeV1.c:gemsafe_init()
    
    Thanks to Douglas E. Engert for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3299 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83cef7bfc0187721f5d5e47bb5532552c7304b7f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 13 07:52:43 2007 +0000

    remove spaces and tabs at end of lines
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3298 c6295689-39f2-0310-b995-f0e70906c6a9

commit acda677fd0e0fadf441109ad58eb9276b549d532
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 13 07:48:08 2007 +0000

    sc_pkcs15emu_add_pin(): do not devide pin length by 2 in BCD case since
    it is already done in sec.c line 262
    
    Thanks to Douglas E. Engert for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3297 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07e6b23a266f051666aa375b5cb6d43ad2d9cb3a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 12 10:18:54 2007 +0000

    add initial support of Gemsafe applet V1 cards
    
    Thanks to David Mattes for the patch
    http://www.opensc-project.org/pipermail/opensc-devel/2007-November/010558.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3296 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1eb6fba8824f2b8f34c688a1e890a81e114e6705
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 12 10:16:31 2007 +0000

    rename sc_pkcs15emu_gemsafe_init_ex() in
    sc_pkcs15emu_gemsafeGPK_init_ex() and sc_pkcs15emu_gemsafe_init() in
    sc_pkcs15emu_gemsafeGPK_init()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3295 c6295689-39f2-0310-b995-f0e70906c6a9

commit f3a3fd6081f4a24ef46746026c729f7dfc4cc52d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 12 10:09:57 2007 +0000

    rename pkcs15-gemsafe.c in pkcs15-gemsafeGPK.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3294 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88ee3980e39043ac6885100e8823c39bea4a0ed1
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 12 09:59:57 2007 +0000

    rename gemsafe in gemsafeGPK so we can also have gemsafeV1, gemsafeV2,
    etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3293 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca92ec661f21482bd8f93448d5d8db893e27e55b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 9 08:35:23 2007 +0000

    patch from Douglas E. Engert for bug #165
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3292 c6295689-39f2-0310-b995-f0e70906c6a9

commit caf420709096a139ad840b0aff436172a4fe4aa9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 9 08:29:15 2007 +0000

    setcos_match_card(): replace sc_error() by sc_debug() since some cards
    are not SetCOS bug respond to the APDU: 00 CA DF 30 05
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3291 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9476144182dcc1568518f436ec8e5368841902a
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 6 12:03:47 2007 +0000

    This should be limited too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3278 c6295689-39f2-0310-b995-f0e70906c6a9

commit 57f7f6e6e5b5493e9fbf952a5c0d4c1fcacf2702
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 29 07:43:25 2007 +0000

    ignore paths with a AID in it
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3277 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5cdd93982dea3eb9490da559845eaf46fd1ebc52
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 28 19:10:39 2007 +0000

    the so-puk is optional
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3276 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab94915277aea058f5cbe5bf547e6bfc36b79942
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 27 18:19:17 2007 +0000

    two new debugging commands.
    
    asn1 2f01
    Dumps asn.1 content of a file
    
    apdu 00:20:00:00:04:31:31:32:32
    Send the custom APDU inside the session
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3275 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a0626fe08c0b3eb10f5f54022ca23693a8411b0
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 27 06:24:06 2007 +0000

    cosmetic patch
    piv-tool and netkey-tool added to the svn:ignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3274 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dd4d52921556812f9652cf65bdf097e775e2a81
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 23 10:19:43 2007 +0000

    AKIS can handle bigger data blocks, but that causes GET_RESPONSE calls.
    So for a 300 byte file, this saves one transaction (244 + 56) instead of
    (244 + 11 + 45).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3273 c6295689-39f2-0310-b995-f0e70906c6a9

commit 780b4afe8a5fe469f486737f7750dc61855578d4
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 22 20:47:04 2007 +0000

    On a third thought, it is better to not introduce any confusion at all :)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3272 c6295689-39f2-0310-b995-f0e70906c6a9

commit eada3a7e1cebd7a2f520071a1822a8ebc71c79ca
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 22 20:34:53 2007 +0000

    On a second thought, it is better to stay compatible with released
    0.11.4 code, and still use ISO7814 pin_cmd.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3271 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b470220510c5a3c3b92dbd5a44f29caf7a5e214
Author: gurer <gurer@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 17 11:41:28 2007 +0000

    * instead of using a custom PIN VERIFY command, pin_reference is
    reported back, and used for verifying.
    
    * PIN CHANGE command is implemented (that is really different
    from ISO7816)
    
    * max_pin_len is set to 16 in akis_init
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3270 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09be225b83c0637cbe52feb07823f6e0f2b5f519
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 10 07:09:28 2007 +0000

    cleanup *.tmp as well.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3269 c6295689-39f2-0310-b995-f0e70906c6a9

commit 833fae2a6b0b6a8913ad20f550dd3727c95cb876
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 10 07:03:06 2007 +0000

    Add code to check version information in several files. done by Peter Stuge.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3268 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61769bfbeef8fb41e3ca3c3977f8af17f9a53958
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 10 06:41:24 2007 +0000

    Release 0.11.4 without changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3267 c6295689-39f2-0310-b995-f0e70906c6a9

commit af9199b0592a4aaa86ff847c224578dd17ae8c26
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 10 06:22:36 2007 +0000

    Appy patch by magog to build a static opensc_a.lib on windows.
    Also removes *.lib on "make clean".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3265 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6882b13287f92f6c8ea0c1817075a829f0129d2e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 4 05:39:15 2007 +0000

    fix typo found by Gürer Özen.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3264 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d1871d74c4a0af471b789651ca2d787a6d653a6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 29 19:54:10 2007 +0000

    properly check return value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3263 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2ee37e6c710b6e9311df47f0efa4c926098aa6d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 29 19:32:23 2007 +0000

    bugfix: select DF before setting sec. attributes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3262 c6295689-39f2-0310-b995-f0e70906c6a9

commit c25e4f765ccd4c9598bea77e0c63a9bb32a069a4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 28 20:35:27 2007 +0000

    akis update by Gürer Özen: implement logout code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3261 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43b7391a940447ae1d30cd000fff25200c266dcb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 28 20:35:06 2007 +0000

    fix typo, found by Gürer Özen.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3260 c6295689-39f2-0310-b995-f0e70906c6a9

commit 177ff402f33edfcaaf82a9400eb0d765c23fe442
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 28 20:34:42 2007 +0000

    fix typo, found by Gürer Özen.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3259 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11ec3adace5db6a5189936849507d72d8a648fa4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 22 18:38:37 2007 +0000

    mark supported padding and a comment - by  Gürer Özen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3258 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9b30e48c4d801694ef59912621a982dfb2afb00
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 22 18:38:02 2007 +0000

    fix typos, patch by Gürer Özen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3257 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26e2e5477f631052cae1894832fbf88b8e9f9e02
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 20 20:20:35 2007 +0000

    update version info for windows.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3255 c6295689-39f2-0310-b995-f0e70906c6a9

commit d27c1c1c36bed3c311d0cf9f06df01d7f2dafd7c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 19 18:55:44 2007 +0000

    trunk now after 0.11.4 release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3252 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68dd0e1c3590c6c7ba162401f1e1b9d2cdd971da
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 19 18:55:11 2007 +0000

    Update news file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3250 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5504092cd46192aedbd0dcf6db2ec01997d1ab93
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 19 18:37:46 2007 +0000

    update libassuan m4 macro package to current version.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3249 c6295689-39f2-0310-b995-f0e70906c6a9

commit 832e325ff779a314b4b97601401655d935874adc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 14 06:17:34 2007 +0000

    fix typo.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3248 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3264588c3eeff766e50f4fffb3a69f4286813785
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 14 06:02:51 2007 +0000

    restores ability to change opensc-explorer debug level at
    runtime, using "debug" command from opensc prompt. by Jakub Bogusz
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3247 c6295689-39f2-0310-b995-f0e70906c6a9

commit d68964c7f36d199860a4aa24339abbf2ccae4c63
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 14 05:55:56 2007 +0000

    keep libassuan as most users will not have this.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3246 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a10cdeebdbd3efd02a73661d3b479dcf4089bc3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 13 19:10:26 2007 +0000

    add cflags for ltdl.h where needed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3245 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cebca4ceb33fcfd3dda70d32add72c40bcdc3cc
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 13 08:32:07 2007 +0000

    the commands line tools do not call lt_dlopen() so do not need to link
    with libltdl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3244 c6295689-39f2-0310-b995-f0e70906c6a9

commit 345ce22c6345d238d3240dee988c1636e02ea193
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 13 08:30:19 2007 +0000

    use LTLIB_CFLAGS and LTLIB_LIBS instead of the global LIBS to find and use
    libltdl
    
    thanks to Alon Bar-Lev for the patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3243 c6295689-39f2-0310-b995-f0e70906c6a9

commit aeef9bae8970e70666bc67671fddd756dfceee5c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 10 13:06:50 2007 +0000

    lib-link.m4, lib-prefix.m4 and lib-ld.m4 are provided by gettext but
    is no more needed after revision 3239
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3242 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b34601289fb011824c5a75b723c9afedad08ef5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 10 13:05:25 2007 +0000

    pkg.m4 is an external dependency provided by pkg-config (or similar)
    package
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3241 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93b8784896e4a9d4dd3da66b23468c2d9d1722f9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 10 13:04:09 2007 +0000

    libassuan.m4 is an external dependency provided by libassuan-dev (or
    similar) package
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3240 c6295689-39f2-0310-b995-f0e70906c6a9

commit e23612f9adbe00e0cc72dd8613f231f5cf0cbfb5
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 10 12:56:21 2007 +0000

    do not use AC_LIB_LINKFLAGS() since this macro is provided by gettext
    and we do not use gettext. Use AC_CHECK_LIB() instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3239 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1e1ceafad20b05b69b0359cb5239e8317fa426a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 10 12:51:30 2007 +0000

    propset svn:ignore to ignore unversioned files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3238 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7912a24260420adf99730b4529c2c3049aace5a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 8 20:06:53 2007 +0000

    add information about cardos 4.2b - latest cardos update.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3237 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7636ab5dbb9bac038cfdd13e0c078a5916254e8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 3 07:47:13 2007 +0000

    Add same hack for Prime cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3236 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0cbecfeb1278457ac0c871496efbb753cc06de4
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 2 13:53:40 2007 +0000

    AM_LDFLAGS is not used in libpkcs15init_la_LDFLAGS so explicitly use it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3235 c6295689-39f2-0310-b995-f0e70906c6a9

commit c67c5fa70cd1f5e0b333f3b14480e8a2bdeafa2c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 28 18:27:25 2007 +0000

    revert revision 3403 + 3404, seems to break mac os X.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3234 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ea1d007919a387bf02d0beb3c0a1c137b05c695
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 28 18:22:07 2007 +0000

    pkcs11-tool crashes while printing its usage message.
    fixed by Ville Skyttä.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3233 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e37bfd68dd322971c47552c1d4907721a312c2a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 28 18:18:39 2007 +0000

    cryptoflex-tool.c:505: warning: array subscript is above array bounds
    gcc 4.3 warning, reported and fixed by novell:
    Problem found by David Binderman
    Patch created by Michal Vaner
    closes our trac bug #153 and novell bug 238660
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3232 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1002b91eb73b711e7c9b81f0f69b97d2073e5af
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 24 06:42:12 2007 +0000

    fix a compiler warning.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3231 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25e85b4cc9f5b5021451e278e26252ead62dd148
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 22 19:56:03 2007 +0000

    Gürer Özen:
    * akis_get_data() implemented
    * akis_delete_file() implemented
    * akis_set_security_env() implemented, pkcs15 signing works now
    * life cycle set/get via cardctl implemented
    * card_ops commented, so it is clear whether a function is supported via
    iso7816 implementation or not
    * mark pin apdu as sensitive in akis_pin_cmd
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3230 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94c62b0b500b091497a6d103947172c9ce46d7fe
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 21 07:31:26 2007 +0000

    create plugin directory if it does not exist.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3229 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8875fe02963fa1bfcea7f1a25352f0550785e678
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 20 18:50:23 2007 +0000

    add explicit option to enable/disable the ns plugin. patch by  Alon Bar-Lev.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3228 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1130f7f93ba667eb290adbebfbad66a14d213ce
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 20 14:38:46 2007 +0000

    oops, define tmplen at start of block.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3227 c6295689-39f2-0310-b995-f0e70906c6a9

commit a577a258132981f41596595f1109676503df99a3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 20 13:47:17 2007 +0000

    silence a warning we get with siemens cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3226 c6295689-39f2-0310-b995-f0e70906c6a9

commit d59917cd21276b029bdb88744ca674de16a97318
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 20 12:30:59 2007 +0000

    asn1_decode_entry() allocates (objlen - 1) bytes for SC_ASN1_UTF8STRING
    types with SC_ASN1_ALLOC flag, then calls the sc_asn1_decode_utf8string()
    function which then fails with BUFFER TOO SMALL cause it wants to end the
    string with an extra NULL.
    
    allocation size was supposed to be objlen + 1.
    
    Patch by Gürer Özen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3225 c6295689-39f2-0310-b995-f0e70906c6a9

commit b757ff171929c310a69f4e9d4c2e1f3f87b4288b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 20 12:28:43 2007 +0000

    Gürer Özen send another akis update:
    * create_file implemented
    * EF(DIR) hack removed, it is easier to put a real EF(DIR)
    * SC_CARDCTL_GET_SERIALNR implemented
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3224 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14bc32dda23631d962284c1d7708757e456d3d45
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 20 12:19:27 2007 +0000

    Sign by using the decrypt function.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3223 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60e3e1e6832fc04e67276a513e0cb591b0dc2583
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 17 20:01:55 2007 +0000

    add akis support by Gürer Özen.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3222 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc20adecbc68da46c042e262af892e04a0e5d25e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 15 15:29:40 2007 +0000

    Douglas E. Engert:
    The IdAlly CSP calls C_FindObjectsInit looking for CK_PRIVATE_KEY before
    C_Login with a pin. If it does not find any, it fails. The pkcs15-piv.c in
    0.11.3 and 0.11.3-pre3 set the pubkey and prvkey objects as private.
    This patch removes the SC_PKCS15_CO_FLAG_PRIVATE so IdAlly will work with the
    PIV cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3221 c6295689-39f2-0310-b995-f0e70906c6a9

commit a974aba32c59da2d117efa94ad9a5b2185945158
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 11 14:47:26 2007 +0000

    trunk is now post 0.11.3 release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3219 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5600d2035d689479d869355db210986781c0d7b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 11 14:46:45 2007 +0000

    more updates.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3217 c6295689-39f2-0310-b995-f0e70906c6a9

commit 486db2f58484faf04c9bd09923bed20b0c7bfe98
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 11 09:35:36 2007 +0000

    put openssl rsautl in raw signatures mode.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3216 c6295689-39f2-0310-b995-f0e70906c6a9

commit c224b0c82469989f2dc821d919921b54eae7242d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 11 09:15:45 2007 +0000

    allow regression test suite to work installed as well.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3215 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9b29d101982d4ccf59a36ab3988406d6b433e7a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 11 09:10:57 2007 +0000

    add test for decrypting binary data of key size.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3214 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d4ee519763f5f816543493f23c7fc0b165d7bb3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 11 09:07:33 2007 +0000

    stop using p15dump, switch to pkcs15-tool --dump.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3213 c6295689-39f2-0310-b995-f0e70906c6a9

commit 80c70550c8fee42e264f95f57aa77a5d00d0d4e9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 10 13:03:06 2007 +0000

    document latest changes and update wiki export script.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3212 c6295689-39f2-0310-b995-f0e70906c6a9

commit 822242794709c04acc48ff39e024f7be686f1be3
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 10 12:04:31 2007 +0000

    typo, manifested when explicitely using 'reader_drivers = internal;' in opensc.conf
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3211 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6a54578fc1fb1880679eefdf7ffc1b31519f782
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 9 14:52:03 2007 +0000

    use static without inline - the compiler can optimize the function as
    inline or not, whatever it prefers. "static inline" is not supported by
    the visual studio c compiler.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3210 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7bde1e9e05be6c13b029b2fe47cacd4cbb781e7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 9 14:17:43 2007 +0000

    inline is something the compiler can decide on his own.
    static is a good hint to the compiler for that - the function isn't used
    outside of this file.
    "static inline" is not valid, visual studio doesn't compile that.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3209 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae627ca3ac3649a0fcbb2b0992b34615a8c55fbc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 9 08:28:30 2007 +0000

    Revert last change, breaks building opensc:
    ../../src/libopensc/.libs/libopensc.so: undefined reference to `lt_dlopen'
    ...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3208 c6295689-39f2-0310-b995-f0e70906c6a9

commit 703edfb68ee53c35ae8803a83730a629ec86eaa7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 7 11:29:12 2007 +0000

    improve atr matching for cardos m4.01[a]
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3207 c6295689-39f2-0310-b995-f0e70906c6a9

commit 174802aa56cd6a94d1b286dd3237851e8c6fb1ea
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 4 14:25:39 2007 +0000

    Enables the second PIN (one-time PIN) defined for the same application DF
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3206 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2012f64ba2c7754336ca404362bd3495b3f3b00e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 4 09:19:25 2007 +0000

    add image files to release tar.gz
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3205 c6295689-39f2-0310-b995-f0e70906c6a9

commit d15326cf96603f87b0e3d590106c54ad8df18c13
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 4 08:55:50 2007 +0000

    update the list of distributed .m4 files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3204 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70c7bb4dd1577ae51808c14eecce0a01f2e2038d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 4 08:54:45 2007 +0000

    libassuan.m4 is provided by libassuan-dev
    pkg.m4 is provided by pkg-config
    lib-link.m4, lib-prefix.m4 and lib-ld.m4 are provided by gettext but
    should not be needed after revision 3202
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3203 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69a5c1a843a46fcbd332c67e17147867d5e3813a
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 4 08:46:57 2007 +0000

    do not use AC_LIB_LINKFLAGS() since this macro is provided by gettext
    and we do not use gettext. Use AC_CHECK_LIB() instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3202 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7f102fc2ee9a3270e3834a30da2491fb5c75f78
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 4 06:51:36 2007 +0000

    update NEWS with list of all changes (that I remember).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3201 c6295689-39f2-0310-b995-f0e70906c6a9

commit 87708593154ad96ac9e8d8dec5d066e0387db0b2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 3 20:44:34 2007 +0000

    add support for asepcos
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3200 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c5fe33cfee55ac2d89819317774e19291dbcbf3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 3 19:42:34 2007 +0000

    re-add cardos m4.01a ATR
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3199 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fcabecf9fb05783898af6ceb58bd6e70fe3b511
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 3 15:33:28 2007 +0000

    PIN unblock error. Internal pin reference procedure updated.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3198 c6295689-39f2-0310-b995-f0e70906c6a9

commit be022c16d357abb73e78db60113ef10a56045742
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 3 14:15:15 2007 +0000

    fix version numbers preparing for next release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3197 c6295689-39f2-0310-b995-f0e70906c6a9

commit dea6f8b0909fdbdafdcb60c6bea48bb8ad79090a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 3 14:14:58 2007 +0000

    update pkcs11.h header file from scute.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3196 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16c5ab4d5b17caa2e747960caf73b404aa90bd28
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 3 13:44:45 2007 +0000

    Error when output allocation length is not equal to the signature length. 'Compute_signature' now returns the answer's length
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3195 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c222a0b44fcce34d2807fa1d01830d5b6dd71a7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 29 14:14:02 2007 +0000

    remove unused definition.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3194 c6295689-39f2-0310-b995-f0e70906c6a9

commit db600912c6e870fc9a47cf166e75a00047b1cae5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 29 13:31:04 2007 +0000

    fix duplicate static.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3193 c6295689-39f2-0310-b995-f0e70906c6a9

commit cea32a801679a96fe80620d5dab0435c5727c68f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 29 13:19:19 2007 +0000

    make app_name, options and option_help static.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3192 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa12a3dd4f9ff9aee3aab154e63b4c0a0ce83dcb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 25 18:01:26 2007 +0000

    implement more flexible cardos detection func
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3191 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1069b4e01884ceb229bdc38d8da98fd0c48d013c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 24 21:03:30 2007 +0000

    Douglas E. Engert: fix more compiler warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3190 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ca4eba3653fb8c48f7ede4b0c3dd72cd094af53
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 13:58:38 2007 +0000

    silence more warnings by gcc/sparse.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3189 c6295689-39f2-0310-b995-f0e70906c6a9

commit be309330e58cc3deba0d45d6760c6dc6218215f2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 13:46:08 2007 +0000

    do not use global variables app_name, options and option_help so they
    can be static
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3188 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0bc6df80c74447b8df8f3dbc7273c1aaef9b824
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 13:38:16 2007 +0000

    fix more warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3187 c6295689-39f2-0310-b995-f0e70906c6a9

commit 209ee4500784a86c4eb58522520e4db93b049f3f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 13:29:57 2007 +0000

    eidenv.c:55: attention : ‘option_help’ defined but not used
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3186 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41004ac43852b04a6c90af69ef9987ab7336a0fc
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 13:29:06 2007 +0000

    initialize objs to NULL to avoid: pintest.c:83: attention : ‘objs’ may
    be used uninitialized in this function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3185 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f66c5b87eeaec53e9503e19b6a87b39d3b0efe6
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 13:20:45 2007 +0000

    correct a typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3184 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c604cb294d6d8e495cf94da205a58c537f3957d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 12:58:57 2007 +0000

    silence more warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3183 c6295689-39f2-0310-b995-f0e70906c6a9

commit c66889dc9eada895bba4b59ddc502877f727853d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 12:14:50 2007 +0000

    fix broken changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3182 c6295689-39f2-0310-b995-f0e70906c6a9

commit de0ca913550a4d9c6d39e7463d2f2b4b7e649a63
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 12:06:33 2007 +0000

    make sc_pkcs11_print_attrs non static.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3181 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f0329cd18a3c751080aecbd61ef3feb172069ef
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 12:01:39 2007 +0000

    silence more gcc/sparse warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3180 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c35397f50ff364a611d753283cd7adf2d3fff4b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 11:34:08 2007 +0000

    revert change - is needed by pkcs15-syn.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3179 c6295689-39f2-0310-b995-f0e70906c6a9

commit 047ee1d73e3510fd7e76f52672253921768dda3f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 11:07:00 2007 +0000

    fix more warnings found by gcc/sparse.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3178 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4acfe6b096dca3f7c76ef4aa9736db5b5c0f04fa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 10:07:01 2007 +0000

    fix compiler/sparse warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3177 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4cc1a50a4966ca254c1428c9634ef1d362560947
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 09:37:18 2007 +0000

    Alessandro Premoli:
    add support for reading, writing and deleting private (require cache_pins) and
    public data objects in PKCS11. updated the pkcs11-tool and fixed a few
    bugs in the code. Tested on an aladdin etoken.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3176 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4cd33e77f85835a8a147065ae2f4fed685c31a7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 07:11:21 2007 +0000

    Douglas E. Engert:
    Looking at framework-pkcs11.c, it looks like there is a bug in the handling of
    auth_count, if there is more then one pin, and one of the pins is a
    SC_PKCS15_PIN_FLAG_SO_PIN.
    
    The for loop at line 767 will add a slot for each non SO_PIN or UNBLOCKING_PIN.
    But at line 812, the auth_count is still set to the number of pins, even though
    the SO_PIN did not cause a new slot to be allocated and thus the test of
    hide_empty_tokens will not be used.
    
    With the attached patch, I can get the expected behavior when hide_empty_tokens
    = yes in the opensc.conf from pkcs11-tool -L, pkcs11-tool -O and pkcs11-tool -O
    -l
    
    There is only 1 slot allocated, the pkcs11-tool -O shows all the public
    objects, and pkcs11-tool -O -l (after PIN) shows all the objects, and Heimdal
    PKINIT still runs.
    
    I still think that if two or more slots need to be allocated for multiple auth
    pins, then all the public objects should be added to each. I have an additional
    mod for this too.
    
    Since the cards I am working with only have 1 pin, the attached mods works for
    me. Note it looks like the pkcs15-openpgp.c might also be affected by this
    change as it defines two pins an auth pin and a SO_PIN, much like the PIV card
    does.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3175 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9946e237de1b09d4939448f354331a84b8e6f689
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 21 07:07:49 2007 +0000

    Douglas E. Engert:
    Major improvments in the PIV card modules:
    * OpenSC-0.11.2 only supported RSA 1K keys, the patch supports RSA 2K and 3K
      keys.
    * The FASC-N in the CHUID object is used as the card serial number.
    * A PIV card may have additional objects. These can now be read by pkcs11-tool
      and pkcs15-tool.
    * The p15card-helper.c module is no longer used. The code to call the
      sc_pkcs15emu_* routines has been moved back into pkcs15-piv.c and uses
      existing OpenSC routines to parse the certificate to find the modulus_len.
    * pkcs15-piv.c will now get the modulus_len from the certificates to store into
      the emulated prvkey an pubkey objects as they are being created using the
      sc_pkcs15emu_* routines.
    * The caching code that was added to card-piv.c in 0.11.2 is disabled, as
      pkcs15-piv.c will cache the certificate using existing OpenSC routines.
    * piv-tool will now print a serial number.
    * The key-usage bits for prvkey and pubkey objects are set in pkcs15-piv.c
    * The PIV "9E" key was added. It is not a private object, and can be used
      without a PIN. It is used with the "Certificate for Card Authenticaiton".
    * When used with the OpenSSL engine to generate a certificate request, the
      public key saved by piv-tool during a "generate asymmetric key pair" card
      command can be read from a file pointed at by the environment variable
      PIV_9*_KEY. Where * is A, C, D or E.
    * In the card_atr section of opensc.conf, flags = 20; can be used to only show
      the PIV Authentication cert. This feature was in 0.11.1 but was dropped in
      0.11.2 when the p15card-helper.c was introduced.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3174 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20985fcfdc448e850c543c0bfa6a733911e3f7f6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 25 20:10:34 2007 +0000

    Added the application name to logging to allow for easier debugging. Since a
    lot of testing needed multiple applications to be running, it became important
    to know what application was making each log entry.
    This was reported by Russell Larner <rlarner@rsasecurity.com> on 5/17/2007
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3173 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c324049e780a4c3d65e6eaf6e5820aee4c211f5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 25 20:09:11 2007 +0000

    If a PKCS11 get attrribute failes for some reason, pkcs11-tool may return
    garbage along with the error message. The attached patch to pkcs11-tool.c
    initializes the type to 0 so the attribute will be 0 in case of an error.
    by Douglas E. Engert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3172 c6295689-39f2-0310-b995-f0e70906c6a9

commit f065546ccd589568bce8b043b73fd394d61ddb40
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 25 20:06:59 2007 +0000

    The framework-pkcs15 will filed the modulus in a certificate and copy it to a
    pubkey or from apubkey to a privkey object. But it does not copy the
    modulus_len.
    
    This patch will look at pub_info->modulus_len and prv_info->modulus_len and
    copy the modulus_len while copying the modulus.  This will be used with the
    pkcs15-piv code when it creates pub and priv objects, as it has no way other
    then from the certificates to know the modulus_len.
    
    By  Douglas E. Engert.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3171 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8908b8548e02d320376844b3d9668f0f89b3c29
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 13 15:43:22 2007 +0000

    252 bytes work as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3170 c6295689-39f2-0310-b995-f0e70906c6a9

commit dee4faea64422f4595079a570abbdcbd318ad247
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 13 09:32:13 2007 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3169 c6295689-39f2-0310-b995-f0e70906c6a9

commit 37157f38eec21c5eb2d376706d3e896ea932eb0c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 13 09:31:46 2007 +0000

    bugfix: try to read at most 248 bytes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3168 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8135be4166282bbffb34f07cb3417320c7a019f3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 13 09:30:53 2007 +0000

    bugfix: avoid recursion
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3167 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5df8166844fd7bd32cf90b8b4599b07683d5e69
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 4 07:13:04 2007 +0000

    fix wiki html export.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3166 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60195aa9bfffa563aaffb4eb5bd758c426fc634f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 4 06:17:54 2007 +0000

    add date for 0.11.2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3163 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36d0cf2301f43febf089e5a944d3b849a0daf792
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 25 06:53:45 2007 +0000

    probe for readline+ncurses too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3161 c6295689-39f2-0310-b995-f0e70906c6a9

commit d08da294185cb55d1fe6a4b867ab6d671bb6c034
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 24 07:59:13 2007 +0000

    update NEWS with latest changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3159 c6295689-39f2-0310-b995-f0e70906c6a9

commit e3935077e1b6c2a9b2131ffdf185084e1a023fae
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 24 07:54:18 2007 +0000

    enable pin caching by default.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3158 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3438ef4ff8300a09a536b38a9de811a04dc567f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 24 07:52:27 2007 +0000

    use 255/256 bytes as max_send/recv_size by default.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3155 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1645684fd5153f20e72187a878ad9d6c8c3d84ff
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 23 19:23:51 2007 +0000

    increase size of pin buffer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3153 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41999694611c988e9948781097ef87f5b2a91725
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 23 19:18:46 2007 +0000

    authenticate if data object is protected
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3151 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91109128c059d8035e8b6337970d1364c1681447
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 15 17:26:42 2007 +0000

    request at most for 256 bytes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3149 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3fcd9f7dd9e510cebf34a3b514d40b7e2b75aa0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 10 19:49:26 2007 +0000

    Steve Jacobs: fix muscle driver.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3148 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef7d8ffa864f4223c4949c4e374cb616a6ac9ad6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 1 17:03:08 2007 +0000

    bugfix: don't use the size of a void pointer, thanks to Carl Przybylek <crprzyby@gmail.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3146 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0a0103c70c0531fc8802b1141f406125a4f941f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 29 10:25:16 2007 +0000

    Build a pkcs11 module with only one pin exposed to overcome issues described in #132. Closes #132
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3145 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60b4570531bc6f2c86dddf7fe34b7b0985616513
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 21 09:41:08 2007 +0000

     * Add support for SCARD_E_NO_READERS_AVAILABLE to describe errors like:
    {{{
    sc.c:201:sc_detect_card_presence: returning with: Unknown error
    SCardGetStatusChange failed: 8010002e
    }}}
     * When doing a reset with pcsc_reconnect do a cold reset instead a warm one to allow next change
     * Change the protocol force feature to change the protocol with a hard reset only when needed to prevent:
    {{{
    SCardConnect failed: 8010000f
    card.c:228:sc_connect_card: returning with: Unknown error
    }}}
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3144 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa272faf68801ee3cc4400e94e9f8b0e615cd35b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 21 09:34:10 2007 +0000

    Missing file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3143 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5dba2033639c91171f4e349d15092486a7b2d080
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 21 09:33:40 2007 +0000

    Make sure the right thing is always selected on the card by bypassing cache
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3142 c6295689-39f2-0310-b995-f0e70906c6a9

commit 62d2d6cbe06c30ca0fa1fb40c296e9538bd1518d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 21 09:32:36 2007 +0000

    Simplify esteid detection
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3141 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7d88163ea38f41057703064043f4a0266ffec5b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 18 17:55:15 2007 +0000

    fix --serial option.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3139 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9b9d81bbfb148fd7e0ac17e7d8e44019c62ff8a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 16 20:44:35 2007 +0000

    changes to trunk won#t go into 0.11.2.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3137 c6295689-39f2-0310-b995-f0e70906c6a9

commit d530108e7e55fa96430df777a98376fc81fa73d6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 16 20:42:51 2007 +0000

    document changes in this release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3134 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7c0443d858b0d55651d91af5782e46463c621d0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 15 07:59:01 2007 +0000

    remove <link linkend="foo">Foo</link> that can't be solved and generates
    Error: no ID for constraint linkend: foo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3133 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38b9a8091fce6f452a2691c3a93b410352e5556e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 14 18:26:37 2007 +0000

    add missing header file to noinst_HEADERS.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3132 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74610a8fdfec5760327742ba6b2dfa274c31d4a7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 13 23:10:54 2007 +0000

    Ian Young: use proper card type for acos5.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3131 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25f8509fc1672e3fe11293018dcd811fc9ee5e63
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 13 20:59:15 2007 +0000

    Douglas E. Engert:
    piv-tool needs openssl, so compile only if it is present.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3130 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ca622b7f79c033ef55865237176f20a4e49164a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 13 20:57:55 2007 +0000

    Patch by Douglas E. Engert:
    use c style comments and different header files (for mac os X?).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3129 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97f2569f14e20fa49dbfc01a417cc668d14d9abf
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 13 13:38:24 2007 +0000

    Add acos5 driver by Ian Young.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3128 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39b5c4239757ea6bdcedd1bb8bf09b1cef052c52
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 12 20:17:29 2007 +0000

    test new chop size (256 bytes by default).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3127 c6295689-39f2-0310-b995-f0e70906c6a9

commit eab8ade2ec923bd239f021546221cf82144ee1e1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 12 20:15:39 2007 +0000

    changes by Douglas E. Engert:
    change the do_decompress* to sc_decompress* and the initialize_* to
    sc_pkcs15emu_initialize_* in the new code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3126 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6954a9c333087034c94d3ef460487eecb90160c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 10 10:46:32 2007 +0000

    full piv update by Thomas harning Jr. and David E. Engert,
    adding compression etc. Also enables opensc to be compiled
    with and without zlib support.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3125 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d00cf350f948ec07900067bf4f30640db82e5d8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 7 21:26:47 2007 +0000

    don't set max send/recv size per defaults. document how to find
    out if there is an issue.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3124 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7758e6c0552cf618c95786d766b9b086c9db76a
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 7 12:39:52 2007 +0000

    after Douglas Engert's remarks on the coding style
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3123 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e33d45edb65000a2026c163dbb9ca00d81b8001
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 7 09:38:01 2007 +0000

    some ACLs was forgotten; i compute_signature() le should not be more then 256
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3122 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ce5aa3b135fe927aa02b6881c76d1a84c4efcaf
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 5 17:30:35 2007 +0000

    change inappropriate oberthur profile
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3121 c6295689-39f2-0310-b995-f0e70906c6a9

commit 282000fbae5eb998ea754171c3b5b1ef477a5425
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 3 20:24:55 2007 +0000

    update Giuseppe Amato email at his request (he is no more working for ST
    Incard srl)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3120 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a26ba3d66b13e012c211de29155d67ef4776923
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 9 11:08:11 2007 +0000

    Include files from [3113]
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3119 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45f5fcea0ee866f79729cbc58a3a7bbc1c5322d2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 6 14:29:45 2007 +0000

    comment out static and unused functions (sc_pkcs15init_read_unusedspace,
    sc_pkcs15init_update_unusedspace, merge_paths,
    sc_pkcs15init_add_unusedspace and sc_pkcs15init_remove_unusedspace)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3118 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7a55bb423e71196798c6de19879e6969f97b53b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 6 14:20:44 2007 +0000

    correct 3 warning: unused variable 'entry'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3117 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71bef700bfcf025ab8a9c40f0a6b507dcbccbb9c
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 6 14:17:02 2007 +0000

    use SCARD_SCOPE_USER instead of the pcsc-lite specific
    SCARD_SCOPE_GLOBAL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3116 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2f622a21521cb350541894d80e3266b5f2f5612
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 2 22:15:14 2007 +0000

    implement support for SHA2 (still experimental)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3115 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b4472ca9faf02632c512a6e951477ece7eb8096
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 20 12:46:40 2007 +0000

    use const, add yet another ACL
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3114 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8cdd0810c7f6a6f68b2d68c1f1de3b80dc2b6097
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 19 21:10:24 2007 +0000

    conditionally check 2048 bit rsa key ops
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3113 c6295689-39f2-0310-b995-f0e70906c6a9

commit 139ff4c39c7ffac2c7b0277e8aa7452234f5453b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 19 21:08:20 2007 +0000

    check key size, set so-pin ref
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3112 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c72646a355d723291569bef906fa0a3c981984a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 15 20:32:58 2007 +0000

    increase pointer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3111 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49fe6b516362957f1e818a057bfacfc8d7dbd40e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 9 21:16:52 2007 +0000

    undo last change: converting a binary file to utf-8 isn't really a good idea ;-)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3110 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ccd6daf8dd2ea47bde266102d3ce17cf7e89093
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 9 19:41:05 2007 +0000

    improve get_response logic: try to read at least as much bytes
    as indicated in the 0x61xx response.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3109 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e32cb6e846be0d4623626814ae3fda19996d66a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 9 07:22:58 2007 +0000

    improve atr masking code - also mask atr to match.
    and add more debugging messages.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3108 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05929291054072483d027ffe9ff6c6b813274a0d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 8 21:10:07 2007 +0000

    remove unnecessary assertion
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3107 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d1b8779e3d3d602914b56b1cb9d37e60445078f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 8 20:19:10 2007 +0000

    use EVP API for DES encryption
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3106 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3db0036e8d497434b050fc8a8bffa6476c6da426
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 8 17:04:39 2007 +0000

    use EVP api for DES encryption
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3105 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bee8bf5c6711f8b21d2f1134586139d35bac9d3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 7 23:40:44 2007 +0000

    off by 1
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3104 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30d0066a58c50be64562982b9da54c136daaae36
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 6 16:35:38 2007 +0000

    Stop MS visual studio 2005 complaints.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3103 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e1c80f3fef9c6e6fd541a73907f5fcd33f152bb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 6 13:23:52 2007 +0000

    use EVP api
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3102 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83862fc35603c68000710e32e11cb36a4b32c0d5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 5 16:36:33 2007 +0000

    Properly set the defaults for pcsc reader options even if no configuration file is found/available
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3101 c6295689-39f2-0310-b995-f0e70906c6a9

commit f747fc0c2875a33c4807235b9f115ae80586ce50
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 5 16:25:31 2007 +0000

     * Add a few debug lines
     * Remove the locked status from the reader no matter what SCardEndTransaction thinks - either the card was removed or broken pcsc allowed to reset the card while in a transaction (pcsc-lite before Oct. 2006)
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3100 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f1d63a56c2c8860adf6b503be107064cf434481
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 5 16:20:50 2007 +0000

    Allow to specify at compile time that a card will work only via pkcs15 emulation. This way no matter what is
    configured in the config file (try_emulation_first option) the card is usable via pkcs15 tools.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3099 c6295689-39f2-0310-b995-f0e70906c6a9

commit 779326b9e51de07a4c260b5c29e351c304b018dd
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 5 16:13:46 2007 +0000

    Match EstEID based on ATR contents rather than the full ATR itself.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3098 c6295689-39f2-0310-b995-f0e70906c6a9

commit 210bb4a5aad05114ed457130d20e8e28cd8546f0
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 3 11:44:24 2007 +0000

    change encoding
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3097 c6295689-39f2-0310-b995-f0e70906c6a9

commit 58b193164090f18d5c0f06ef8ab6d7300ce846da
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 2 10:06:32 2007 +0000

    prepare Oberthur card support for secure messaging
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3096 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02215882f3356512a1e8298faacefe7572f691ff
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 2 10:06:02 2007 +0000

    prepare Oberthur card support for secure messaging
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3095 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d0048e5ad05007feb7fb0f4245cc777ed5dc7a7
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 2 10:04:35 2007 +0000

    introduce SC_PATH_TYPE_FROM_CURRENT and SC_PATH_TYPE_PARENT path types
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3094 c6295689-39f2-0310-b995-f0e70906c6a9

commit dad82e19d7a49ff1efef946642fc2a4a1f1e6bb5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 29 09:44:13 2006 +0000

    only the first apdu (command) tells us how many bytes we need to get.
    we need to keep this value and call get_response as often as needed
    to get them part by part.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3093 c6295689-39f2-0310-b995-f0e70906c6a9

commit d08c8344ecf5fd3d2b0fb1bf712946970a62cd20
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 22 12:43:00 2006 +0000

    encode max pin length as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3092 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a9d5290f1264b663c6af9344c135e40b2a26146
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 22:11:07 2006 +0000

    kill warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3091 c6295689-39f2-0310-b995-f0e70906c6a9

commit db0a552d7b3afedd7b1e465dc1a0058640de302d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:35:42 2006 +0000

    convert to utf-8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3090 c6295689-39f2-0310-b995-f0e70906c6a9

commit f76ec85facbc61e06c88823b125b5207cfd0f398
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:34:49 2006 +0000

    replace with an ascii test string.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3089 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9287da54da0a1bc6bfe2fac57e5134277434e7d3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:34:00 2006 +0000

    convert to utf-8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3088 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61c4acc14181dbe9dc328034f4cb582817f17945
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:33:40 2006 +0000

    convert to utf-8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3087 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5db87927d4ae4dbe316bad9e83d841fa178c62e0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:33:15 2006 +0000

    convert to utf-8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3086 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad798221343c6ac6e440820c6ecf72a9bf14d407
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:32:31 2006 +0000

    convert to utf-8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3085 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3ad2f9dd2245ed185a8a716c2ef35018db7c486
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:31:17 2006 +0000

    convert to utf-8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3084 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8544a12eaf2b9c45ef8b1709e3c8e143d9ef568
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:28:59 2006 +0000

    convert to utf-8
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3083 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86a90a272e48f56e510e0b52abaa2a78b8ab8dd1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 21:28:40 2006 +0000

    convert to ascii.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3082 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11064cff899b65d4e6eeb852040c4ff776c0e263
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 19 20:48:56 2006 +0000

    convert to unix style line ending.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3081 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38720ba5e10d2d59cf1077adb73eb7dfa0a846d1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 18 21:58:16 2006 +0000

    update to latest muscle code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3080 c6295689-39f2-0310-b995-f0e70906c6a9

commit a157eebec55e6008ddff2370146d7065839ee6bc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 18 21:34:49 2006 +0000

    apcos driver is not yet commited.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3079 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5977ce4f21729201d372e71b797815bce4715b3c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 18 11:23:42 2006 +0000

    pad only if necessary
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3078 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3fbf281b3c086099d2a9c1bfeaca403f008acb1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 18 11:22:51 2006 +0000

    remove comment
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3077 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0199dfa29b96db8025e3ac73d7ee374d87c375c9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 18 11:22:22 2006 +0000

    use net size if available
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3076 c6295689-39f2-0310-b995-f0e70906c6a9

commit d537651ab76e6ab649d62e7e9112912a7090f04f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 18 07:42:06 2006 +0000

    update to latest pkcs11.h version.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3075 c6295689-39f2-0310-b995-f0e70906c6a9

commit f23ddbdba19f343868cf39f804c27a12c7aa5f3a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 10 13:33:34 2006 +0000

    make it work with my compiler, add missing parenthesis
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3074 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9aa18ea1cebaef18ce1da8faed268b2a977f63d5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 10 07:57:22 2006 +0000

    update to latest pkcs11.h from Marcus.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3073 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4857be57d4d78779909624269dae2535bede55c3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 9 15:46:26 2006 +0000

    Alon Bar-Lev: enables disabling the linkage of pcsc-lite and openct,
    even if they are installed on system. It adds --disable-openct and
    --disable-pcsc-lite options.  Also a minor correction for pkg-config
    (adds PKG_PROG_PKG_CONFIG).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3072 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44d54b68dd2dbdbe2b3c3f6ebf7faa6860532555
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 9 15:41:27 2006 +0000

    pkcs11.h with updates from Alon.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3071 c6295689-39f2-0310-b995-f0e70906c6a9

commit 462cd0defc3df4c7e9985b72d166f271c93ba76d
Author: jps <jps@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 8 14:56:09 2006 +0000

    Initial support for SetCOSXpresso (GemXpresso R4 with EID 2.x applet)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3070 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31f4fada5bc8d7a781545036f1613bd00ffa1498
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 7 10:53:37 2006 +0000

    define these constants where used to kill warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3069 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5610edfc2fd8e6b2fec077b286d48d88245b629d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 7 10:35:40 2006 +0000

    Thomas Harning:  patch to fix the MuscleCard driver to work in the
    case of forced drivers.  drv_data is used as a flag so that muscle_init
    knows if the applet has been selected during initialization.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3068 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3822c349b9b4c3e837298cd0d1e333faa09a604
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 30 08:14:16 2006 +0000

    update the MuscleCard driver for OpenSC to use an msc_id struct rather than
    int/bytes and messing around with byte-swapping for that. (by Thomas Harning)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3067 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9daff9b2887ab3b2dee7075a001f3d63d93c2ac
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 30 08:11:58 2006 +0000

    replace rsa pkcs#11 header files with rewrite.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3066 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7dc1aa46b036c17d934f0d50a03efeb41ad7e31
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 28 15:54:31 2006 +0000

    remove now useless (see revision 3062) --enable-debug option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3065 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff5f55417f3b927eebb8ec89b8191e43db85a9f8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 28 11:54:51 2006 +0000

    Have equal number of sc_lock and sc_unlock loglines to aid debugging locking.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3064 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66f3d64e5a15bb79e2d886184ecad86ebb0c06c9
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 28 11:53:57 2006 +0000

    Remove unused headers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3063 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7164006b44a83f8ad855b62638a9ac24d416dcf5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 23 22:40:01 2006 +0000

    enable APDU logging again
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3062 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b40cf4caa13ed804736e40c140d7112185a5cf1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 22 19:27:52 2006 +0000

    remove unused variable, cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3061 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9be468b3a8ea9c5b27262481efb3c1d898139075
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 21 22:10:11 2006 +0000

    try to read at most max_recv_size bytes in GET RESPONSE
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3060 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47441219157abcbfe21722480e22a4788d7c6b8b
Author: pk <pk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 18 00:05:48 2006 +0000

    Support for DATEV smartcard classic
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3059 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9abf0cc841897d86f367c98048ee0ec1ea4b91cc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 17 11:50:41 2006 +0000

    size_t is 64bit on 64bit plattforms, thus use %ld and convert to unsigned long.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3058 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28c6c1ebc11c61a468731827fc9536886bb14208
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 12 21:01:01 2006 +0000

    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3057 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f1bdbe99dbf84d88ca26d7f0d27b1b8323e39cd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 11 11:47:48 2006 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3056 c6295689-39f2-0310-b995-f0e70906c6a9

commit 651d2c554dad0f5a2f37e3e3c537dcfee1faf4e4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 11 11:46:36 2006 +0000

    remove useless code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3055 c6295689-39f2-0310-b995-f0e70906c6a9

commit c208794ca80efb5bbf4577a2a4c13a162b9fab76
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 11 11:09:57 2006 +0000

    check types before concatenating paths
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3054 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed2c784d44b159b84318264328f2594300bff9ae
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 10 23:07:45 2006 +0000

    update; patch supploed by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3053 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4e401b6c0655c8027f49b22b391b3dacf3628a41
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 9 21:26:19 2006 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3052 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a32d02926ad399c31b82f2db711fca1061992f0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 9 16:05:55 2006 +0000

    Fixes #17
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3051 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d4bd463b0df3faa3c0d6b857bf7a2202f54e31e
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 6 11:15:09 2006 +0000

    Use do {...} while(0) construction for SC_TEST_RET, SC_FUNC_RETURN and SC_FUNC_CALLED defines
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3050 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7da8984462fdea1bda6403b86cac2209c72a5382
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 2 13:58:58 2006 +0000

    set path type; patch supplied by Thomas Irlet <iksiloev@gmail.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3049 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71aab076aabb551e6510ed79b9b07d87464df132
Author: vtarasov <vtarasov@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 2 09:19:17 2006 +0000

    When forgetting PIN set to 'null' the corresponding named_pin's entry
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3048 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef012c94f58deb33fc763a34260fc242564c7ec6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 2 06:55:29 2006 +0000

    Thomas Harning: sc_list_files doesn't return the length of the
    applicable buffer, but instead the # of files. Fixed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3047 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c78d9e6888fb83e9ee6efd29842148c391fcbbe
Author: pk <pk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 31 17:29:19 2006 +0000

    Netkey E4 emulation
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3046 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01f72933aff58ee0cce67178c3cbecc4f961cb97
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 30 18:51:48 2006 +0000

    add support to parse the seInfo TokenInfo entry, improve aid support in opensc-explorer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3045 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1cba3e8e2ffa854fe562807a4418b534addd9a3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 30 11:54:38 2006 +0000

    Remove invalid documentation, addresses #95
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3044 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd753c4967b74b93d1f6e435556d022e99a30155
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 30 07:37:44 2006 +0000

    use the OPENSC_DEBUG environment variable to overwite the configuration
    variable debug in opensc.conf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3043 c6295689-39f2-0310-b995-f0e70906c6a9

commit 821a009609a0c0e66232b23125cb20b7ee77b961
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 9 15:09:44 2006 +0000

    New EstEID v1.5 card ATR
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3042 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07b7abdccd003ff6d4b7bea3c52832b12423c942
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 4 07:00:15 2006 +0000

    c_asn1_toki[]: the serialNumber field is not mandatory in ISO 7816-15
    see
    http://www.opensc-project.org/pipermail/opensc-devel/2006-October/009025.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3041 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65658db6e4d3bdc89d133755b99316d3a62df68a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 2 17:26:48 2006 +0000

    make the decision which locking functions to use more explicit; patch supplied by Martin
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3040 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2dea71ad4070c80cbe91a3d570fc921e26738be
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 2 16:49:26 2006 +0000

    restore backward compatibility: try READ BINARY in case of a unknown file type
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3039 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a296307acc900d5e9860a1aa7ae9ec297466e6d
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 2 13:46:00 2006 +0000

    c_asn1_ddo[]: the oid field of the DDO is not mandatory in ISO 7816-15
    See
    http://www.opensc-project.org/pipermail/opensc-devel/2006-October/009022.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3038 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8e96bb53bd7c6f777a4f476c6b6abeb8bc50942
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 2 10:39:55 2006 +0000

    update doc
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3037 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45e22aa7be3cf04dae596fb20265f45e9b71016b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 2 10:34:57 2006 +0000

    add the possibility to read the pin from stdin
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3036 c6295689-39f2-0310-b995-f0e70906c6a9

commit aeae39f47de731cad6f30ac2cf9854b6e0917e8f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 1 20:52:37 2006 +0000

    fix warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3035 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c823d89cad571207a3431d7d2fe142e8d1ce8cf
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 1 20:39:53 2006 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3034 c6295689-39f2-0310-b995-f0e70906c6a9

commit a946dc98bf55644805062012f79bb36b9278cab8
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 27 22:10:12 2006 +0000

    set CKF_USER_PIN_INITIALIZED only if we really have a pin object
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3033 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ac9b2aba18e3cc048e1772836c22669a964fe9e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 27 12:02:02 2006 +0000

    sc_pkcs15_make_absolute_path(): a 0 length path stays a 0 length pat
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3032 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45fc35051371ebc64abe762b5e95843ae8b07ba4
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 27 12:01:31 2006 +0000

    iso7816_process_fci(): dump the filename in Hex + ASCII instead of just
    ASCII in the debug log
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3031 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11779dce600486b88d69f90d0498faec4112de1c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 26 18:17:14 2006 +0000

    fix apdu
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3030 c6295689-39f2-0310-b995-f0e70906c6a9

commit 636f6942915a33a5aeddc55442b9fa364624d774
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 26 18:01:03 2006 +0000

    check if the ef type is in range; thanks to Thomas Irlet
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3029 c6295689-39f2-0310-b995-f0e70906c6a9

commit b45617c4513a53ea684e1948098427f3a1bdb0f8
Author: henryk <henryk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 26 10:55:02 2006 +0000

    Make absolute paths from all paths read from the PKCS#15 directories by prepending the DF(PKCS#15) path if necessary.
    Fixes compatibility with Siemens HiPath SIcurity formatted cards which use relative paths.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3028 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12c6b11bddb9e555a8ee9ccd5789cdd2307925c2
Author: henryk <henryk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 26 10:43:28 2006 +0000

    Fix handling for SIMPLE-TLV records with a three-byte length
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3027 c6295689-39f2-0310-b995-f0e70906c6a9

commit 325b9480ea9e12d8bd68db5a3264e270785fb8e8
Author: henryk <henryk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 26 10:36:35 2006 +0000

    opensc-siemens.diff
    Adds support for record-oriented files in linear variable, simple-tlv format.
    TODO: Add support for all the other file formats, too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3026 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a0e1849d53ffebf9e867552ac7b81a1c8ccfb33
Author: henryk <henryk@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 26 10:31:03 2006 +0000

    Make do { ... } while (...); into while (...) { ... };.
    Fixes behaviour with empty files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3025 c6295689-39f2-0310-b995-f0e70906c6a9

commit f087a937ff699c6cc06162db9cc67c2381c41e7f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 24 14:05:06 2006 +0000

    implement workaround for the Taiwanese id card
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3024 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d38746c284fadce9d7a38ee5aff46b1b73ed301
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 24 12:50:41 2006 +0000

    keep index and count parameters
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3023 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf389495a891a413bea65ad6c7eea33bac4fcfb4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 22 14:34:51 2006 +0000

    add starcos spk 2.4 ATR
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3022 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb3b27709ce64820cb71e58891b32de7b9691875
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 22 14:18:22 2006 +0000

    bugfix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3021 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91912bab20b7b3c818023ee266208b97a2e0b68d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 20 13:33:50 2006 +0000

    scconf needs strlcpy too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3020 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2e004d09b70c41ad21b025de244fd9062b7be9a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 20 12:32:59 2006 +0000

    ntohl is in ws2_32.lib / dll.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3019 c6295689-39f2-0310-b995-f0e70906c6a9

commit a39e3824e4a598df7d338e0c4caec0f323a47d12
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 20 12:10:05 2006 +0000

    don't forget part10.h (only used on windows I think).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3018 c6295689-39f2-0310-b995-f0e70906c6a9

commit a127dd93ef1b8fd39655483df7138aeecf8dd27b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 18 05:30:41 2006 +0000

    add option to write data objects; patch supplied by Cornelius Kölbel <cornelius.koelbel@lsexperts.de> et. al.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3017 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1104e92bdef3e97ee79dee61b14cdce134fc739e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 17 18:34:52 2006 +0000

    remove check for T0 as it seems to work for T1 as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3016 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4f8b149ee198f3665c75c44fb7b15283773e09f
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 14 12:56:06 2006 +0000

    use <option></option> for command arguments
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3015 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4742772a73e64ba422b4cdf2360b34ec7368127
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 14 12:46:45 2006 +0000

    using --pin with set --login
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3014 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35d3d51d478e2134a8a9184bf652eb2858d3c864
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 14 09:17:16 2006 +0000

    explicit that --module is to load a "PKCS#11 module (or library)" not
    just a module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3013 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e2e82dde92a1782a37b07aeb13d4ba14f3e3346
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 14 08:55:06 2006 +0000

    C_GetInfo(): use "OpenSC (www.opensc-project.org)" instead of
    "OpenSC Project (www.opensc-project.org)" for the manufacturerID to
    avoid a truncation at 32 characters
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3012 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1a87b6fa5f90b6b2f241445a7e61361916937a7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 4 20:01:20 2006 +0000

    Make sure every new opensc instance sees the card from the sight starting point.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3011 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3fab062b09c8df360c36e280b1e3e053b0d92d03
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 3 15:58:36 2006 +0000

    Update for [2836] chganges.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3010 c6295689-39f2-0310-b995-f0e70906c6a9

commit 198b68a6d3d0afee69273cc4ee04772ce318a438
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 27 18:25:43 2006 +0000

    shorten string, fixing #98.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3009 c6295689-39f2-0310-b995-f0e70906c6a9

commit d555218152e501a2c2f9625e801058ea71e95ac1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 19 08:44:22 2006 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3008 c6295689-39f2-0310-b995-f0e70906c6a9

commit adc082b95736477e9858423a20e8f6ec123b504f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 16 16:36:00 2006 +0000

     * Fix endianness for PCSCv2 part 10 IOCTLs
     * Add support for start/finish style IOCTLs
     * Add support for the same pinpad functionality on windows
    
    Some code from Robert Konklewski and Ludovic Rousseau
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3007 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4608716c53f71ae8c4f19fa9641f65886bc15000
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 13 21:20:05 2006 +0000

    Douglas E. Engert:
    Change PKCS11-Spy so it looks in HKEY_LOCAL_MACHINE, before
    HKEY_LOCAL_USER.
    
    This should not cause any problems, as the HKEY_LOCAL_MACHINE,
    "Software\PKCS11-Spy" would not normally be set, accept while
    the sysadmin of the machine as trying to debug a login type problem.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3006 c6295689-39f2-0310-b995-f0e70906c6a9

commit aec987df38c4286790856fce1402ead70e01bfa1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 3 21:05:59 2006 +0000

    build fixes for win; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3005 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5dbdd947593481d0855bf9c9b0f4d2fcf0c15d9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 2 19:43:13 2006 +0000

    fix warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3004 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42ad6be451632f0e8d0ba9d1a113b8ed6cfe313f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 2 19:31:34 2006 +0000

    win build fixes; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3003 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81fd37e61750eeb086125ab7e5794f3ce714d09f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 1 18:49:08 2006 +0000

    fix sc_compare_path_prefix(); patch supplied by Henryk Plötz <henryk@ploetzli.ch>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3002 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0037ceb09c933b1e17b44bc19e86712b2c8a6901
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 23 08:02:37 2006 +0000

    check the value of the pin type before accessing the array; patch supplied by Henryk Plötz <henryk@ploetzli.ch>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3001 c6295689-39f2-0310-b995-f0e70906c6a9

commit aaa71dd46a771fa33430240141eb1c15887f7588
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 18 20:37:07 2006 +0000

    spelling fixes by ville.skytta@iki.fi
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3000 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5efe5b3603f199cbc2acecc79ccbda0ddeb6b41a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 14 08:18:57 2006 +0000

    bugfix: copy the first n characters (if possible)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2999 c6295689-39f2-0310-b995-f0e70906c6a9

commit 886e63c60e2ea6092e02c9ad931f983f56fe6162
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 13 21:01:46 2006 +0000

    cardos v4.3b support
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2998 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae5866b2443a3b6157fe86d2eb16c3e4b4402604
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 13 20:40:50 2006 +0000

    don't accept invalid OIDs
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2997 c6295689-39f2-0310-b995-f0e70906c6a9

commit 940c67b78a985b2722b12f6213efd11cef9064ec
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 13 20:37:05 2006 +0000

    cardos v4.3
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2996 c6295689-39f2-0310-b995-f0e70906c6a9

commit d502887f5562cff7a9cfc16474fa1c55717acb42
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 13 20:35:17 2006 +0000

    bugfixes ...
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2995 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a5bf3602d1bb7f4ad3d756ea7293da862c9ea0e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 13 19:59:23 2006 +0000

    initialize pointer
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2994 c6295689-39f2-0310-b995-f0e70906c6a9

commit 126593aa01ca927a8491997cb9649ef998cd4fab
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 08:12:38 2006 +0000

    - use strlcpy() instead of strncpy() to always have a terminating
      NUL-byte
    
    - use sizeof(field) instead of SC_PKCS15_MAX_LABEL_SIZE-1 or equivalent as
      the 3rd argument of strlcpy()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2993 c6295689-39f2-0310-b995-f0e70906c6a9

commit 382a7d63011fb9b7f9f9c1ffafe634a627853f72
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 08:09:58 2006 +0000

    add $(top_srcdir)/src/common/strlcpy.c to libscconf_la_SOURCES since
    src/scconf/parse.c now uses strlcpy().
    
    Note that, since libopensc uses libscconf, strlcpy() will be available
    from any program linked with libopensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2992 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e922b5325ce4d77cba124e33808bac08d63618e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 08:06:59 2006 +0000

    add -I$(top_srcdir)/src/common so that strlcpy.h is found
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2991 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ce3d4c663a384c9224c7e4b728c1a1c40c1ce47
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 08:05:54 2006 +0000

    add strlcpy.{c,h} from
    ftp://ftp.openbsd.org/pub/OpenBSD/src/lib/libc/string/
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2990 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2495268d98ea753de62b5094c697e7d570297bde
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 07:43:38 2006 +0000

    - remove src/common/getopt.h since it collide with /usr/include/getopt.h
    
    - replace @GETOPTSRC@ by $(top_srcdir)/src/common/my_getopt.c in
      Makefile.am files
    
    - change the detection of getopt_long in configure.in since GETOPTSRC is
      not used anymore. my_getopt.c is now always compiled and used but
      provides getopt_long() only if HAVE_GETOPT_H is NOT defined (ie. if
      getopt_long() is not provided by the system)
    
    - src/common/my_getopt.c: the code is within #ifndef HAVE_GETOPT_H
    
    - move the useful lines of src/common/getopt.h in src/common/my_getopt.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2989 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1eb33bc946c926d60045112cfce90eeea43fc4e8
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 07:32:40 2006 +0000

    rename README in README.my_getopt
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2988 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39a4d12795376e03f620ec910575d0f2384f472e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 12 06:41:10 2006 +0000

    use LIBASSUAN_* instead of ASSUAN_* so the assuan library is correctly
    found and we avoid "undefined symbol: assuan_strerror
    (.libs/opensc-signer.so)", etc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2987 c6295689-39f2-0310-b995-f0e70906c6a9

commit fdd0baa633a6cec2d4a6a1f18cf637acb1cdd623
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 11 22:25:45 2006 +0000

    bugfix: return error if OID is invalid
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2986 c6295689-39f2-0310-b995-f0e70906c6a9

commit c044be5c725abe3bc8afcca2bda64aa14a2026f2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 11 21:43:44 2006 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2985 c6295689-39f2-0310-b995-f0e70906c6a9

commit a29a92686e7f8b7c6d8eb970e179eff547c595fa
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 8 12:31:33 2006 +0000

    changes for cardos 4.3b
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2984 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6287cf4d9beb6349f839541d4f05e3e5117e53c9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 5 19:45:53 2006 +0000

    replace static buffer with dynamically allocated buffer.
    patch by Tomasz Lemiech to fix a problem with setec cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2983 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7dd7df4e7c01b6338a036f2da78c38cc952964a8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 5 19:36:26 2006 +0000

    Tomasz Lemiech wrote: I found that struct c_asn1_odf[] in pkcs15.c does not
    define secretKeys object (as specified in PKCS#15 v. 1.1 standard, par. 6.2).
    I consider this to be an omission. My Setec card contains objects of this type
    and all PKCS#15 operations fail with "Unable to parse ODF". Attached patch
    fixes this issue.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2982 c6295689-39f2-0310-b995-f0e70906c6a9

commit 607e85ad9b2e6b221ffe35ad566dc6a97ea86c99
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 27 21:54:24 2006 +0000

    add new atr reported by Sven Loeschner as Cryptoflex 32k Card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2981 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee3724047919177761258b693cccb313cf610e3f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 27 17:56:19 2006 +0000

    Added doxygen comments
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2980 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf23c032ca18ebe35f5bb06e4cad0faefac51389
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 27 17:49:19 2006 +0000

    Endian-independent way to convert numbers to a byte array + vice versa
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2979 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec3892773151428b282199ec00d934e2c32ad153
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 26 21:03:11 2006 +0000

    check for environment variable first on windows, too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2978 c6295689-39f2-0310-b995-f0e70906c6a9

commit fae6f3feae828f42144f3d5f8328050872c8670a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 23 16:09:18 2006 +0000

    fix apdu types and response buffer length
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2977 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6df2a05975d499b09cee4fde52fdd7475d664a0a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 21 20:05:17 2006 +0000

    bring implementation in accordance with the docu in opensc.conf
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2976 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1d9cda57cc654a699b0ac272671d840796bec46
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 19 23:04:13 2006 +0000

    the cryptoflex manual states the last two bytes of the atr are some
    software version so we can ignore them. use the atr mask to do that.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2975 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c9c6aaff0997d375c3e7331b707cb796709747b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 19 19:01:39 2006 +0000

    fix docu
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2974 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6d96437c4af0b8c83dfa9009e414e8f5f72fd97b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 18 20:52:10 2006 +0000

    The applet returns unexpected values when entering a wrong PIN; this is a work-around by Thomas Harning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2973 c6295689-39f2-0310-b995-f0e70906c6a9

commit 409fe3a9a0ffc1c266e7b5bb638b12fb44bb6de0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 17 15:07:49 2006 +0000

    fix warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2972 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88bae5c923e440811f2e2c9f88029bc982455322
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 17 12:24:04 2006 +0000

    remove iso logout function, remove dummy logout functions and remove logout call from sc_unlock()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2971 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56914205886a3d35a9fd391c9e74ecb1e92114ef
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 16 20:47:59 2006 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2970 c6295689-39f2-0310-b995-f0e70906c6a9

commit 746dc392d8d6ca09d822105fedbdae346efe995a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 8 08:12:50 2006 +0000

    Fix makefile: add muscle files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2969 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50490acca0c32b37c71b8e86748648b7a2811ade
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 7 08:33:37 2006 +0000

    Added support for MuscleCard applet. Thanks to Thomas Harning, David Corcoran of Identity Alliance
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2968 c6295689-39f2-0310-b995-f0e70906c6a9

commit e225efc982df05c54414ee7dc9a599bd283603a3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 6 06:00:51 2006 +0000

    add new card reported to work by  Christian Koegler. Thanks Christian!
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2967 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd9e42af3bbfe1efd06e330a91d78e3ef1c911e1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 30 20:59:15 2006 +0000

    commit NEWS update.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2966 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9dd89e53ba48ab9376f8c1185c142ed02db0d51
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 23 20:53:15 2006 +0000

    sprintf bad. maybe even potential exploitable?
    bug found by ville skytta using pscan.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2964 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d1f80d9fa23938afa1dae9ba6a86c49d7ca9bd0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 23 12:55:40 2006 +0000

    fix compiling netkey-tool on win32.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2963 c6295689-39f2-0310-b995-f0e70906c6a9

commit d42495b01d49e7b26a856f23e0acb7dd363abe72
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 23 09:09:29 2006 +0000

    try to fix windows compile (include netkey-tool and cryptoflex-tool).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2960 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f64e9d3f17af1d05f7d88112167d6bc636020bd
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 20 16:06:42 2006 +0000

    make objects on piv card public.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2957 c6295689-39f2-0310-b995-f0e70906c6a9

commit c7a5ce3b50dcd5a98328b9efde99cb0a7954b291
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 20 16:05:14 2006 +0000

    revert prior change as it breaks the regression tests.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2956 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c56f74b6ccb89f3e26bb31bd1a5eb8ec6e5c057
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 17 09:07:17 2006 +0000

    pcsc_connect(): use an explicit debug message if the reader supports PIN
    verification/modification but that feature is not enabled in opensc.conf
    (enable_pinpad = true)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2954 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfe05f31dce164e66b5ca2346b98837a10854bbb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 15 18:48:30 2006 +0000

    check for existing public key before creating one from the certificate; patch supplied by Albert Solana <asb@c3po.es>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2953 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77ce30fe264aefabd655da154b4cfbb413127302
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 12 20:03:45 2006 +0000

    Douglas E. Engert:
    removes the private bit on the pubkey. Without this change the openssl req with engine can not be used to generate a certificate request, as it will not be
    able to find the public key that should have been saved by the piv-tool when
    the private key was generated on the card.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2951 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45007b3da71d2170d21228e34c79ae568901801e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 12 20:01:26 2006 +0000

    compile fixes for win32.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2949 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f5595a1e35b2545f3956a5f78321c5408ac37d3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 10 06:18:00 2006 +0000

    document changes so far.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2948 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cab6858e63a0d574b21fcc0b90ca6b34f3532a3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 10 06:14:56 2006 +0000

    trunk is now used for changed past 0.11.1.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2946 c6295689-39f2-0310-b995-f0e70906c6a9

commit b28f8ed9c4ef3b1591c1405a2cc84e29947ffc3e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 9 21:35:07 2006 +0000

    improve buffer length check
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2943 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7110c593bc75b082e43af05db7a6ba749f9e39d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 9 19:39:33 2006 +0000

    oops, we forgot to update the version. fix that for opensc 0.11.1.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2942 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c39b21b991002b8e0300cc996032d64b1403655
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 5 10:35:02 2006 +0000

    set the default for lock_login to false (as documented in opensc.conf)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2941 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd44fd8234b2bdcdb77241d0369308256c25f4cb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 5 10:10:00 2006 +0000

    if the card doesn't support a logout functionality it's not an error
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2940 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b52eebddae87d669376ce35525d6eef28fada7b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 5 10:06:38 2006 +0000

    bugfix: Le must be <= buffer size
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2939 c6295689-39f2-0310-b995-f0e70906c6a9

commit d78f5ad5c29eeba9c1ed59d47221862e45de8b33
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 4 06:50:56 2006 +0000

    piv fixes by Douglas E. Engert.
    This patch will allow a flag in the opensc.conf file to be set to
    only expose the PIV authentication certificate and matching keys.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2938 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e5ed96912985c745310f4d09a8954794e1583a3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 3 07:16:38 2006 +0000

    use correct ef attribute in switch statement; thanks to Chaskiel M Grundman <cg2v@andrew.cmu.edu>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2937 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21c821194bc9d8e7917da2a2a8cff1946aa75c6e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:27:06 2006 +0000

    close memory leaks.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2935 c6295689-39f2-0310-b995-f0e70906c6a9

commit a48fe86b6693f4e82326b8b7d9b69baec8f7add5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:26:17 2006 +0000

    close some memory leaks.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2934 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65a2cabffc011d1a069947c3970697104edcf411
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:23:15 2006 +0000

    make sure result is null-terminated.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2933 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6cfbd9d4f91c6b29310f512b838fc0819b6a1f02
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:22:25 2006 +0000

    at least partialy close memory leak.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2932 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45742fc5d09da271f5b2ff6068acad9c032b4fb0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:21:16 2006 +0000

    check df before dereferencing it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2931 c6295689-39f2-0310-b995-f0e70906c6a9

commit 449a1841b1f237ff0032e7ee01d0d2f083ab9849
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:20:22 2006 +0000

    free(data)
    (allocated by sc_pkcs15_read_data_object, no reference kept anywhere).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2930 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5cb1c13c453c6310e9e4c37fe71484f7ae20c9e7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:17:11 2006 +0000

    if exec() fails, exit with return code 1.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2929 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56082ee3a03fe55cd970ddb6bfb3915a7859e0fb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:16:48 2006 +0000

    initialize with NULL, so the later check for NULL will work.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2928 c6295689-39f2-0310-b995-f0e70906c6a9

commit b507ee68e4d64011bf9191ed6d7e810b74593cf5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:12:36 2006 +0000

    add support for d-trust cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2927 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8fe04d5a86fc00f421ec974425541ed7a1757398
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:10:35 2006 +0000

    revert bogus change.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2926 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6258b954e3d2be94f7ffbf1c51edbaf4cf8fe8ad
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:07:53 2006 +0000

    bogus change, no segfault here.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2925 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c6baba8e7508c2c19b7b82b6d72ca1013a317a6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:06:35 2006 +0000

    revert bogus patch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2924 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab0066b0d78b77447c15280a6ed67b108de17789
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 10:02:50 2006 +0000

    fix printf size_t problem with "%lu" and (unsigned long) cast.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2923 c6295689-39f2-0310-b995-f0e70906c6a9

commit 181fb6fb82d24d4195a9c0fd6f7cb996c622f237
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 1 09:20:16 2006 +0000

    Document changes since 0.10.0-rc2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2922 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60d9e4bf0e52c7c377c1e499f56af967f1725332
Author: pk_opensc <pk_opensc@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 29 22:10:32 2006 +0000

    TCOS-Emulation, support for Uni-Giessen card
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2920 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b4e6a5e980ba0d6cebcd592567df50070b2784e
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 27 20:44:24 2006 +0000

    fix a memory leak that occurs when the APDU exchange fails
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2919 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c7c045ef6d6f90e822bf4e16da631e590cbeb38
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 11:54:34 2006 +0000

    trunk will contain work done after 0.11.0 release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2918 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41ff15ec1f686dc26cb7b322bd1cb82536cdf68b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 11:41:57 2006 +0000

    fix signed and size_t warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2916 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03f5827c300684a0e741c19e80dbb19518d032c4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:08:00 2006 +0000

    make sure buffer is 0 terminated.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2913 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2327835416fe7307664906f0501f5cdabfb47ecb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:07:20 2006 +0000

    fix a memory leak.
    don't access buffer beyond length.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2912 c6295689-39f2-0310-b995-f0e70906c6a9

commit 878f9c3de2038cc6cd6e9b4388bb20a7f26fda49
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:05:55 2006 +0000

    maybe it would be good to check the return value?
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2909 c6295689-39f2-0310-b995-f0e70906c6a9

commit 156e3a574d1548822d3f85062e4816106c706af5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:05:21 2006 +0000

    maybe it would be good to check he return value?
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2908 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5dcaeccb1e9c643ee149a0c97c3c90464206a24d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:04:33 2006 +0000

    fix double free and segfault.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2905 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8df47f6bb0878e7ae45f411b4adcae267e79bb53
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:02:31 2006 +0000

    fix memory leak.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2904 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ffd0f1d793863494855803cfd2172acb27e7331
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:01:52 2006 +0000

    remove dead code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2902 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3066830238b16eb141731f41355ebd65336472b8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:01:06 2006 +0000

    close memory leaks.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2899 c6295689-39f2-0310-b995-f0e70906c6a9

commit beb55b8104bf1dd38d1f7d1fbe98e9196a048607
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 10:00:23 2006 +0000

    not sure it is a good idea to ignore the return value.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2898 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8fa4891bded653e83639744b3d1a3cec7cc75ab2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 09:59:27 2006 +0000

    no idea how to fix, at least document it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2895 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96cb7fa722f6cd3d7361734894ff53c3fdfe7eff
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 26 09:58:47 2006 +0000

    fix off by one bug.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2893 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1810d4d3fb501604374c0987f4c97e68c9892f71
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 24 18:41:57 2006 +0000

    tcos updates by Peter Koch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2891 c6295689-39f2-0310-b995-f0e70906c6a9

commit 347c5b04960d26e9572f3e53c111666e896b5f0b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 18 15:15:45 2006 +0000

    remove a function that is no longer used at all.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2888 c6295689-39f2-0310-b995-f0e70906c6a9

commit 807b4c72755ea59e5f608f4714b49d74ce32f77c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 18 15:15:02 2006 +0000

    improve regression tests: cleanup failed/ and out/ folder.
    specify path to opensc-pkcs11.so module.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2887 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5adad6431ae117d5fa76cfd5277368498a8a51d3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 18 08:16:21 2006 +0000

    Lindent so the result is easier to read / diff.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2886 c6295689-39f2-0310-b995-f0e70906c6a9

commit 022268305814566fb9bbe382c4f6812ed504b826
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 11 20:50:13 2006 +0000

    Douglas E. Engert wrote:
    The attached change to card-piv.c is need to recognize a
    valid PIV card applet. All of the previous test cards would
    return in response to a SELECT the full AID where as they
    should have returned the the PIX portion of the AID. The newest
    test cards are now doing this correctly.
    
    This change will recognize either as a PIV applet.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2885 c6295689-39f2-0310-b995-f0e70906c6a9

commit 435d8ac62be1aff16bef98a7cc89811b9e43aaec
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 6 18:41:12 2006 +0000

    There doesn't seem to be a need to leave the certs (and CDF) unprotected. In case there do are problems, please revert this change
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2884 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9409c278df704c7fcad385bc5b4e1be5397dde00
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 6 18:38:20 2006 +0000

    Set the user pin reference when writing a cert. If not, there's a problem with the onepin profile option: the CDF (and certs) will be created with NONE ACs instead of ACs that refer to the user PIN
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2883 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95163a2678dc133d22f8c3495809d30bb0ff7cca
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 6 18:35:01 2006 +0000

    protect certs by default
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2882 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83c7dc904515c3ceec80195254a44bc824046aaf
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 3 10:42:00 2006 +0000

    return an error if offset is too large
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2881 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41d35027cc1d6b28ab9c880c6ab1ebeb7a549e26
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 24 23:54:12 2006 +0000

    install signer in libdir like everything else.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2880 c6295689-39f2-0310-b995-f0e70906c6a9

commit b791b1d6bcf3b416a2ec089b593a0546204f3e14
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 24 10:55:33 2006 +0000

    check the private flag of public key objects; patch supplied by Albert Solana <asb@c3po.es>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2879 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1180345d75f3e7b37a09d5ef5781ac735a7f47a5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 24 08:06:19 2006 +0000

    Threading: Reader locking can fail as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2878 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8be396fee3d344678349529172a396de22d92087
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 22 21:44:09 2006 +0000

    add function sc_reset() to reset a card; patch supplied by Josep Monés Teixidor <jmt@c3po.es>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2877 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40e6c491ed7f23479de3713d21212ec040ec2c36
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 22 17:12:00 2006 +0000

    fix ACs; patch supplied by njustin@idealx.com
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2876 c6295689-39f2-0310-b995-f0e70906c6a9

commit 158fce9147bf5ec1fe41ef8626850d2428966382
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 16 21:37:25 2006 +0000

    simply the revision, drop the m4 code.
    it didn't turn out the way I wanted it
    (does not contain the _repository_/_branch_ revision).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2875 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e170f689e20852cb2161b1abc6f9517328d90d5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 9 20:35:19 2006 +0000

    initial support for the Swedish NIDEL card
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2873 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b8a2f4d905e7ddea3a07b63f64dc8dd5bd17c31
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 7 07:22:58 2006 +0000

    sc_pkcs15_parse_tokeninfo() and sc_pkcs15_encode_tokeninfo() now use a
    (sc_pkcs15_tokeninfo_t *) instead of struct (sc_pkcs15_card *)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2872 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6737a4dc5c0a98b30f10b46b16027bf1c31a2162
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 6 09:21:22 2006 +0000

    __sc_ui_read_pin(): use "%lu" and (unsigned long) cast to print a (size_t)
    value (size_t is 32 or 64 bits depending on the platform)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2871 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34098ec173ed0c1335f93280e17d46b52ab30fb8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 6 07:58:10 2006 +0000

    small fix - \& was left from cut&paste from a man page.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2870 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e617f93d7343dc1756bc2f01eb622cf708c42a9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 5 19:43:38 2006 +0000

    document --unblock-pin / -u option.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2869 c6295689-39f2-0310-b995-f0e70906c6a9

commit 383602b6fe9f6bbb8de986c600d908988350bb85
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 3 22:56:41 2006 +0000

    - move logging to the reader driver
    - log APDUs only if DEBUG is defined (sensitive APDUs should
      never be logged and we cannot know whether a APDU is sensitive
      or not => enable APDU logging only in a non-production debug
      build)
    - remove OPENSC_DONT_LOG_SENSITIVE configure option as it's
      needed anymore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2868 c6295689-39f2-0310-b995-f0e70906c6a9

commit beb9d34db09530fb50ea09853d22234e81591384
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 3 21:10:02 2006 +0000

    add some doxygen comments
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2867 c6295689-39f2-0310-b995-f0e70906c6a9

commit d893720f03ceae3eb211f7360770209e6ab08f42
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 2 18:24:45 2006 +0000

    add note
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2866 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b25ca27e9dde11681498b58b4d1e09e9d22b73f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 2 16:17:05 2006 +0000

    remove useless code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2865 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1c9ee90877d8d86f04cac2555c73af4283200e0
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 2 14:16:52 2006 +0000

    sc_pkcs15emu_actalis_init(): define 3 variables only #ifdef HAVE_ZLIB_H
    since they are used in this case only
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2864 c6295689-39f2-0310-b995-f0e70906c6a9

commit 984d652072f651bc7cef2c8b8c116facd3ffc115
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 2 14:12:39 2006 +0000

    __sc_ui_read_pin(): use %lu instead of %u to avoid a warning: format
    '%u' expects type 'unsigned int', but argument 3 has t ype 'size_t'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2863 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0bc5cb45fef95ea00c5eac003f80f3837ea9124d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 1 22:34:54 2006 +0000

    mark second parameter of sc_disconnect_card() as unused
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2862 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1ef4ec241e63d43c3433f3e122b4362116814c8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 1 09:45:09 2006 +0000

    Remove the disconnect action from internal reader api
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2861 c6295689-39f2-0310-b995-f0e70906c6a9

commit b93d6b156258d8da1e88a4e15156159087eb6cbe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 27 20:11:33 2006 +0000

    use absolute paths when caching files
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2860 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b0119ca6d006678d84e813e1e71685efcc661c9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 19:15:06 2006 +0000

    change name + fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2859 c6295689-39f2-0310-b995-f0e70906c6a9

commit 126595bb07d0073492f4aa83575e7cf20e049f1c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 18:43:14 2006 +0000

    fix some warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2858 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a9912233d514fe4d71ec6475379a18641f1e055
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 13:40:03 2006 +0000

    Fix for a segfaul. Patch provided by Albert Solana Berengu
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2857 c6295689-39f2-0310-b995-f0e70906c6a9

commit 530dc0916d0573aba8e8b454e4405fbb8f748e3d
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 11:49:22 2006 +0000

    Add an example config entry for PIV cards and remove a card matching black hole
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2856 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9213a29a3432af687aa9f3033698e73b593a4189
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 11:02:24 2006 +0000

    Small fixes for windows compilation (Visual Studio Express 2005)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2855 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3e85106c7e0fb34a2f692b5d0fd445030a20156
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 11:01:13 2006 +0000

    Add a section for tokend
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2854 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2d4d6a9bc3923a2a5b8bac7fc4ab512a9eda82b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 23 08:10:07 2006 +0000

    NIST 800-73-1 certs aren't protected by a pin anymore; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2853 c6295689-39f2-0310-b995-f0e70906c6a9

commit 149b5cf187a0f0fefdcd8ca03755f57c713da1fc
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 22 20:35:57 2006 +0000

    use sc_format_oid()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2852 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8410084f0e18b40e63bc2de5c5bc45ac2cad6802
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 17 21:06:31 2006 +0000

    fix warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2851 c6295689-39f2-0310-b995-f0e70906c6a9

commit aa5d081c3a0bc459c52a037d7ef0394e53dfd8c3
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 17 11:22:21 2006 +0000

     * Also delete .pdb files on windows when doing a clean
     * Call directly internal pcsc transmit method for pcsc pinpad calls.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2850 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99a28c35bada8a9d181f95afeeba149527219c4c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 16 21:45:53 2006 +0000

    add support a TCOS card used at the uni Giessen; this is still experimental
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2849 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c42d1dc8c1fbd551f4cba03c21c099632acd641
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 15 17:29:40 2006 +0000

    use sc_ctx_get_reader() etc. instead of of accessing the structure members directly
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2848 c6295689-39f2-0310-b995-f0e70906c6a9

commit a092e863b824622f79a2eb6c55d816c613a1e9d4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 15 17:05:05 2006 +0000

    fix some warnings + cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2847 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c6f8d0ea9d284b69c46dcfdf37e8abf719cda93
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 15 08:10:45 2006 +0000

    fix warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2846 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7dbbade0f656cb964029625c422cc6d32a94b5df
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 15 08:07:29 2006 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2845 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f65fbe10e01d8a5c57e447d520146bf1d5094cc
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 14 22:46:54 2006 +0000

    a unblocking pin could be used for authentication as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2844 c6295689-39f2-0310-b995-f0e70906c6a9

commit a00caa5cc7616137b91e2f963b51909d2a88dca5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 14 22:41:02 2006 +0000

    undo commit in pkcs15-tcos.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2843 c6295689-39f2-0310-b995-f0e70906c6a9

commit b051b085846967795299e4bb92e19e1028b1048c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 14 22:09:10 2006 +0000

    add initial PIV card support; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2842 c6295689-39f2-0310-b995-f0e70906c6a9

commit d02aaf37debb5ca8f55baa1c454933b0d64f2fbe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 14 22:04:47 2006 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2841 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c926455d06df7e5c79ad926865bdcb0a63a4732
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 12 18:30:53 2006 +0000

    add support for two byte tags in sc_asn1_find_tag() + normalize return value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2840 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8494d9cfde65402b388c031080254d42448ea5d3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 12 18:29:52 2006 +0000

    add support for two byte tags in sc_asn1_find_tag() + normalize return value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2839 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c1a0a1548b7d5965593e2fd35b5760b7f888702
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 12 17:37:39 2006 +0000

    don't bind the pkcs15 card twice
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2838 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2194b98033dc5c36ea316af191b4afc07aef0aa
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 12 17:07:31 2006 +0000

    fix memory leak
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2837 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55631edf3bf571c53e13765bca75a5742cd32532
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 9 20:05:20 2006 +0000

    support private certificates; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2836 c6295689-39f2-0310-b995-f0e70906c6a9

commit bce076d325a54752b4511f99ea4697324035712f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 8 22:25:09 2006 +0000

    pkcs15 emulation changes for the TCOS cards, patch supplied by Peter Koch
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2835 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd64e11956a9bfd0422b8c6c402a7ac455664fa0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 8 16:29:32 2006 +0000

    apdu_masquerade is gone
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2834 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25e5c95ddeb343fa80b3738b07a05760d030dada
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 7 20:14:43 2006 +0000

    use sc_context_create instead of sc_establish_context
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2833 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e77e8755100c1c055dbca50d4795d165ac0e5c7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 5 19:35:55 2006 +0000

    sc_mutex_destroy should have a return value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2832 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca2a5e11fd4a5bf235eb9971bf4b0ca1cecccb65
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 5 19:00:01 2006 +0000

    - move APDU encoding to the reader layer
    - remove APDU masquerading code, it shouldn't be necessary
      anymore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2831 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85aaa4466dd9d5796df815631838e31ac1731f4f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 3 21:24:11 2006 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2830 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c3aed11892da2d37eed1733fc2bfbd06b040022
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 1 22:59:42 2006 +0000

    - remove dependence on a specific threading library
    - add two new structures: sc_thread_context_t which let
      the user specify the mutex functions to use and
      sc_context_param_t to specify parameters for the sc_context_t
      creation (including mutex functions) using sc_create_context()
    - add new function sc_context_create()
    - remove timestamp code from libopensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2829 c6295689-39f2-0310-b995-f0e70906c6a9

commit 670c0ee0639e3905636ac7d8875bb94bc8925c44
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 31 15:53:44 2006 +0000

    Rename: _get_conf_block -> sc_get_conf_block and put it into opensc.h
    
    This way it can be used by OpenSC tokend module.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2828 c6295689-39f2-0310-b995-f0e70906c6a9

commit 525613ad5ad09bbaa10bfac2fe593eb16bc80b28
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 26 19:02:02 2006 +0000

    add atr and os identification for cardos 4.3 (plain, not b, not likely
    to be ever seen, but 100% compatible to 4.3b as far as I know - only slower).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2827 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2cc82fe774ad6eb4731cc84bfdbb12ba7170bc56
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 22:02:07 2006 +0000

    rename lower level function, fix typo.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2826 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0c9f049a7de5a53307d4e2e94c30c6e5e933d5d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 21:48:08 2006 +0000

    big rename etoken -> cardos, part II.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2825 c6295689-39f2-0310-b995-f0e70906c6a9

commit d501480a299c3c39fa998d789ff9329815aac094
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 21:44:37 2006 +0000

    move renames.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2824 c6295689-39f2-0310-b995-f0e70906c6a9

commit aa2d502ece20dde36beb408a8ee3e1650f155c67
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 21:43:01 2006 +0000

    rename everything namend "etoken" to "cardos" :)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2823 c6295689-39f2-0310-b995-f0e70906c6a9

commit 823bbffbe65f1511849428637cd216c82ddbac2c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 21:39:20 2006 +0000

    rename card-etoken.c to card-cardos.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2822 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e9037d12f2c21bd0e663252fb722ec9740ab9c7
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 18:09:37 2006 +0000

    If, for some reasons, card can not be initialized (broken) then
    we must make sure that we release all resources (disconnect the card).
    
    If not we can only have 16 tries with a longrunning application (number
    of contexts inside pcsclite).
    
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2821 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e410e5f6c0402aec409d7a79bf25617ed9ecfd2
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 17:37:10 2006 +0000

    Some cleanup/fixes in micardo/esteid code related to new apdu.c
    Now it works again ;)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2820 c6295689-39f2-0310-b995-f0e70906c6a9

commit 723888d623d7f7603ad31973019bbffce77a26b4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 23 17:29:59 2006 +0000

    Negative r has a meaning in the cached file logic, so be sure to reset it to -1
    after sc_print_path has returned a value.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2819 c6295689-39f2-0310-b995-f0e70906c6a9

commit b07df409324133483ff9ea3731df08d438933bc3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 22 21:15:07 2006 +0000

    change more opensc.org references to opensc-project.org till dns is back.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2818 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f94c5f499571f989f2ffdd5d28bfbccbf0de8ae
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 22 21:07:00 2006 +0000

    moved to opensc-project till opensc.org dns is back.
    fix openct references to opensc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2817 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41ee07a70885c3f1978feaf60c2466062f925ce9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 21 11:53:30 2006 +0000

    increase size for bigger keys
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2816 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8c05ca64833092665d2783da441ee74284a6bd1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 20 20:52:36 2006 +0000

    use more opensc specific names for ASN.1 tags to avoid name conflicts
    with other ASN.1 libraries
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2815 c6295689-39f2-0310-b995-f0e70906c6a9

commit 059c1ffc5d32c4be3be677e190c9a724e5d23d25
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 12 09:37:40 2006 +0000

    doc/old is gone.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2814 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1322ecd39c3d76d21bdd354418996f28b24751d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 12 09:36:58 2006 +0000

    remove old man pages (replaced by new man pages in xml format).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2813 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8fac2eaac266007944cba8d3f527c2620ae1e151
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 12 09:36:16 2006 +0000

    remove old documentation (replaced by wiki).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2812 c6295689-39f2-0310-b995-f0e70906c6a9

commit de4b5c280f2b4f83e885de13440c27242d1fdc29
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 11 23:41:17 2006 +0000

    - implement thread-safe path printing function sc_path_print() and use
      it src/libopensc/ and src/pkcs15init/
    - use size_t for the certlen parameter of sc_pkcs15init_update_certificate()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2811 c6295689-39f2-0310-b995-f0e70906c6a9

commit 363d9be8615e3032343637a9bbad844513870c36
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 7 23:40:36 2006 +0000

    Get rid of handwritten sc_read_record calls
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2809 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc2410a5344c43d6b3058a2c0af7c524241163cb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 5 22:21:41 2006 +0000

    the current code requires a pointer to a integer, note: it's actually not a bug when foo_item is NULL as the necessary scconf_item object is created by scconf_item_add_internal
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2808 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f943aa2b4d602ea5ec93f76238ec6ba40c8ebc4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 4 18:52:52 2006 +0000

    don't segfault if no config file could be found (win); thanks to Nicolas Justin <nicolas.justin@idealx.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2806 c6295689-39f2-0310-b995-f0e70906c6a9

commit fcb7b6501038db01c0aa8de85d24a7d1a2c37d12
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 3 22:46:49 2006 +0000

    increase buffer size for the serial number to 9 as we need 8 bytes for serial number plus 1 byte for the terminating 0 character
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2804 c6295689-39f2-0310-b995-f0e70906c6a9

commit f674204d6365698da78b55df91977bee690d13fb
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 3 16:24:54 2006 +0000

    Add possibility to change pkcs15 attributes (currently only the label)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2803 c6295689-39f2-0310-b995-f0e70906c6a9

commit ddd696482b44ca8343cd4c96eaa5d4d8c75bc161
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 3 14:42:30 2006 +0000

    Forgotten to add in r2773
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2802 c6295689-39f2-0310-b995-f0e70906c6a9

commit f18b38fe7f75a74f6803cf021b6db00cb2ce573d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 1 23:11:00 2006 +0000

    summary: -add more general path concatenation function
              sc_concatenate_path() and let sc_append_path use it.
             -add function sc_compare_path_prefix to check whether
              a path starts with a certain sub-path (prefix).
             -add some doxygen docu to some path handling functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2801 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5d0ec212ed8325d359d804294757de145cf23eb
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 30 10:34:29 2005 +0000

    Typo fixes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2800 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a5a5c9b76a35a0d02de75669e7e710bca1090a7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 28 20:20:18 2005 +0000

    "cat xxxx" is not supposed to create errors (on record structured files).
    so silence it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2798 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6a5c6b2217850fe8b1b37f3786f111f9bb6600b9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 28 20:15:32 2005 +0000

    fix warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2797 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35052fc28a996fa8a328fbe465c6fbfe7fece345
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 28 20:05:28 2005 +0000

    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2796 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe3e93b6255fffb2ef5c2b826a2d2f4836e4915a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 28 20:01:43 2005 +0000

    summary: -complete rewrite of the APDU/transmission handling
              code (should now support extended APDUs and is
              hopefully better documented. Note: support for
              the T0 ENVELOPE command is still missing due to
              a lack of test cards).
             -add new APDU case constants SC_APDU_CASE_2 etc.
              which let OpenSC decides, based on the card
              capabilities, whether to use short or extended
              APDUs.
             -add new capability SC_CARD_CAP_RSA_2048 for
              cards supporting 2048 bit RSA operations (note:
              this is more a preliminary hack)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2795 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5861f986e93dd7d25ce29e807ff39d14cf2f6db1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 28 19:41:11 2005 +0000

    remove unused variable
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2794 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5902e4f0c03ad542f039f6fe312b4b8f9e30fd6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 28 19:38:55 2005 +0000

    add support for cardos m4.2 (still experimental)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2793 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1d7384e8a0c4065272a01a69c8ad85fd1458a01
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 27 14:11:35 2005 +0000

    If there's less data ina file/record than requested do not fail but return as much data as was available. This behaviour is similar to read(2).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2792 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0548ceb618057111cad018db714109d7caf42237
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 27 13:41:23 2005 +0000

    If SCardControl fails there's nothing bad going on - just there's no support for this feature.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2791 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd646762bf6b2616a222abdb066e477a6f98a173
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 27 13:39:51 2005 +0000

    hav commented configuration lines have the opposite values of hardcoded defaults.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2790 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07fc5e4d04000302c5f297b6342da644686f4372
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 26 23:09:44 2005 +0000

    use svn revision based version numbers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2787 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86c4e23ec5f7012a42b90d7e6d966904e7b50ce1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 26 18:50:21 2005 +0000

    tcos update by peter koch, adds interoperability with th darmstadt cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2784 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1eec6aca76c0bd8bb3e303e7d791e79cedde178
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 23 11:23:29 2005 +0000

    Added default debug/log file locations for Windows
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2782 c6295689-39f2-0310-b995-f0e70906c6a9

commit 551bcc89fae0fdded18e2919d318ec264241a52d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 23 10:15:17 2005 +0000

    Referted the 'Fireofox 1.5' fix in log.c and replaced it by letting a blocking C_WaitForSlotEvent() return CKR_FUNCTION_NOT_SUPPORTED. This isn't a solution for the multihread problems (things hang or try to log to a released context) but at least it solves the Ff 1.5 problems
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2777 c6295689-39f2-0310-b995-f0e70906c6a9

commit e56c7a9110a5303a53527fcc8bde14e05897b6eb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 22 15:54:44 2005 +0000

    use correct apdu case and set Le value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2775 c6295689-39f2-0310-b995-f0e70906c6a9

commit 573ce9c9e529048e70cf59db66a556848ecb1d5d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 21 21:19:37 2005 +0000

    suppress errors when EF(unusedSpace) is missing
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2774 c6295689-39f2-0310-b995-f0e70906c6a9

commit df6657ea184f78f111cbdd058641a0671eb98c59
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 18 07:54:18 2005 +0000

    Belongs to the rev. 2769 patch for adding EF(UnusedSpace) support
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2773 c6295689-39f2-0310-b995-f0e70906c6a9

commit ced2df6b1a96073bd27279cedebf884b68f45db2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 17 21:52:53 2005 +0000

    remove unused variables
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2772 c6295689-39f2-0310-b995-f0e70906c6a9

commit 103979ec3711f375072f2d9427cf30e7b4e2c75e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 17 20:54:29 2005 +0000

    fix key usage flags and ensure that we are in the correct lifecycle
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2770 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9df2cde416342f65ae466e703d3d3acb9657c1dd
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 17 19:53:12 2005 +0000

    Add support for reading and writing from/to an EF(UnusedSpace) file; this functionality can be used for deleting and creating pkcs15 objects (that reside in a file)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2769 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ce3f13bacdcb2263bd50824d0adc8dd1103b8fa
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 16 20:52:01 2005 +0000

    add cardos m4.2 and print the startkey version in hex
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2767 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2400d07956fcdbba9a0ad7b9aba5a4e85ef5607
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 14 10:59:57 2005 +0000

    pkcs15-tool needs openssl_libs also, if it is available.
    only older gcc versions found this problem, it seems.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2765 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1376a07cfa0f57ccaeeb56dc34138c77c32c5dc2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 12 20:38:19 2005 +0000

    fix APDU case
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2764 c6295689-39f2-0310-b995-f0e70906c6a9

commit 912946bf3f6059bbb2212dff8bee16a25e8d3ebf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 8 20:25:54 2005 +0000

    Fix for ticket #45: Firefox 1.5 and new Mozilla's crash when they are closed because there's a blocking C_WaitForSlotEvent() called from another thread then the 'main' thread that calls C_Finalize(); and this cause C_WaitForSlotEvent() to log to a NULL context -> assertion failure.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2762 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc763ba5d53726b4a26b1f1919c36667d9abd2ed
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 8 09:05:56 2005 +0000

    etcos_create_file_44(): use sizeof(pins)/sizeof(pins[0]) instead of a
    constant (7)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2761 c6295689-39f2-0310-b995-f0e70906c6a9

commit dce7d0024c82e8b59e249eca35ade5bde880863f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 22:09:28 2005 +0000

    oops, parm points to the first char, not to a pointer to the string.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2730 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1475978af55aee00e14a04569a832620835970f5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 22:07:54 2005 +0000

    remove unused variable item in scconf_put_str.
    remove unused variable ret in scconf_put_int.
    from the readme: "if parm not NULL, then ... parm points to ..."
    so we need to get the value of the location where it points to.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2729 c6295689-39f2-0310-b995-f0e70906c6a9

commit a533dc1292f7c4312a5bf5802781cf428093c12a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:59:04 2005 +0000

    free pub_buff in error path.
    removed unused pubfile variable and dead code.
    check prvfile != NULL.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2728 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71c91425c74e1457b6fa5b0b1c7de87623cc615f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:58:04 2005 +0000

    check prkf != NULL.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2727 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5ffc57e92f547e5ab5d4a815ab6bba95760e17b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:57:07 2005 +0000

    free profilke and pin_obj in the error path.
    check res_obj and keybits/keyargs before dereferencing.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2726 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc790e985bafdfdd07685463c68c18bcd52ec427
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:55:03 2005 +0000

    check p15card != NULL before accessing it.
    in the error path free file if it was allocated.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2725 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40c67035c5aa50a7d8ab6fb9574e4886dc79223f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:53:13 2005 +0000

    no code change, only easier to parse :)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2724 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad844b0f74b7e9868639672b12dface25cf27123
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:52:33 2005 +0000

    also check that priv->p15card is not NULL.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2723 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4bac6634a1e3af1e06a5d2afe7ac162647a3d75b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:51:50 2005 +0000

    for example if the card was removed, select file on the main
    folder will fail. so I think it is best to return the error.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2722 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51b72267ed361a6f3bc96e1a8aa5e61f7acecab2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:50:47 2005 +0000

    even select_file can fail (if card was removed etc.)
    so better check the error and return the problem, right?
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2721 c6295689-39f2-0310-b995-f0e70906c6a9

commit e49f78a360d44325c6bea89cf1a37da9b2502e66
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:49:59 2005 +0000

    fix typo on *paramp test.
    check alg_info always, not only in some case.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2720 c6295689-39f2-0310-b995-f0e70906c6a9

commit 252fa4b868c1bf647e9fd487c088a609674644bb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:48:43 2005 +0000

    check scconf_find_blocks returning NULL
    add a free(obj) to the error path.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2719 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f200901d62ec7859b0c673c94c1100a6ba9fcae
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:43:04 2005 +0000

    check file parameter.
    set file=NULL after freeing it to avoid potential double free.
    check key_file parameter before dereferencing it.
    check card first, then derefence it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2718 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f8b813d51d34c20cb848c9976ed28a56ba63578
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:41:14 2005 +0000

    sizeof(int[7]) is 28. I think bCommands_pin should have 7 elements, too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2717 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0d645b95bc7eb27504503f4ada62f3e272cc2db
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:39:58 2005 +0000

    remove unneeded if(1) block.
    free temp in error paths.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2716 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e03972e4101aa56f5139edf738624d210627a03
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:39:00 2005 +0000

    check if scconf_find_blocks returned NULL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2715 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4801c7eadd1410530f86d99a93f56be374631eea
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:38:33 2005 +0000

    check if scconf_find_blocks returned NULL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2714 c6295689-39f2-0310-b995-f0e70906c6a9

commit 686297304acf43d67c6b6c4a4011823e86ae471e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:37:59 2005 +0000

    check if scconf_find_blocks returned NULL.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2713 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7b6abaef5a6255bdc4dffb8683a086ae83f3fa5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:37:34 2005 +0000

    add proper free to error path.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2712 c6295689-39f2-0310-b995-f0e70906c6a9

commit 138dfad8429e478b305f234be4f85a8f8befa2a6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:36:55 2005 +0000

    simply code / remove dead code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2711 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a1c6cb87e71ee82af5787375b583444bc78b28b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:36:26 2005 +0000

    check if scconf_find_blocks returns NULL;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2710 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7e15333537bb711603505e4b4ad88ad9666e9db4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:35:31 2005 +0000

    add paranoia: what if scconf_find_bloicks returns NULL?
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2709 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ef6ed52a431a20383ef3d77bfe0675bdf4f4562
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:33:59 2005 +0000

    add paranoia: check all arguments before
    dereferencing them to prevent segfaults.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2708 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc23ab4cd2b991894c2f1a6ea1363f4a5dc2bd71
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:33:11 2005 +0000

    free allocated variable in error path.
    set rec=NULL after freeing it to prevent
    double free'ing.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2707 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4863fb752d04d35427c7cb7d8957d68e6ead5d50
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:31:20 2005 +0000

    free buf if pin was entered incorrectly.
    check if file is not NULL (out of memory).
    free file, if something goes wrong.
    free pin/puk once no longer needed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2706 c6295689-39f2-0310-b995-f0e70906c6a9

commit 131842c80bcde1c4187e9dcc19339f835e38b39a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:29:54 2005 +0000

    make code easier by removing match variable.
    check if cert was returned != NULL.
    free cert if there is some error.
    set variables to NULL after being freed,
    to avoid potential double free bugs.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2705 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdc3044082150f45e6bed7fc5e52f677700b7f3b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:27:44 2005 +0000

    proper cleanup: close files if something goes wrong.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2704 c6295689-39f2-0310-b995-f0e70906c6a9

commit 365196594cc47a8680407cf14e4759dcbbd2e9a3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:27:05 2005 +0000

    check publickey variable before de-referencing.
    change newpin to NULL so it can't get free'd twice.
    allocate buf from heap, not stack (quite large).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2703 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93dae31ca7f2ca283b5e9f866b04c53d8f0b4349
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:25:08 2005 +0000

    #if out the dead code.
    remove some dead code in the hexdump code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2702 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2357ff6c6667d683be9d2b236ea1abd7928bbb70
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:22:42 2005 +0000

    does not work, will segfault.
    also no need to assign foo_item all the time,
    scconf_item_add returns the item parameter,
    so it does not change.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2701 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05587ca087a841c11a72d81c197b88710c584ef1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 5 21:21:02 2005 +0000

    add a few sanity checks.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2700 c6295689-39f2-0310-b995-f0e70906c6a9

commit 346486ee70ecd0e99467c8f34f8dea41745af0fb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 4 23:23:25 2005 +0000

    fix problem with uninitialized pointer; this patch resolves opensc ticket #61
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2698 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb63ca182900c65e3126b8cc534abd308d68c984
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 2 22:24:09 2005 +0000

    fix pkcs15 initialization + fix DIRECTORY command; patch supplied by Giuseppe AMATO <giuseppe.amato@st.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2696 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4de18a2552246d4b2cccae570ada13aa5baf6255
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 1 22:18:58 2005 +0000

    fix for the combination of cryptoflex, 2048bit keys and
    some smart card readers by Jean-Pierre Szikora
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2694 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b717662d94c2e3c57dbeee336cb89446499f1b2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 29 20:56:11 2005 +0000

    use sc_print_path
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2692 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7247db8aee87bda318651baa4efbdacfa4926930
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 28 23:07:33 2005 +0000

    use sc_print_path
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2690 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a23e307afad57ddb151f52328673e8279dca1de
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 26 10:03:38 2005 +0000

    remove senseless and inconsistent checks + cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2688 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ac1f94d2bd98a5acb5c5ed17e85148c1e434c4c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 25 19:11:09 2005 +0000

    use unsigned int instead of uint16_t
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2686 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a803dfe3baead1c0c3bcaa98447dcb998328822
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 20 21:53:34 2005 +0000

    remove disabled code, request FCI only if a file object has been specified
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2685 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca4eba5861ac2364f6f517e6a357bd202aac6d1a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 17 10:23:35 2005 +0000

    fix ac for file deletion
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2683 c6295689-39f2-0310-b995-f0e70906c6a9

commit f91e2339cec5c69c06611af4e13f68df64a6762c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 1 22:34:22 2005 +0000

    add more cardos versions.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2681 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6c44d826c0b08a198d28d199d3ae8258360c68c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 1 08:31:59 2005 +0000

    use 1024 bit keys for testing to avoid problems with starcos tokens
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2680 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3e1bc8f4f33c71655446ef763763779e948b650
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 31 19:31:45 2005 +0000

    Let --assert-pristine work for Setcos 4.4 cards
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2679 c6295689-39f2-0310-b995-f0e70906c6a9

commit f74eaee690a4bc10b305e036c4691a6d8d746757
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 31 18:44:18 2005 +0000

    fix GET RESPONSE handling
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2678 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad647c66fa393b222d646376718f0e9f6e2055fc
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 21:44:05 2005 +0000

    use sc_ctx_get_reader
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2676 c6295689-39f2-0310-b995-f0e70906c6a9

commit b325af7fac297df8ef6b11e32c1650158ed06c39
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 21:42:35 2005 +0000

    remove deprecated pkcs15 emulation api. Add temporary wrappers for
    the new functions in some pkcs15 emulation drivers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2675 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54046c6c1cf6d697e019f13af41368bce189576c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 21:17:07 2005 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2674 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43f0118740e2906d8f8847e96f4dfdd1cc816f17
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 20:37:03 2005 +0000

    summary: - improve support for extended APDUs
             - add experimental support for command chaining
             - simplify get_response prototype
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2673 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95200e0f502f72e6da790edc4794dc343a7ec3dd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 19:55:21 2005 +0000

    add pkcs15 emu function for data objects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2672 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47ee84e72d1355db126b5e5784fb5021bf199399
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 19:08:06 2005 +0000

    add functions
    	void sc_ctx_suppress_errors_on(sc_context_t *ctx);
    	void sc_ctx_suppress_errors_off(sc_context_t *ctx);
    to turn on/off error suppression (to avoid accessing
    sc_context_t directly) and use it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2671 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa65fbf285d287c39d198b10eaff665da0f1c52f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 30 18:05:30 2005 +0000

    summary: - add new function sc_format_oid to libopensc
             - cleanup libopensc api
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2670 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89cfac8735b5d67284877b2b64e23fea61cf4d12
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 29 21:17:15 2005 +0000

    Update pcsc pinpad code to latest pcsc-lite code, limit to pcsc-lite only.
    
    Verify works fine, modify needs some debugging-testing.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2668 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f58981bcb51c6b70f00ddf83cfd8c4ccf4b19e8
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 28 18:10:15 2005 +0000

    update from Sirio Capizzi <graaf@virgilio.it>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2667 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8f1c45ad876f76f1ba94e8b548960cb7dab0b8e
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 27 21:39:42 2005 +0000

    This works better.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2666 c6295689-39f2-0310-b995-f0e70906c6a9

commit 242edbea0cb3c614517916161162d9d44b5c8ef1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 27 20:16:57 2005 +0000

    add another cardos ATR, supplied by graaf@virgilio.it
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2665 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d549e6aba904b77fc1167c5a5c06239e69ca9a7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 24 22:00:51 2005 +0000

    remove outdated files, improve documentation slightly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2664 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90d1b0cc9c2ad226e07ce4d811d29f5f6409ee63
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 24 21:58:35 2005 +0000

    add support for the Italian Incrypto34 smartcard;
    patch supplied by Giuseppe AMATO <giuseppe.amato@st.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2661 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8981542fb5ec5dc64e7f35647cb6a1c6e4a1214
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 24 21:18:45 2005 +0000

    fix man page installation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2659 c6295689-39f2-0310-b995-f0e70906c6a9

commit d59e1b282ba2734af1a8aeb8d71cecbd5f438198
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 24 15:19:51 2005 +0000

    More comments on default config options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2658 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd802fafe6070998d579c6a9784d00336b7a1a2c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 21 20:12:16 2005 +0000

    not compatible with 0.9.*. increse library major revision.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2656 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ad2a0782df56188305902d1d3cf5e6933d06d17
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 21 19:40:37 2005 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2655 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b65da70a15b63427083e678748a99a6abb790f8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 21 17:34:09 2005 +0000

    prepare 0.10.0 release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2652 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46021acdaac43ca5b4512d910f13c3dad24fd16d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 20 12:55:17 2005 +0000

    remove QUICKSTART (outdated and replaced by wiki documentation "QuickStart")
    and add README pointing people to our wiki / html documentation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2651 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0465478e7e05f29ee5623e45c0f211073caaf92
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 17 08:00:44 2005 +0000

    update by Peter Koch.
    still one problem left in pkcs11-tool, but lots of improvements.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2650 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac8571de2fa35740715bd1743022ba75a4a69a4a
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 15 14:53:18 2005 +0000

    Comment config file lines that have default values.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2649 c6295689-39f2-0310-b995-f0e70906c6a9

commit 58943d59b5c1974a39739e9a2fe0f809c8227bf7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 13 11:19:25 2005 +0000

    Compiler warning fix: use 'char * argv[]' in main() because getopt_long() does so too
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2648 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff795fb1e629bf101c25450f8315d13ae3dffd58
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 12 17:52:56 2005 +0000

    bugfix for a potential segfault in card-setcos.c when the
    acl "pointer" is one of the special values 1,2,3
    
    Patch supplied by Jakub Bogusz <qboosh@pld-linux.org>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2647 c6295689-39f2-0310-b995-f0e70906c6a9

commit e81d74ba0e8563fd5e7d282b50f3033876c75955
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 12 13:37:10 2005 +0000

    use *.[1-7] instead of *.1 *.3 *.5 *.7 to avoid the (harmless) error
    "ls: *.7: No such file or directory"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2646 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba303233ffeafe72449f10dc11b73dedce54254e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 11 20:57:15 2005 +0000

    fix compiling on solaris9. Thanks to Douglas E. Engert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2645 c6295689-39f2-0310-b995-f0e70906c6a9

commit d631b554c950e51eb3bd94c58591ccfb08b334ab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 10 19:24:16 2005 +0000

    masquerading is no longer needed on windows or mac os X and
    never was on linux.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2644 c6295689-39f2-0310-b995-f0e70906c6a9

commit bae9b568692885ffa03be4f5eb3c2f0090614ac7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 10 08:07:14 2005 +0000

    fix typo.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2643 c6295689-39f2-0310-b995-f0e70906c6a9

commit d858b4f84c442820e3854d045c805cec2e620fe1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 9 22:15:35 2005 +0000

    fix build with openssl 0.9.8:
    move "#include <openssl/crypto.h> up and remove unnecessary
    include for asn1.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2642 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6eeedc7d5f52d5bd9157d3880c1b80826be15094
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 9 12:00:34 2005 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2641 c6295689-39f2-0310-b995-f0e70906c6a9

commit c7a8e84caf6fe689cff910c34684e188f720c36d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 8 11:08:34 2005 +0000

    suppress errors in pkcs15 card detection if we don't know whether we really have a pkcs15 card
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2640 c6295689-39f2-0310-b995-f0e70906c6a9

commit 191f2af7ab66f4553939ab6f8360a7b8cf13682b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 7 20:04:33 2005 +0000

    set the ca certificate only if it's really present
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2639 c6295689-39f2-0310-b995-f0e70906c6a9

commit cee5f2a1475cd8f6a826a7b33c621ebd7f3f2609
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 7 19:58:43 2005 +0000

    print lastUpdate field as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2638 c6295689-39f2-0310-b995-f0e70906c6a9

commit b15a7941a65a7092b54402a69ff9a49645902de0
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 7 11:40:10 2005 +0000

    define HAVE_PCSC on darwin with native pcsc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2637 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43d3408938dc5a8038c5ea9887e1699b060aead2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 7 07:06:16 2005 +0000

    add a few details about the card, also by Antonio Iacono.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2636 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1cbf05abfefeef52aaab80bc4adbf255ae06f47
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 6 19:30:18 2005 +0000

    add --dump option, thanks to antonio
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2635 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19ad0e38b0c92b08017c7ccd2b4e71fb3276694b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 6 18:23:57 2005 +0000

    enable masquerading by default for pcsc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2634 c6295689-39f2-0310-b995-f0e70906c6a9

commit 450e4121fb46cb30a588ee2e868a11608e0ef7b6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 6 10:28:04 2005 +0000

    Fix the #define in pcsc probing, move pkg-config code before the darwin-specific code so that
    if a pkg-config enabled pcsc is installed you can simply use PKG_CONFIG_PATH to detect it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2633 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8fb4d9fc4c5ae2b74f82e9685a5bdaf160adb47a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 6 06:57:07 2005 +0000

    Better name, as suggested by Ludovic.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2632 c6295689-39f2-0310-b995-f0e70906c6a9

commit 163176fd4584d4c07eb7f61611413dc476323bc0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 5 15:25:27 2005 +0000

    __APPLE__ does not need special handly. Only the broken pcsc-lite shipped
    in mac os X does, so use define set by configure on mac os X, if the
    default pcsc is used, but not if a self compiled is used.
    
    teach configure new getopt source file names.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2631 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40ad6b003710d1b0d787bf4bc311e18813a8a71a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 5 15:23:51 2005 +0000

    replace GNU/glibc getopt (LGPL) with my_getopt (BSD).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2630 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f230f5c1db67b8f5b44024bd05f3a6e3e17ca96
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 1 18:51:34 2005 +0000

    Do an sc_lock() before an sc_pkcs15init_bind(). Reason: in sc_pkcs15init_bind() an sc_lock() and sc_unlock() is done; and when the lock_login config option is set to false, the sc_unlock() will call logout() which for some cards means a SELECT(3F00) -> unwanted change of the current EF/DF causing errors
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2629 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d4d8ec98a3a55e1231cd25f22ec293a2407bd05
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 30 17:44:42 2005 +0000

    reomve unneeded ifdefs.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2628 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6effc69169838c85bbc4c35aec747c2c0ac9e32c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 30 11:17:06 2005 +0000

    Removed the bundle on Mac
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2627 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90d0046a24e2d8566481c444d450fcce2cf3bc39
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 30 06:35:29 2005 +0000

    "Unsupported" might be easier to understand.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2626 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10fa4a696271e8fc55f7b5baf13e5586ab9d0786
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 28 14:52:32 2005 +0000

    Fix: deleting a cert chain with 1 or more intermediate CA's crashed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2625 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4be1f40fd318d8dac3c6e31c002da96934ec1f38
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 27 17:22:48 2005 +0000

    add option to specify the key length
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2624 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06e1239a892039419caa90203935a5de27d7e8a2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 24 17:45:54 2005 +0000

    new tcos atr provided by Gerald Richter.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2623 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7bf15d3d7d426a12eef57b8bd8dd3441ad00fcdc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 23 15:47:44 2005 +0000

    replace gpl'ed and old version with new lgpl'ed version from glibc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2622 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07159961b9e7f5ad592bf8bf20d2753fc949cc2a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 23 15:46:05 2005 +0000

    proper reference to src dir.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2621 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b72db91f34398540d6ab881ee80971aa5245c33
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 23 15:45:27 2005 +0000

    list all current macro packages.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2620 c6295689-39f2-0310-b995-f0e70906c6a9

commit 090329c105b1ebe6027638e824b63ea61efe23fc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 22 14:53:12 2005 +0000

    add init perso guide by Nils.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2619 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d2ebb11c4a969583cadca8adb6e8153228a4866
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 22 14:51:21 2005 +0000

    scdl is replaced by ltdl, libp11 and sslengines are not standalone.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2618 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d251cfa7a9f8395f3fa4e5fa91363c43c940a96
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 22 13:15:11 2005 +0000

    Document cryptoki header files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2617 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9bd91330673e35741bc45a637115c880f02a35b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 22 12:45:31 2005 +0000

    No SC_AC_OP_DELETE for EFs
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2616 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ca0cd1ed682be8f1de60e89dccbc4d8e57f6630
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 22 08:50:16 2005 +0000

    Also remove the bundle stuff from configure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2615 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d5d0ecfb230641105f8aac857c345c226c93d25
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 21 20:18:37 2005 +0000

    scconf no longer needed for pkcs#11 spy.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2614 c6295689-39f2-0310-b995-f0e70906c6a9

commit d05e28d1f5698377bba83fb2c7087ad1aac11b5f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 21 20:17:22 2005 +0000

    do not install bundles on mac os X. no reason to.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2613 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe64862a1efd88f6afda7ba7d281d817ca4e91ab
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 21 18:55:13 2005 +0000

    Added Peter Koch's netkey-tool manpage
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2612 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c47bb093c3ad3c332b2f7eb6f2c440be6aaafb8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 21 12:52:36 2005 +0000

    Fix makefiles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2611 c6295689-39f2-0310-b995-f0e70906c6a9

commit 73294da5c980d4d8da1f1ea7dcc2ebca79e15c80
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 21 10:10:15 2005 +0000

    It actually helps to have make clean on windows too
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2610 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9147cf283abce27a8859aa908d6c2820c0b58cb
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 21 10:09:56 2005 +0000

    don't know what it was for but it's not needed now.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2609 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75d8f0492ee7be561b0539bfa53cc91498c144e7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 20 22:22:31 2005 +0000

    fix TPDU if T0 is used
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2608 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49ff7ff11dc4d254ea23cad599dfdfdd27f13bd2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 20 07:32:18 2005 +0000

    adding libtool.m4 was a bad idea and causes problems. undo.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2607 c6295689-39f2-0310-b995-f0e70906c6a9

commit 052a4933ae57c8422015cb406d47afa061d4456b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 19 16:37:19 2005 +0000

    remove unused variable
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2606 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81b47ab8a4173ce1125bd4ee705404d75d31d560
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 19 08:09:44 2005 +0000

    use_color(): add "rxvt-unicode" to the list of terminals supporting
    colors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2605 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92789b9837c55576687d76e5e60d599d76022eac
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 18 20:29:36 2005 +0000

    undo change 2397 as it breaks openct and
    you can use apd_masquerade = case4as3 instead.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2604 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c1d35e0625abef3cc6cb677de5b45d44b81864c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 18 12:33:31 2005 +0000

    make openct readers configureable.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2603 c6295689-39f2-0310-b995-f0e70906c6a9

commit 881c80d83925e1f3aafc1304fb51d49dedb34804
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 18 11:00:00 2005 +0000

    pkcs11-spy no longer uses a config file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2602 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6abeaf1f1c2a3237236f5d9d13d16d9562b76fd6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 17 10:44:45 2005 +0000

    add a new function
    	void sc_mem_clear(void *ptr, size_t len);
    to clear a memory buffer. If OpenSSL is used this function
    is a wrapper for OPENSSL_cleanse, otherwise memset is currenlty used.
    
    Use this function to clear memory buffers with sensitive content.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2601 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47d2baf5a3eba0d97108192108de2a049dcf0a29
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 17 09:40:12 2005 +0000

    use calloc instead of malloc + memset
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2600 c6295689-39f2-0310-b995-f0e70906c6a9

commit f60996526a05e22187e77c2883a9c95579e400ed
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 17 08:53:25 2005 +0000

    remove useless memset
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2599 c6295689-39f2-0310-b995-f0e70906c6a9

commit 142d18378bc24856f3dcd4b4a776f42328d91b5d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 17 08:20:13 2005 +0000

    don't use static buffer in iso7816_build_pin_apdu
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2598 c6295689-39f2-0310-b995-f0e70906c6a9

commit d00d795782636b4e728b201edda6afae1c9cd92e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 17 08:04:26 2005 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2597 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55418c5ac315d93c5e224fad752801b60ca13881
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 16 20:31:06 2005 +0000

    log dlerror message when dlopen failed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2596 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5123be2b85db185c5764c2bbcdf07b6beb739e34
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 16 10:18:55 2005 +0000

    add two new functions
    	sc_reader_t *sc_ctx_get_reader(sc_context_t *ctx, unsigned int i);
    	unsigned int sc_ctx_get_reader_count(sc_context_t *ctx);
    to access the reader_count and the sc_reader objects (to avoid accessing
    the sc_context members directly).
    Use these functions in src/pkcs11 + error checking to avoid accessing
    invalid sc_reader objects.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2595 c6295689-39f2-0310-b995-f0e70906c6a9

commit aec4a81304657d997d7b903a01b7ab9c7bf1ed3b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 16 08:55:09 2005 +0000

    add pkcs15 emulation support for a cardos based id card issued by tc trustcenter
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2594 c6295689-39f2-0310-b995-f0e70906c6a9

commit 00be34c4a216a8fbd5f7590671bebdff130e4d2c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 15 19:40:20 2005 +0000

    Added certificate update functionality
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2593 c6295689-39f2-0310-b995-f0e70906c6a9

commit e15c54e1c55b5065195d4a8c48a38517bd1af75c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 15 05:55:53 2005 +0000

    Win32: we now need the external libtool package
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2592 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca3be84ffb792eb6bdb149665020b82d22f6bc96
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 15 05:41:29 2005 +0000

    Fix warning on Windows compiler
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2591 c6295689-39f2-0310-b995-f0e70906c6a9

commit fdaf2c8728a0a75d3ab69c2fc708159517fa9039
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 14 09:50:30 2005 +0000

    use -nv instead of --non-verbose since wget 1.10 now uses --no-verbose
    instead. Grr!
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2590 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f2ac875d0994555681f8fa1473194b1f14fcf0e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 13 10:46:17 2005 +0000

    fix ChangeLog generation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2589 c6295689-39f2-0310-b995-f0e70906c6a9

commit 426eafdf90393753417edec4f7bda01f9eee5932
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 13 09:42:02 2005 +0000

    generate and ship ChangeLog and HTML.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2588 c6295689-39f2-0310-b995-f0e70906c6a9

commit 595e14304527e433c0f3777dbd379cd21d3bc623
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 13 08:13:13 2005 +0000

    Added setcos.profile (thx JP Szikora)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2587 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4dd1dcd3d9de029deabad88e2b4c84e80443e2a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 21:16:41 2005 +0000

    disable network connections by xsltproc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2586 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59cae4140b66b0a184903f90ae8bd761cb521892
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 21:09:12 2005 +0000

    fix compiler warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2585 c6295689-39f2-0310-b995-f0e70906c6a9

commit a358f65e3d5855589110c3c06f0ca067d5bfd17a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 20:13:55 2005 +0000

    more makefile fixes for man page stuff.
    add ChangeLog generation using svn2cl.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2584 c6295689-39f2-0310-b995-f0e70906c6a9

commit 87c3d4406eac8f5b9d06e8f467150c6761008ed8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:34:00 2005 +0000

    remove html files on "make maintainer-clean".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2583 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3aa186ec88db9ca81092091cc0792cc711d2b71b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:32:52 2005 +0000

    remove man files on "make maintainer-clean".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2582 c6295689-39f2-0310-b995-f0e70906c6a9

commit df30dd0ceee89862e08d2eb066f7f9f4200ac9c0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:32:20 2005 +0000

    rename *.xml.in to *.xml.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2581 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05c2f9e26d89d9340cea199e1bac6de3c3c6666e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:12:56 2005 +0000

    simplified make.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2580 c6295689-39f2-0310-b995-f0e70906c6a9

commit 173d8a1640767aa33a05df77cb71fd89a3ce94be
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:12:10 2005 +0000

    remove doc/src, add replacement script to render these files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2579 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74dbb3885034d0c7f4a9cd0bac2242b5111a1e9a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:07:40 2005 +0000

    remove one unneeded sublevel.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2578 c6295689-39f2-0310-b995-f0e70906c6a9

commit 84c7df3982928e15322bc172a8028c94bbe11b81
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:07:05 2005 +0000

    don't touch pkcs15-profile.5.in.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2577 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94d0b7c6409bd938394f1d7a74e04ed9d02a39d6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 17:06:34 2005 +0000

    move old manpages to old/.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2576 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8edccc629995a5bee15ea92192f5566a69b79638
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 08:32:04 2005 +0000

    add gemsafe as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2575 c6295689-39f2-0310-b995-f0e70906c6a9

commit b137131819e846b4dd06e1b1428c3114dbe68435
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 12 06:42:08 2005 +0000

    tcos not netkey
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2574 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba179c1bb3539a1fbe4c1a6c2d0a6fec5b9a4884
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 21:06:49 2005 +0000

    remove superfluous comma
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2573 c6295689-39f2-0310-b995-f0e70906c6a9

commit 511790880ba2da37306cb9dfa06f27033d0206c3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 21:05:25 2005 +0000

    more pointer madness to make the compiler happy
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2572 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0f1b085e98576370f175557fd2e6fefb7d561b0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 20:40:58 2005 +0000

    fix function pointers
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2571 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd86e44094266ecb5043e16dfb6a31eacd00ba78
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 19:57:43 2005 +0000

    Typo fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2570 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd115bbe8990773ba47766de53c596af688dfe57
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 19:49:55 2005 +0000

    set assuan status for the summary at the end.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2569 c6295689-39f2-0310-b995-f0e70906c6a9

commit e242d34e9b0bed9d1859cebcc828039798eafd21
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 19:49:19 2005 +0000

    "NEWS" is the file for manual editing, and doc/ChangeLog will be
    auto generated from the svn repository / log.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2568 c6295689-39f2-0310-b995-f0e70906c6a9

commit 917749dc73f851bb83a6f5ae789978d4b5af7573
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 11 19:48:27 2005 +0000

    AUTHORS: now in the wiki. README: now in the wiki.
    people will find the "doc/" directory, I'm sure.
    remove ANNONCE, as it is always outdated.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2567 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68a49360d20746a90c3dc5cdcb8f0b52135357d5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 19:51:38 2005 +0000

    pkcs15-netkey.c -> pkcs15-tcos.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2566 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02cc450be0e971d11a651ab0b9856aeaff683334
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 19:30:43 2005 +0000

    update tcos pkcs15 emulation drivers; patch supplied by Peter Koch <pk_opensc@web.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2565 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21e3b71029c39b7c0a1d96e85c0da7f1af7db1fc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 14:43:59 2005 +0000

    use ltdl not scdl.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2564 c6295689-39f2-0310-b995-f0e70906c6a9

commit 138a1d7e8c7430d357889fba3f7b4df2bd337949
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 12:45:02 2005 +0000

    add autoconf voodoo to circumvent the caching.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2563 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a3968b435be0157282802a2abc9049f4ffc43d0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 12:32:05 2005 +0000

    oops, ugly bug in configure script. set those variables,
    if the user did *NOT* supply any of them himself.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2562 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6035a9c0264f136de08fcaddbe352814127d79ac
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 11:32:21 2005 +0000

    No ENGINE_MSG in configure.in
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2561 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6dcb5fb1f95bc0c39e450653cdc5cd1e50cd3a20
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 11:31:37 2005 +0000

    RIP, scam
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2560 c6295689-39f2-0310-b995-f0e70906c6a9

commit 418e87f944dc1e3c6881195109064af232ea50c5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 9 07:15:03 2005 +0000

    select file even if no acl for writting is set; patch supplied by Tarasov Viktor <vtarasov@idealx.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2559 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9e80e95ea5ca42b03625377e8007e2742859a1a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 8 17:21:58 2005 +0000

    we use libtool for linking, so it can calucalte the dependencies using
    LTLIBLTDL better. Thanks to Ralf Wildenhues.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2558 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce14d27cb31797b49c53feb5dc990e3a8403607e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 8 17:15:07 2005 +0000

    AC_SUBSTed variables are better used with $(..). Thanks to Ralf Wildenhues.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2557 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c4e5c191d2b14cb870d8c14d54308d661f83d04
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 8 17:06:41 2005 +0000

    fix AC_MSG_ERROR usage. thanks to  Ralf Wildenhues.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2556 c6295689-39f2-0310-b995-f0e70906c6a9

commit d00aaaa9db34ce253873bb22a67913e3ebe0729f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 8 16:52:16 2005 +0000

    aclocal -I aclocal/ (as suggested by Ralf Wildenhues)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2555 c6295689-39f2-0310-b995-f0e70906c6a9

commit 596bbcd7deb51dca8040305b48eda4b27a411ea5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 8 14:27:18 2005 +0000

    proper use of CFLAGS push/pop. fix overwriting CFLAGS.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2554 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8596348a75898b301f9001fbe8ce79fccecdbe1c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 8 11:35:26 2005 +0000

     * Get rid of reset card error that comes from pcsc only and deal with reset situations with SCardReconnect
     * Add some options to control pcsc behavior.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2553 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a2fec9b86e9e2fedee0802be71ef9401b0d36ce
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 20:05:13 2005 +0000

    remove dependence on libopensc, instead use scconf directly.
    Note: this code is still experimental !
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2552 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f26a4ae35c37c7f4cab3583c0500820b5492575
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 09:34:27 2005 +0000

    fix warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2551 c6295689-39f2-0310-b995-f0e70906c6a9

commit d37315ec35681afce8c339903efd45f20aa180ef
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 09:32:52 2005 +0000

    cleanup key usage handling, cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2550 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9db1705202a3aed8459166a286a334fc93a3334
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 09:20:24 2005 +0000

    we need libltdl
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2549 c6295689-39f2-0310-b995-f0e70906c6a9

commit 559e51e4a097f6ce44a0d1ccfda49b34ebb031c3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 09:05:11 2005 +0000

    fix openssl configure message
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2548 c6295689-39f2-0310-b995-f0e70906c6a9

commit cfc64a494eb62c8facbd5f91862c1721d550e9fe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 08:47:13 2005 +0000

    let src/libopensc/ compile with -Wall -W -Wno-unused-parameter -Werror
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2547 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6c95792fe8e763dc8b71baf4fc676102b8a9f37
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 7 08:33:55 2005 +0000

    let src/libopensc/ compile with -Wall -W -Wno-unused-parameter -Werror
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2546 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13a3e699e5c2b6665868544e2c2da1f456015776
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 6 21:18:26 2005 +0000

    adjust key usage bits
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2545 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08a640c94b2bef9fa32654dbe4e9c90f5c3a4bd6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 6 20:22:15 2005 +0000

    users of libpcs11.c also need @LIBLTDL@ libraries.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2544 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdc553bcec5fb673e7f16eb585389b2a54474cb6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 6 12:40:38 2005 +0000

    man page fixes from the debian diff.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2543 c6295689-39f2-0310-b995-f0e70906c6a9

commit a59faf395d2c2a5bbc974c69abffece9d5b37e7a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 20:44:51 2005 +0000

    fix compiling with ltdl.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2542 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b9ac59d73a9f48ed72c74e09c2bd1978bd2ffda
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 20:15:38 2005 +0000

    fix openct detection. fix assuan detection.
    improve libltdl detection code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2541 c6295689-39f2-0310-b995-f0e70906c6a9

commit 047cb62d4503ce465bb8cb8fee7efbfc1d71db6d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 20:15:08 2005 +0000

    add macro packages used by opensc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2540 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d2e17b14f2845393525058cb323eed28c2d1abc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 20:13:26 2005 +0000

    add additional m4 macro packages used by opensc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2539 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffb7928f6e50a4dcd40c140a8acd469da65619a7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 17:05:26 2005 +0000

    we need lt_dlinit()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2538 c6295689-39f2-0310-b995-f0e70906c6a9

commit d744a6e5f555670d341bdf28a79dcddfcb31a302
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 11:29:57 2005 +0000

    Include reader.h if found.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2537 c6295689-39f2-0310-b995-f0e70906c6a9

commit c8356689e029bd9681a9ac507a29921ab0d362f2
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 5 06:44:52 2005 +0000

    make export-wiki.sh executable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2536 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61f894a2c35adb90d60584f1c7e8234818603b9e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 4 09:23:28 2005 +0000

    yet another atr + cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2535 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ca1bc2a09e7c2b30d037c20cd811f569fb77e48
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 4 08:57:17 2005 +0000

    remove unused internal function
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2534 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff14d0d4829b5bd23e82f6ee5226ec8e90e941a5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 2 16:53:08 2005 +0000

    one more change to "make dist" style documentation generation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2533 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ad77a81559aeaad2919fdeb3642cb18aae457fd
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 2 09:51:47 2005 +0000

    "doc" does not work well, it is the subdirectory name.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2532 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1dc04f5c290ae5644f633b9d753bcaa6e10b685
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 2 09:29:55 2005 +0000

    dist-hook: is too late, need to generate the documentation
    before automake "make dist" copied files around.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2531 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25cb1a3ca12a4dafe94670b547e01a855d68c3ae
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 1 20:51:54 2005 +0000

    fix compiling with openssl installed in a non-standard location.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2530 c6295689-39f2-0310-b995-f0e70906c6a9

commit bde55826ed684110159877402a635d414fa6d2be
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 1 17:18:02 2005 +0000

    proper documentation cleanup.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2529 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff62b88e1c27b4e6cb6fa67658622872008e31f3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 1 14:01:58 2005 +0000

    big configure update.
    use pkg-config for openct, openssl, pcsc.
    do not compilke libp11. do not compile sslengines.
    remove scdl. use libltdl instead.
    use libassuan.m4 macro for m4 detection.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2528 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7770e891151d5f5e08ec120f54775acaa4f96767
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 1 14:00:23 2005 +0000

    remove trac.css from svn. add script to generate documentation (old one).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2527 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c12242fc80256d0ac3f59769b262331a4fe7ad0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 1 13:59:41 2005 +0000

    big documentation update. remove html from svn.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2526 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8639b16ce1549f19d337002a3393cf032d43cac
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 29 20:48:00 2005 +0000

    The lastUpdate field is in the EF(TokenInfo), not in the ODF (thx Nils)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2525 c6295689-39f2-0310-b995-f0e70906c6a9

commit 891ed0f197c2df7b8150f3c42b006698099e09df
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 29 12:49:53 2005 +0000

    Added Netscape/Mozilla specific types etc.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2524 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96519c6b723025fae42c27ed8fdcc98312c6fab5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 28 20:18:52 2005 +0000

    stop building libp11 and the ssl engines.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2523 c6295689-39f2-0310-b995-f0e70906c6a9

commit bae2b51e01e16c126613289dd68e75545d3dd333
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 26 19:35:33 2005 +0000

    Fix in new_file(): if there's already a key with such ID, take next one
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2522 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb2506cff9b855ac89dc9a6316c4815c518d310c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 26 19:33:52 2005 +0000

    Return the real pinref
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2521 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89dacc6c82c445bf27cde531318b0bff9c0401b8
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 16:18:24 2005 +0000

    fix compiler warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2520 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed9e92598951d9744fbfb3f5c8399a3946a6f923
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 16:11:46 2005 +0000

    Improved ACs
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2519 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b6a90000a3f74a1936ab05e073b8b73a5795cb1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 15:59:01 2005 +0000

    add missing include, removed unused variable and initialize variable
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2518 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9cbac71de95ff6d6c7061c8a558f7d3e23ceb16b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 15:54:43 2005 +0000

    decode preferredLanguage field if present
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2517 c6295689-39f2-0310-b995-f0e70906c6a9

commit 850cea465b3ca082015964c34727be08a7d5b9bd
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 14:25:23 2005 +0000

    move PKCS11_open_session() from libp11-int.h to libp11.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2516 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd76165319b8b1fa8883e6dd5fe6eae07fb7ed1f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 09:50:48 2005 +0000

    Have the option not to update the ODF (the lastUpdate field), this is usefull for cards that don't have an ODF that is un-writable or too small
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2515 c6295689-39f2-0310-b995-f0e70906c6a9

commit eec0e22b037ae744d28f63dac53b6db8d21af3f1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 24 08:00:44 2005 +0000

    de-/encode printable strings as well
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2514 c6295689-39f2-0310-b995-f0e70906c6a9

commit 260723da53c1420e7d0182eb30d376815a9ea7c3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 23 21:16:55 2005 +0000

    cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2513 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e3dee05854727221cef7c06d2ab612a64bc4b6b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 23 09:01:57 2005 +0000

    Added set_userpin_ref() to link a PIN value to a PIN ref for an existing user PIN
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2512 c6295689-39f2-0310-b995-f0e70906c6a9

commit 858ea38e97c9891d82732080953171ec88ef2d57
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 12:53:17 2005 +0000

    Add support for SetCOS 4.4.1 card. Add support for deleting pkcs15 objects.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2511 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d05f32bc46e9942b262f4cf74e4b56678567cc9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:37:54 2005 +0000

    mark card/profile as dirty when an object has been deleted
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2510 c6295689-39f2-0310-b995-f0e70906c6a9

commit a28aa1f9174ed31136daf0809d0b935f7a30633c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:37:02 2005 +0000

    avoid warning
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2509 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26108b0280e18c74d91eac32903eb70db92ef3d0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:23:46 2005 +0000

    Added support for deleting pkcs15 objects (if the pkcs15init card driver for that card supports it)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2508 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ba443d1d916ed95928fe1bba0992b711dd72f17
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:22:25 2005 +0000

    fix parameter type
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2507 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5e2a2afff89516591ff09245a51af77ac274c1a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:20:13 2005 +0000

    Added support for deleting pkcs15 objects, each card driver should implement its delete_object() operation in order to support it
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2506 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9efe849eb4364293d2be4ee4058c3b99ce168f2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:17:44 2005 +0000

    add support for serial number in card-oberthur.c; supplied by Tarasov Viktor <vtarasov@idealx.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2505 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d7b025a4ba9f9770a3072074fadf94bb3d97ec3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 22 09:15:57 2005 +0000

    add missing variable
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2504 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ffd68a9ee44bf3d55445a75d773a0225e23d104
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 21 18:44:07 2005 +0000

    Make the pcsc pinpad option work.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2503 c6295689-39f2-0310-b995-f0e70906c6a9

commit 924a118501b9928dc245b5d4899a285e763397d5
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 21 18:39:43 2005 +0000

    Don't cache pins that protect a userconsent slot.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2502 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fb54dd374897b59f1d9c61384263daf2a8462ab
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 20 13:39:18 2005 +0000

    use compile time initialization for the iso_ops structure
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2501 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08b415a5a3eeaec9e25c20a409ca4347d45c19f7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 20 11:06:18 2005 +0000

    use non-repudiation flag only for the signature key
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2500 c6295689-39f2-0310-b995-f0e70906c6a9

commit f855074c27df4046debec008da1dec28af069621
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 19 17:56:56 2005 +0000

    check result of sc_file_dup + some cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2499 c6295689-39f2-0310-b995-f0e70906c6a9

commit f317e2966afba6680a8367be83f6950d1e1dc83f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 19 06:39:16 2005 +0000

    sc_file_dup(): copy attributes as well, use explicit assignement and check return values
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2498 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ff54c7e2eb5535d1fbc4ef5ac7d2192ba3f7f54
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 18 22:43:01 2005 +0000

    use calloc instead of malloc + memset
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2497 c6295689-39f2-0310-b995-f0e70906c6a9

commit edb11bd2ea50d3e10c2fc61b914455e2261c3ddf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 18 21:14:19 2005 +0000

    Fix: object type contains not only the class
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2496 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c20b6a6ad0c71c03ce9cc6016afc7f56a390920
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 18 14:01:54 2005 +0000

    Undo-ing accidential commit of card-belpic.c and pkcs15-sec.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2495 c6295689-39f2-0310-b995-f0e70906c6a9

commit f43d52476ec8e8365861182101b379e58e8e5ab6
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 18 13:55:36 2005 +0000

    The lengths of the ASN.1 entries are used outside the if blocks -> declare them outside the blocks
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2494 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25d3148ef6b30a0814f84a1112eb5cdf355b1ba9
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 18 08:39:29 2005 +0000

    use _LIB11_H instead of _LIB11_INT_H
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2493 c6295689-39f2-0310-b995-f0e70906c6a9

commit df86e3f8acc537eed1d8f15351f5eaf036bace8b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 18 07:06:13 2005 +0000

    PKCS11_CTX_unload(): do not call ERR_free_strings() and
    ERR_remove_state() since OpenSSL strings may be used by the application
    and we can't know
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2492 c6295689-39f2-0310-b995-f0e70906c6a9

commit b143ac5637c7db7b062468d9efb0b78fa149a953
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 16 21:35:13 2005 +0000

    add support for signature generation with a decryption key; patch supplied by Peter Koch <pk_opensc@web.de>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2491 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a49854fdc9e988cf10c7e4505a334e06247b251
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 16 12:10:24 2005 +0000

    use ERR_LIB_USER instead of 42
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2490 c6295689-39f2-0310-b995-f0e70906c6a9

commit decb9297dd1468b8be2b299800b642b654420c0b
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 16 11:05:09 2005 +0000

    add PKCS11_change_pin() function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2489 c6295689-39f2-0310-b995-f0e70906c6a9

commit 305b68f10b40c9638ecb3790f7cbc1881d91068e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 16 10:58:16 2005 +0000

    summary:
    - do not use key enumeration as a test of login status, as this will
      not work for all PKCS#11 libraries
    
    - replace magic number used for PIN length with a constant
    
    - add documentation for set_pin, as well as testing for NULL input
      and checking for strdup failure
    
    - made the global variable 'pin' static (TODO check if other global
      variables can be declared static)
    
    - if a PIN is allocated, then check for NULL
    
    - if a PIN is to be freed, then whiten the memory first
    
    - if the token has a secure authentication path, then the PIN shoud be
      NULL (as per PKCS#11 v2, p. 126)
    
    - replaced some fprintf statements with 'fail' (TODO all
      fprintf calls should be replaced with log functions)
    
    Patch supplied by Geoff Elgey <Geoff.Elgey@quest.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2488 c6295689-39f2-0310-b995-f0e70906c6a9

commit d6e5facb0d89aaf476ebe856c962e8fe519c475f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 14 22:33:43 2005 +0000

    make old compilers happy
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2487 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5adbeff6e02343d2c365ca8e2a95640afb972670
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Aug 14 22:00:28 2005 +0000

    fix typo
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2486 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59e1f37bb2d84c587077d47f96439387605505df
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 13 13:26:46 2005 +0000

     * Clean up some whitespace
     * class2->part10
     * Make pinpad detection a configurable option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2485 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99c3efb3edcb4d3ce679e980c566b660c083aa7c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 13 13:14:06 2005 +0000

    Add a check for reader.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2484 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f0f28107c6144c28a7326eaa60e0cb36718ac05
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 13 13:10:44 2005 +0000

     * Remove PAM_README as it is not valid any more
     * Remove dead files from Solaris package script
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2483 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc3048f55ed8c531e63865f11c01cedfe7d24cc4
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 13 13:04:02 2005 +0000

    Remove the (stupid) use_pinpad option from pkcs15 structures
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2482 c6295689-39f2-0310-b995-f0e70906c6a9

commit a20f0d576e0e05854fd2db911ba11d7ed545a7d4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 11 19:14:23 2005 +0000

    two small fixes from Tarasov Viktor <vtarasov@idealx.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2481 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d48735d10c2a7806b37af10085a19fff69a9afe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 10 21:31:18 2005 +0000

    initialize sc_pkcs15init_operations at compile time
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2480 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8d663433994424cb17dd45c8713382f5eb56cc4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 10 21:00:52 2005 +0000

    set obj to NULL to avoid double free in case of an error
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2479 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25950cb01a8bd64d3b2a71f4ee2cb5812e54623b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 10 19:04:08 2005 +0000

    use inttypes.h instead of stdint.h; disable read_ssh_key when no uint32_t is available
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2478 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39373c1ec8ceb455ba7d13dabbeac151d000795a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 10 18:20:04 2005 +0000

    initialize the oid object, patch supplied by Tarasov Viktor <vtarasov@idealx.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2477 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6dc33041aab535fb350c506d11c87138ed81a0c1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 9 21:27:50 2005 +0000

    include sys/types.h if stdint.h doesn't exist + fix typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2476 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86ad1a7c2bedd1c43f866e4cd61bb7c36ad2aee4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 9 21:13:50 2005 +0000

    check for stdint.h and remove checks for pam stuff
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2475 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3da0e1b8cdc11e2eddbfe11033de5b29a64abda0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 9 18:21:50 2005 +0000

    allow up to 64 byte long pins
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2474 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ea0db132e901f926a389bc49d02f3fcf8462e93
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 9 11:51:17 2005 +0000

    PKCS11_login(), PKCS11_init_token(), PKCS11_init_pin():
    use "const char *" instead of "char *" for pin arguments
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2473 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1311aa96596d8f5dd5ff28c713f28e49203eae4
Author: ludovic.rousseau <ludovic.rousseau@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 9 11:48:39 2005 +0000

    pkcs11_strdup(): use "return NULL;" instead of just "NULL;"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2472 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3ae7da3ab7505082c0741fefa04dd4965b22392
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 9 07:53:59 2005 +0000

    oberthur updates from Tarasov Viktor <vtarasov@idealx.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2471 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b6a2cb19cdd6f423f5a7d6110b145f8572c2f5e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 8 14:25:19 2005 +0000

    One of the memset()s appears to write too much zeros on some systems -> put all the data in a struct and memset() this instead of each field separately. Thx to JP Szikora for notifying.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2470 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45a9d058300a6ede802b57a17380104295561ee0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 8 10:22:14 2005 +0000

    cleanup, mostly signed/unsigned issues
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2469 c6295689-39f2-0310-b995-f0e70906c6a9

commit 148b7900f7f2c96f87bb4fc879fb3f4dd1976e8d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 5 19:07:24 2005 +0000

    Add support for the lastUpdate field to pkcs15init. Add flag to
    indicate whether some data has been changed to the profile structure
    and set the flag in the functions which change the card contents.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2468 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69ffd496b2a55a77570428129ae1d909385bdcd8
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 5 17:18:10 2005 +0000

    the apdu error codes are unsigned => change sc_check_sw and the card ops check_sw
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2467 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44384eccbf55abadc8d4b57779f21077ccf09d23
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 5 16:24:35 2005 +0000

    - Initial support for TokenUpdate;;lastUpdate field. Change pkcs15 caching
      code to use the card serial number and lastUpdate field (if present) to
      specify the cache file.
    - consistently use unsigned data types to specify object types
    - make sc_pkcs15emu_get_df a local function (it's not used outside
      pkcs15-syn.c and honestly I see no reason to export it).
    - start of a new ChangeLog file (with some intial entries)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2466 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3992394fc39e380a6d8cdc60072ab0dc6c76ee0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 5 15:03:39 2005 +0000

    more cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2465 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed3ba0231ee95ad9d6597b4eb341bcf5e1664a75
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 5 07:28:20 2005 +0000

    improve generalizedTime support + more cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2464 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23802d825ed4ce8ec5ac8622431f0046cd736a06
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 5 07:24:43 2005 +0000

    properly initialize sc_asn1_entry elements + some cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2463 c6295689-39f2-0310-b995-f0e70906c6a9

commit b12711e6b30d558486f293674f5e3fba60ca227e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 4 06:29:35 2005 +0000

    Reverse the export of function parse_x509_cert()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2462 c6295689-39f2-0310-b995-f0e70906c6a9

commit eab657fb523f8fce546e008ce772d1155674dce1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 3 18:43:40 2005 +0000

    change sc_bin_to_hex separator parameter from char to int as character constants are integers in c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2461 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dd3c3f3825d10cde217c5fa87cd0aa2a9aa13ee
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 3 18:29:21 2005 +0000

    cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2460 c6295689-39f2-0310-b995-f0e70906c6a9

commit d443d373a44dc42fc46ba535df07f6ccbeb5cceb
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 3 11:33:14 2005 +0000

    More typo fixes, from JP Zikora
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2459 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41889b27a16f53a632d33e7f57f32cf8a09288a0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 3 09:07:09 2005 +0000

    Export function parse_x509_cert()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2458 c6295689-39f2-0310-b995-f0e70906c6a9

commit 37cd955055ccd48c5d0a15425e4fa6393ee66628
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 3 09:05:09 2005 +0000

    Allow to seach a data object by it's application OID
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2457 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0f267468e2ae141560df1803ff98e9fc4d3519f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 3 09:00:00 2005 +0000

    Added function sc_compare_oid()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2456 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94d899931e9d4159bb6b53e89566ebe9f0075025
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 2 21:13:06 2005 +0000

    cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2455 c6295689-39f2-0310-b995-f0e70906c6a9

commit 080887c62f72d1d8d279bc5839c86ed67eabbf11
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 2 20:48:27 2005 +0000

    Typo fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2454 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a8401a776e0322d1b8bac1e2241d36e317c4c26
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 1 08:59:06 2005 +0000

    check malloc return value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2453 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90003b36b719bca4bf318d823701ad009e1f8030
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 29 21:21:03 2005 +0000

    Added support for the Belgian EID card (shows the contents of the ID and Address files)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2452 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90de6236295dc15e2691e9fa58455f9be8e0df04
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 29 21:15:17 2005 +0000

    Add eidenv.exe tool
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2451 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5b586715a7e77ae030e7d4fc5549c154ebe5381
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 29 21:14:46 2005 +0000

    Now compiles on Win32
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2450 c6295689-39f2-0310-b995-f0e70906c6a9

commit a5dca97c2887521ac6ec8aad27772c38feac7982
Author: mb <mb@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 29 14:38:57 2005 +0000

    Fixed a warning (comparison between signed and unsigned).
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2449 c6295689-39f2-0310-b995-f0e70906c6a9

commit f59a51397c4243a888fb3819f8421fc9febada6c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 24 14:06:02 2005 +0000

    apply Stef's patch which puts all public objects in first slot if only one pin is present (and hide_empty_tokens is true)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2448 c6295689-39f2-0310-b995-f0e70906c6a9

commit c26dde1a8298863c8ff5af478c8429c6258df951
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 21 21:05:40 2005 +0000

    fix compiling without openssl.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2447 c6295689-39f2-0310-b995-f0e70906c6a9

commit e16485826ee0b6ce4c8e5601302f14e0a5d6b70a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 20 18:19:40 2005 +0000

    fix memory leak; patch supplied by Imanishi Masayuki <Masayuki.Imanishi@jp.sony.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2446 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2751a60da551b65ee4ba0f61ded6662a98867a3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 20 17:58:55 2005 +0000

    fix use of x509v3 key usage extension value
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2445 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee352f23ed09ccb912466df975d8f769d33b57f5
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 20 00:47:09 2005 +0000

    oops, how did I create that...
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2444 c6295689-39f2-0310-b995-f0e70906c6a9

commit a355f9cdd772d4dea4c24329c890c5d68200aa31
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 20 00:43:38 2005 +0000

    added docbook XML source for tools manpages
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2443 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9894a10d37bd1d3521dfe8993b037b99ca890ec3
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 19 23:28:40 2005 +0000

    Initial import.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2442 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66b080f1544680b247565aa4053d9d83075cb26b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 19 21:03:03 2005 +0000

    sorry, not compatible :(
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2441 c6295689-39f2-0310-b995-f0e70906c6a9

commit b99c52c6f5428f900ca1e668ebebb4d17891e524
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 19 11:57:31 2005 +0000

    free error strings on when destroying context
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2440 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70d50abfba8979480741a1aec013fdb9fe180966
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 19 11:20:17 2005 +0000

    #ifndef strncasecmp doesn't work because strncasecmp is no macro (thx Nils)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2439 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65ab52d9cfaac64df51a8f3caf092ff5bb9371c1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 22:33:27 2005 +0000

    add new atr.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2438 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1261369e26507a45ed85273c8b179cc80ce2170
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 21:30:30 2005 +0000

    only copy resp if the operation was successful
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2437 c6295689-39f2-0310-b995-f0e70906c6a9

commit e09bdac57b1b63bfbc0ec2961e14ce204304a320
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 20:20:22 2005 +0000

    don't use software prng
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2436 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1e2ac529d881f9dcf12937c05b4ddfb2f9d7bb3
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 12:20:24 2005 +0000

    Added #ifdef HAVE_OPENSSL for read_ssh_key()
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2435 c6295689-39f2-0310-b995-f0e70906c6a9

commit e3b11a0aa45eb48ba4f67949b0b9d375b19e0a36
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 12:13:48 2005 +0000

    Don't build libp11 if we don't have OpenSSL support
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2434 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4377e77f339c777d1819951fff4043ee0f91fd47
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 12:12:37 2005 +0000

    Get include files also from include\opensc, this is a temporary fix so the compiler finds the rsaref/ dir when reaching '#include <rsaref/pkcs11.h>' in libp11-int.h
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2433 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9a7cd402a641a5b3f3b56d0385108ccfa777c94
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 11:56:11 2005 +0000

    Changes in .obj and .lib files now we have the new libp11
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2432 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ba355247dc23e58752b2ca1cfb685dbafd6cef7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 11:54:07 2005 +0000

    No strncasecmp() on Windows
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2431 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ac748f6d3907cf8e39725c8a6562741d881d5cc
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 11:53:19 2005 +0000

    Install libp11.h + small fixes
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2430 c6295689-39f2-0310-b995-f0e70906c6a9

commit 205d23f4c33cabe5b593b483e567864e219b2d4d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 11:51:34 2005 +0000

    No strncasecmp() on Windows
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2429 c6295689-39f2-0310-b995-f0e70906c6a9

commit ada4504daf83bb59554a323145965a801ead20ec
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 09:15:06 2005 +0000

    open a session if there is none.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2428 c6295689-39f2-0310-b995-f0e70906c6a9

commit 817e26a362b06ceb6422d80b0d3c34aeb08413ba
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 18 07:26:41 2005 +0000

    starcos has a GET CHALLENGE command ... useless flag
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2427 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7bbc8e95a2fb729fd3b56a535fc1e98983f6223
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 21:19:11 2005 +0000

    add functions to access smart card as random number generator.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2426 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27ef63fba2dce48a0dec13e76079ab75a318b594
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:40:23 2005 +0000

    fix scconf linking.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2425 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69c25e325a2052a03b417213e485bc1cca84ce4d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:31:37 2005 +0000

    oops, ldap/scam is no more.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2424 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86888a0acf799f9ca57c46b3d1f30ff71a41128d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:27:46 2005 +0000

    fix two small makefile gliches.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2423 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c9cb46f724ec7a57a0433196e1ad2ac030d0b6a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:23:25 2005 +0000

    remove scldap.conf, and pkg-config files for libscldap and libscam.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2422 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0495aef57fb91a7ca8936f0c2003fd13fb99f427
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:19:16 2005 +0000

    remove ldap/random related makefile commands.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2421 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd0885369392c4dd840dd9c1e3903de9f4943a8d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:18:31 2005 +0000

    remove code dealing with random numbers for now.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2420 c6295689-39f2-0310-b995-f0e70906c6a9

commit e428f7e171a4acdfe21903fb0b07846c0858d3c1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:11:32 2005 +0000

    remove random/prng related code from configure.in
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2419 c6295689-39f2-0310-b995-f0e70906c6a9

commit 944904fac5c8638bf2f156efcf6af800d5157240
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:10:13 2005 +0000

    remove scrandom code. We will implement proper code to get random data
    from the card itself.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2418 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3449847d7442638c3acd22ebdff95b0aad960fab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:09:11 2005 +0000

    remove pam/ldap/sia specific code from configure.in
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2417 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7de8272675a299967f78477837cc1aa1089f165e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:08:06 2005 +0000

    pam module obsoleted by pam_pkcs11 and pam_p11.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2416 c6295689-39f2-0310-b995-f0e70906c6a9

commit 841694817c0ea27a42d86302cd805923221cef79
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 20:06:23 2005 +0000

    add Makefile for man/ directory.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2415 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab19a6c15b6a3c448c15297d1ad3843863712981
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 19:59:36 2005 +0000

    additionl cleanup from doc / docs merge.
    New include api documentation (xml files at least). Not yet installed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2414 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49a3563cc4cc244dcd8670cfe6f580e7b1f62cee
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 19:50:01 2005 +0000

    Add wiki snapshot.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2413 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed081226640a4ae60c68265b555a7aaff60c883b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 19:49:40 2005 +0000

    move docs/ to do/. mark it "old" (plan is to use the wiki).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2412 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b8ddaf64b0ab2682f21c5e9a133476c1883d9b9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 19:19:56 2005 +0000

    move man pages to man/ directory.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2411 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85ab01a8cd09047d8aec499b432486fca9036c72
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 17 09:39:44 2005 +0000

    fail() returned NULL, windows need return 0;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2410 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7939f0b0100ed123b6f6ebeee441983f1d8f3997
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 15 13:37:38 2005 +0000

    If we want to test signing, first see if the key can do this
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2409 c6295689-39f2-0310-b995-f0e70906c6a9

commit be65c3804eb16d35a73fc8b65cc31fc22bfb9b38
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 15 13:32:14 2005 +0000

    Cast correctly
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2408 c6295689-39f2-0310-b995-f0e70906c6a9

commit f21115d6e81dbca0a2f6058960dc4c8f98103b41
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 14 10:38:06 2005 +0000

    cert to key is even more interesting than key to cert.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2407 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16a89ae2eff91d3b415a84b20c5a2eb23b19b3d6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 17:11:26 2005 +0000

    Unload twice causes segfault.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2406 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19419bb3d14abf91e0b01b786fa8a78552376530
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 17:10:54 2005 +0000

    make the sign/encrypt/decrypt opterations public.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2405 c6295689-39f2-0310-b995-f0e70906c6a9

commit 124b046d99e885bd1d221b3f5b7d9568cb4ab4b4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 13:50:21 2005 +0000

    first step to eleminate libpkcs11.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2404 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc27ebf414bd54633568349539ef0544fd19cde3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 13:48:03 2005 +0000

    commit latest code, improve include file split, first steps towards
    eleminating libpkcs11.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2403 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5038b576916eb29cd58563211dceb6c894df3d48
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 11:47:05 2005 +0000

    add new internal header file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2402 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23685829b8bc8633b4490639dfea74f0efc59c37
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 11:41:20 2005 +0000

    split libp11.h in an internal and a public part.
    add p11_ops.c and other code by kevin stefanik.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2401 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbada7cbcad59be993d2a87a07be2df13345db7a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 10:24:54 2005 +0000

    install header file, fix linking.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2400 c6295689-39f2-0310-b995-f0e70906c6a9

commit 217c4fcf1277400e069b90d405226233019ad138
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 13 08:25:23 2005 +0000

    Increased the ID length
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2399 c6295689-39f2-0310-b995-f0e70906c6a9

commit d88f377747d8bd3cb8d88b065db33c17c4bdd9a9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 12 21:03:47 2005 +0000

    interpret rec_nr == 0 as a request to create a new record, fix for bug report #21
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2398 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9cf818d5628a4ad4ddb6aeaaa8b7817df3a5f31
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 11 21:31:48 2005 +0000

    in case of T0 the Le value is omitted for case 4 APDUs; patch supplied by richard.musil@bigfoot.com
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2397 c6295689-39f2-0310-b995-f0e70906c6a9

commit eddd1e3ab65a5b8d9f57e737666ed5336b654a70
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 11 21:28:55 2005 +0000

    fix file descriptor byte and ef_structure type; patch supplied by richard.musil@bigfoot.com
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2396 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0259f046cd865f79b5f5dddd7c50912f786c19f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 11 08:26:36 2005 +0000

    remove reference to no longer existing file pkcs11-internal.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2395 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ffcd1fb9c23e0954654a96b8666b94696d162f0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 20:32:27 2005 +0000

    fix compiling and distribution package.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2394 c6295689-39f2-0310-b995-f0e70906c6a9

commit 085c3cedbd7558a11027a93bc933a3ec24daf001
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 18:40:08 2005 +0000

    use new libp11.h header from libp11.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2393 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3b3e7607e375ab09eb93f61b35620faa733f395
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 18:38:52 2005 +0000

    use new name in include syntax.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2392 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30b995763700d0d437fb10a69118d6a1e0c11941
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 18:37:58 2005 +0000

    enable libp11.pc pkg-config file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2391 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f308a1fcc8423ab9e06b488ece0143b1b570e47
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 18:36:24 2005 +0000

    move and rename pkcs11-internal.h to libp11.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2390 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74276068679257b8b6f32198f1c9ce1c9bd25ff7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 17:03:44 2005 +0000

    add Makefiles for libp11
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2389 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2445a52ad4a0eef2be8b629a2db22e6f6397146d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 17:03:15 2005 +0000

    do not install libpkcs11 as shared library.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2388 c6295689-39f2-0310-b995-f0e70906c6a9

commit 48180839380a75f26b15129756586c51df90abaa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 10 17:01:03 2005 +0000

    move p11_* into a new library.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2387 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65eec98c71e7a30edf9125e0ffc7acbd20c9b035
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 8 21:16:31 2005 +0000

    enhance attribute support; patch supplied by supplied by Marc Bevand <bevand_m@epita.fr>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2386 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c011b0cabc0d9bed37e6a38788c5bacc3102f1e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 8 21:04:23 2005 +0000

    fix check of the return value in C_GetAttributeValue; supplied by Marc Bevand <bevand_m@epita.fr>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2385 c6295689-39f2-0310-b995-f0e70906c6a9

commit 467b0e65f9b03c417b6db6944166762b2162b52f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 6 12:59:45 2005 +0000

    Oops, shouldn't have changed the serial number size in x509cert_info to 256
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2384 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2731db845d5b937f59b3b392785de07278320364
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 6 12:23:03 2005 +0000

    No uint32_t type in MS VS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2383 c6295689-39f2-0310-b995-f0e70906c6a9

commit df232cfe67faed6dc54204a6459692cd7fe23868
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 5 17:45:10 2005 +0000

    Don't ignore the profile_option -- remark from Victor Tarasov
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2382 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2585106e3c06055340243336710570b0a556d474
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 5 17:43:50 2005 +0000

    Print an error if sc_pkcs15init_bind() fails
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2381 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c856aa71ff18a2543712d0e880982535b9c142f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 5 15:27:59 2005 +0000

    Increased sizes in rsakey_info struct
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2380 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9f652dc8193cd4efaf1542f4ce9cb0669b90662
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 5 15:22:59 2005 +0000

    Typo fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2379 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b574b7925ea6571f3b0931cc928fa5a481bb096
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 5 15:22:17 2005 +0000

    SetCOS 4.4.1 supports keypair generation, keysizes of 512, 768 and 1024 are fine
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2378 c6295689-39f2-0310-b995-f0e70906c6a9

commit de60c98462f78082edd53f47ba499db97627358b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 5 13:34:03 2005 +0000

    Macro cleanup, patch received some time ago but appearently not committed
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2377 c6295689-39f2-0310-b995-f0e70906c6a9

commit 052575e0ddcdf0c051881aca6e51d3eb857effbe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 1 22:37:39 2005 +0000

    remove unnecessary include
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2376 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5217250258fffeeb44ccafc679e06a8c3b14dd3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 1 08:40:42 2005 +0000

    remove duplicate entry
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2375 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbb32e02e13f77d65790279794a17895336cbcae
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 1 08:26:55 2005 +0000

    add initial support for atrust acos cards; patch supplied by Franz Brandl <f.brandl@a-trust.at>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2374 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc1a5b6e2784d28cca2c12953d8601d98563a0f3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 1 07:17:01 2005 +0000

    remove unused variable
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2373 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3bbc9db115dbe24a75329f07be10d66e02418412
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 1 06:27:59 2005 +0000

    GIVE RANDOM is for sm, so remove it from the etoken key generation code
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2372 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2819d87ce7ac24396ab2c3a1ffa54c4016bfd0c8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 29 11:32:48 2005 +0000

    Make the names fit in pkcs11 limits
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2371 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c123d5bc76b16c2f56cf3d4580b6f070dd3ae61
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 28 21:16:02 2005 +0000

    oops, missed a #endif.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2370 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3ab255406023e0624fcb5ee16718209af5d3764
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 28 20:33:32 2005 +0000

    use uint32_t, it is a c++ stdtype and should work on all plattforms.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2369 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5ee45ace12dd1edaba9df6335b7434bd8a81b08
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 28 13:50:41 2005 +0000

    Use uint32_t on Mac
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2368 c6295689-39f2-0310-b995-f0e70906c6a9

commit 336c856e77652cae37a569af84c759d636947321
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 28 04:09:23 2005 +0000

    rediffed against openssh 4.1p1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2367 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e0d600b10c781b761613df2df8be42457a2941f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 21:49:36 2005 +0000

    openscd code hasn't been used by anyone in years.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2366 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d0f17bc9566b562d705d21ad6a5e230fd35079c
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 13:52:08 2005 +0000

    Annoying typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2365 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f2a3a58c777014bece3c66dee03299254663aa8
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 13:51:45 2005 +0000

    Adjust function name to reflect documented functionality
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2364 c6295689-39f2-0310-b995-f0e70906c6a9

commit 505d2a5f7ce071f13b56789340a71cf1a812511e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 11:51:00 2005 +0000

    No asm/types.h on MacOSX either
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2363 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d58adfbf428123b9c0e32295da29a21513112ac
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 11:47:56 2005 +0000

    add working file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2362 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93707f47ce8be6e1a4ada3daa9b8b63b96912401
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 11:47:34 2005 +0000

    remove broken file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2361 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3eb0a0a9eb451599aa8112b38a3b68b984ab8fad
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 27 10:08:29 2005 +0000

    Log in hex format of course...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2360 c6295689-39f2-0310-b995-f0e70906c6a9

commit 57ca997cb9baa8fca063152a375b3920d7f922ef
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 22 10:32:27 2005 +0000

    Windows: no _uu32 in MS VS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2359 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99641488c348d63e4e1e4d83055f8158cbc1d9b9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 17 19:34:55 2005 +0000

    add comment about usb crypto tokens.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2358 c6295689-39f2-0310-b995-f0e70906c6a9

commit e725239e9c3198068504a65804f17ddf4e058f45
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 17 15:47:28 2005 +0000

    Fix: if a card is inserted, the SC_SLOT_CARD_CHANGED flag must be set
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2357 c6295689-39f2-0310-b995-f0e70906c6a9

commit aee678bdac3b9af279a077e9cc79fa3629efa24a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 16 20:15:38 2005 +0000

    small makefile fix.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2356 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0e6b11bbacce099795b7f0214ca67fcb90ca772
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 16 19:39:34 2005 +0000

    make it compile without openssl.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2355 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf6808e3d8c07b41db8218e1e7ae223db92c6451
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 16 19:35:31 2005 +0000

    "smart card" not "smartcard" or "SmartCard".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2354 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0265f42efa38321c164b57977be4c13805c96839
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 16 19:28:23 2005 +0000

    "smart card" not smartcard or SmartCards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2353 c6295689-39f2-0310-b995-f0e70906c6a9

commit a4aecd792cec81397df31158566f92a5346aad74
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 16 18:13:23 2005 +0000

    update to current version of pkg.m4 from pkg-config.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2352 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5b1018d04f721249d5b64a9c9bc20519d2a6e65
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 15 08:57:47 2005 +0000

    add options for displaying openssh keys.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2351 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4568015476ca6af199328d3c9b908ff52d8c0eba
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 15 08:56:15 2005 +0000

    move libraries from lib/pkcs11 to lib/,
    rename the engine dir to engine, and
    make it "openssl" so openssl can load
    the engines automaticaly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2350 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6db0256c9194201f658b389e0f32ebe3f7f5cde
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 14 21:37:19 2005 +0000

    add netkey-tool from Peter Koch
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2349 c6295689-39f2-0310-b995-f0e70906c6a9

commit 030d58d7ca577a5d9abc5635af03a619a61fe990
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 14:31:09 2005 +0000

    It is plain wrong to call again pcsc layer locking methods as card.c:sc_lock()
    already does it when somebody goes to the card the very first time and thus
    begins a transaction. iso7816.c methods should lock the card in
    iso7816_pin_cmd() on card level if anything.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2348 c6295689-39f2-0310-b995-f0e70906c6a9

commit fdb52385cd310ef508590d2c320cc49c4351f888
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 7 12:43:43 2005 +0000

    Add support for pinpad PIN verification.
    
    Patch from Andreas Steffen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2347 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca0416a60d89764c6147f8e4d367beee37842022
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 22 20:07:31 2005 +0000

    microsoft's vs 6.0 doesn't like initialization during declaration. let's use memset instead
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2346 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d5d3eb1517ee8a99d600147ff176490e6825126
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 21 10:21:53 2005 +0000

    enhance object writting support, patch supplied by Marc Bevand <bevand_m@epita.fr>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2345 c6295689-39f2-0310-b995-f0e70906c6a9

commit a248911ed25a24e9c7b0561e40139767a8b73ec7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 20 09:55:13 2005 +0000

    cleanup, patch supplied by Marc Bevand
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2344 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1625365bfa9641fec3caf4c4915ffabcfada6c1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 17 21:51:51 2005 +0000

    update from Peter Koch
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2343 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa333542db83e22e266e9eaa22aee0dbe1338dc4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 11 14:00:03 2005 +0000

    Don't used cashed PINs for a UserConsent key!
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2342 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a8c465fbb23e5be15bbd99dfc66ab1b8bc8df99
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 10 19:58:34 2005 +0000

    Better choices for the sizes/FIDs + typo fix
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2341 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a7146cd629648f3efcf5e76dd96aeca7ac26558
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 10 12:59:38 2005 +0000

    add certs only when we have zlib support
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2340 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad86ded031ed8f621b0c7d1ec3ad449f7f3a9fff
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 9 11:46:23 2005 +0000

    If an object is added to a pkcs15_card, don't call sc_pkcs15_free_object() on it
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2339 c6295689-39f2-0310-b995-f0e70906c6a9

commit e78d245bd36cd488ca5e1beb81766d4740170a81
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 8 21:30:06 2005 +0000

    add support for Actalis card; patch supplied by Andrea Frigido
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2338 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8631af20fd1522d8d0c3ddcf7f873b0ba0567d5f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 7 22:22:07 2005 +0000

    add initialization support for token/pin; supplied by Marc Bevand <marc.bevand@smartjog.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2337 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08d94ba74e11a8e766bd17477962234850b602bd
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 6 13:52:41 2005 +0000

    Fix: re-link the SO-PIN to the pkcs15 DF, otherwise the AC's in sc_pkcs15init_add_app() are ignored resulting in a.o. an unprotected pkcs15 DF
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2336 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6712b8736c4e62d48f192a9c0b4ba8e138c4aa8
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 6 11:31:59 2005 +0000

    Fixed handling of pkcs15 types and added support for storing pkcs15 data objects
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2335 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14e03407c1297d9507daaccd75a5d8fd46c43ac6
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 4 13:17:26 2005 +0000

    Have pkcs15init as a DLL instead of as a static lib file
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2334 c6295689-39f2-0310-b995-f0e70906c6a9

commit 246a31be8cb48306b05d6ab1e693325c635e15b6
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 3 09:33:04 2005 +0000

    Announce the capabilities of the terminal
    'press enter for pinpad'-enable the pintest utility
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2333 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b903845d73be38d335a7c3f79df48a3877188f0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 2 19:17:12 2005 +0000

    Removed double line -- thx Nils
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2332 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38b9c7e5655ec2b0b4c905a0e1cf0d516ca35948
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 2 18:48:59 2005 +0000

    atr table reallocation fix by William Wanders
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2331 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77af320e665183c03250bb9bc557d4ac2ca463ff
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 2 09:43:42 2005 +0000

    Removed unnessary #includes from previous path
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2330 c6295689-39f2-0310-b995-f0e70906c6a9

commit d19e2fb76819ca10fe6e64862e4fcbe2cb1bb71e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 2 09:41:06 2005 +0000

    Typo fix -- causes compile error on MS VS
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2329 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f3cfb09b5cb2ae4da02717daa6aab8005bebb18
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 30 10:07:07 2005 +0000

    free pin when ending a pkcs11 session; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2328 c6295689-39f2-0310-b995-f0e70906c6a9

commit 577ccf1b82bc1cce0e0f36112b12ec62517a8a40
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 29 20:23:48 2005 +0000

    create a key that does signing and decryption.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2327 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32fd6e0a1a7bc55014cc58b17ec99e627d5e459c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 26 09:09:00 2005 +0000

    Oops, didn't update news file yesterday before the release.
    So at least document it now.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2326 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d4be8f04bd6dcd912afec8684b4ca617eff8a65
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 25 21:00:10 2005 +0000

    changes from Antonino Iacono
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2325 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d8357ec7e42636d147ea68ac3a782a608f16127
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 25 19:21:43 2005 +0000

    Ludovic Rousseau: rxvt can also do color so here is a patch.
    
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2322 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0372069d74e1fe5ccb23644fb4bc610cc6355590
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 24 16:17:20 2005 +0000

    changes from Antonino Iacono
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2319 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9534927395e0f775cd65819166775956c9e3b90
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 24 09:28:27 2005 +0000

    bugfix; supplied by Marc Bevand <marc.bevand@smartjog.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2318 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45879d3997688164a206ab8c37a0ad58b19d6a6d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 23 12:26:00 2005 +0000

    add callback_data parameter to get_pin; supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2317 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9e2a443e3e80bb9f2ec832a0bd96be0e5c2175a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 23 11:20:24 2005 +0000

    try file id if selection via df name doesn't work; Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2316 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ad11a6b28ab13712e7c130144af5dcbbbdac74b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 19 18:38:26 2005 +0000

    fix problem with unsigned int; pointe out by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2315 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20059c984f851921d7cec269e21d6cf35d6ddf9a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 17 16:43:31 2005 +0000

    add support for yet another infocamere card, submitted by Sirio Capizzi <graaf@virgilio.it>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2314 c6295689-39f2-0310-b995-f0e70906c6a9

commit 730dcb69c7d5d674d538d63ce31d32e29b082a55
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 13:42:47 2005 +0000

    check for zlib
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2313 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88cea8e2124f7a41ccc4a904e1bad3cad67856c6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 13:36:30 2005 +0000

    add yet another atr to card-etoken.c
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2312 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34e7133bd26e10f0c41212d8b821d0245f81bbbb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 12:06:28 2005 +0000

    added yet another atr to card-flex, supplied by: Giuseppe Raspanti <graspanti@crytron.com>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2311 c6295689-39f2-0310-b995-f0e70906c6a9

commit 315b961d9aba171e11714b9e2d0f1f8647f37e04
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 10:40:00 2005 +0000

    add support for gpk16k gemsafe cards, Douglas E. Engert et al
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2310 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf089a8fbb822999b0ca7acd3d22759b38a6fe58
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 10:37:14 2005 +0000

    cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2309 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08386311071bf27b4e6117f13a35d27f8f7c4685
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 16 10:21:36 2005 +0000

    scrandom interface is not used by starcos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2308 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1755375d4e5841149ac96b71edf86ffadef07b1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 12 20:46:10 2005 +0000

    set the version to "WIP" (work in progress) for the snapshot script.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2306 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99190b4b53afb26f5fa4819bf294450a56bd120a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 11 06:36:20 2005 +0000

    make it work again (at least for me)
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2305 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66da039291a6777e93dc687508fd3282bb0ae603
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 21:58:31 2005 +0000

    remove broken code, add skeleton for a new function
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2304 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce140b65eb6f8ea8800ac32c3cbc1f0a1b38fa4d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 10 20:59:11 2005 +0000

    disabled auth key/pin as the IDs are wrong
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2303 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab52f802c7f0f126a0a9afb040cc4f1b79280c0f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 9 13:32:22 2005 +0000

    fix compiler warnings
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2302 c6295689-39f2-0310-b995-f0e70906c6a9

commit af8bf9d21af444e6837d449ff050074406c00a35
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 9 13:23:47 2005 +0000

    add support cert loading, patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2301 c6295689-39f2-0310-b995-f0e70906c6a9

commit 489518b26a906e8e302e836e05888200204c9568
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 19:45:39 2005 +0000

    Small fixes in the teletrust spec support code and related NEWS item
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2300 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b95a90e7a7c4d0acec7f7fe13c4f7eb00b03262
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 08:45:56 2005 +0000

    files were renamed - adjust QUICKSTART file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2298 c6295689-39f2-0310-b995-f0e70906c6a9

commit 80f3d4226b3b3d95d99bca48a02bb669c37f2d77
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 7 07:29:18 2005 +0000

    update trunk: include solaris/* files in tar file, update NEWS with
    0.9.6 changes, add profile_dir to solaris/openscc.conf-dist
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2294 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac4dfc0e383ef916488fe2e230c29f3f39640388
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 21:52:31 2005 +0000

    cleanup
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2292 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3439f9cdd7c51155f412fda95786f145a5001fe8
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 4 09:30:54 2005 +0000

    Added initial support for SetCOS 4.4 cards
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2291 c6295689-39f2-0310-b995-f0e70906c6a9

commit abf3bf9549d9909e2992a1455ee29b507da6a2e6
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 30 18:25:50 2005 +0000

    If the SC_CARD_CAP_USE_FCI_AC flag is set, sc_pkcs15init_authenticate() will check the file's ACs on the card instead of relying on the ones in the profile file
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2290 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6f8354b6eef6600f908627ca8836f9e6b375bd7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 30 18:18:46 2005 +0000

    Added another life cycle state
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2289 c6295689-39f2-0310-b995-f0e70906c6a9

commit d67389dfd6fa56248951afe904112e18af7420d2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 30 16:40:01 2005 +0000

    bools are int; pointed out by William Wanders <william@wanders.org>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2288 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2526dfd8ebcd0034d94e707e5c93e5b52e08d29
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 29 19:59:30 2005 +0000

    fix for solaris; patch supplied by Douglas E. Engert <deengert@anl.gov>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2287 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e7ca27fda149d3cd3a9db07f29b0b24f453e96d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 29 07:30:16 2005 +0000

    Add solaris/ subdir and files to make using opensc on solaris easier.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2286 c6295689-39f2-0310-b995-f0e70906c6a9

commit de62a5306de5d2888e90e48959f08957f4f2cdd0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 26 20:10:13 2005 +0000

    Moved init-card() till after the pin-initialisation, this allows init-card() to do operation with a pin without doing the pin stuff again. Shouldn't break anything -- if it does, we'll undo this.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2284 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9221f1b2b21492dd6ad5187c8774265c784e30d2
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 26 20:00:14 2005 +0000

    Added opensc-to-pks11 error mapping
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2283 c6295689-39f2-0310-b995-f0e70906c6a9

commit e992e1ddfb725154802168c0d8d062fc3d2d1407
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 26 19:48:28 2005 +0000

    Prevent doubles in the ACL entries
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2282 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6102459d13b7241e74b57455933fc93d329c2819
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 26 19:47:13 2005 +0000

    Allow an empty path in iso7816_delete_file(), to indicate that the current DF should be deleted.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2281 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9029170d16c371a3c3b556472d7a22028e05bcb5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 26 19:35:35 2005 +0000

    No unistd.h on Windows
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2280 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b94043a6ef10e738ae122c2ce8bfe1e296fc431
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 26 19:33:17 2005 +0000

    Removed pinpad-ccid
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2279 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72f20a71d85d45b60f15b8521c6f1a0f8013914f
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 24 16:57:00 2005 +0000

    Parentheses too..
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2278 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1139181493d1911633965c69cd31f509d150f12b
Author: martin <martin@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 24 16:54:10 2005 +0000

     * fix an return code from ctbcs spec
     * make sure pins and puk are correctly associated in esteid emu
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2277 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5b2845340bd3badf71d6311d215cb6c7a8fb469
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 23:24:13 2005 +0000

    silence a few warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2274 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42a06f2101e1b3a399834589296bbbe8599e47fc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 23:16:38 2005 +0000

    use tab, not spaces.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2273 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89b4f23a423ac339e700ab44765716b4fc0b9232
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 23:12:42 2005 +0000

    fill in profile_dir in config file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2272 c6295689-39f2-0310-b995-f0e70906c6a9

commit cda5dcd508a1ff2b98358a6e36d8ebe78a6b9d67
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 23:12:06 2005 +0000

    generate config file code with the configure'd profile dir in opensc.conf.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2271 c6295689-39f2-0310-b995-f0e70906c6a9

commit 52d3262e90d183b54082f53bbe7e7a0ba94224ce
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 23:10:50 2005 +0000

    apply improved profile handling code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2270 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54ac27bd4070d41abc4a4ce5a5efbdff8ad33c82
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 22:58:49 2005 +0000

    remove winreg.h as global include (not needed in 99.9% of all files),
    remove obsolete config file / profile dir definitions.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2269 c6295689-39f2-0310-b995-f0e70906c6a9

commit 769792ea31a2491d3b4761ec545abd191e4de84f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 22:44:48 2005 +0000

    fix egate token with cryptoflex on windows.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2261 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7133146d28ed33234600231b4ec88de961e12fc2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 22:37:06 2005 +0000

    put new version in pkcs11-global.c, too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2259 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6958711cb112e43d8310c185e3eea150c966c5e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 21:31:48 2005 +0000

    library was changed in an incompatible way since 0.8, so we need
    to go from 0 to 1.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2250 c6295689-39f2-0310-b995-f0e70906c6a9

commit 035fa1e0a40c3e869fb85b8b48d132e6bc91d106
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 21:26:28 2005 +0000

    import news from 0.9 branch / releases.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2246 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d27151cf6d8de817db5dfd1ecceb8c2c2d4a786
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 21:08:13 2005 +0000

    remove .cvsignore files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2243 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c92db8b30e8de2c6984e9d88eb242a4332e1d23
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 23 21:07:50 2005 +0000

    remove debian/ as it is obsolete and was not maintained at all.
    this was eric can commit the current debian/ used by the official
    debian packages.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2242 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2cd6d428ab70512b1b07ae59772d36d7f7ba2eaf
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 18 20:36:52 2005 +0000

    fix free argument, pointed out by Giuseppe Sacco <giuseppe@eppesuigoccas.homedns.org>
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2240 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95225b773126dee26d3ea3485348176ed446be91
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 12:46:31 2005 +0000

    common pin validity check, supprot (still disabled) for pinpads in modify and unblock
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2239 c6295689-39f2-0310-b995-f0e70906c6a9

commit 295fe6138d356866331ff2a080f95541322afd5a
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 12:44:31 2005 +0000

    Introduce TeleTrust Class 2 spec compliant pinpad functionality and
    incorporate the pinpad functions directly to reader-pcsc.c. Mainly because
    the code requires access to internal pcsc-only structures and splitting
    some definitions to an extra header would not be very nice. Also, the API
    is pcsc based and usable with other ifdhandlers too, not just CCID.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2238 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6c67692da690b5e61c7f0d86f94f227890cba70
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 12:25:25 2005 +0000

    Minor additions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2237 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6f9aa561bff89b831789d8f0493cb0afa72dd2f
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 11:45:29 2005 +0000

    A single flag for all pkcs15 layer applications to detect a) if pinpad is
    present b) and if we should make use of it. Also remove the CCID specific
    option for pinpad detection - if detected, the flag will anyway always be
    set as it reflects the capabilities of the actual reader. Also, the
    detection mechanism is changed to be crossplatform.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2236 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3eec01945aab767144d03761a3d5b47e3365852d
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 11:14:41 2005 +0000

    copypaste ****s. Introduce a common internal function that removes several copypastes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2235 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1ffc6b72ed2b78cffe0796742418f8a38864dbc
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 10:47:01 2005 +0000

    Space cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2234 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb4717ea177a02f2ad1e07bc205ce56ea933eb73
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 9 00:04:44 2005 +0000

    API fixup: use defined type instead of struct for exposed structs (part 2)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2233 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d97002824a6067a1a55908cefc17fb80d41c814
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 8 20:59:35 2005 +0000

    API fixup: use defined type instead of struct for exposed structs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2232 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c9895c8968e160a38e95d912f7b64e2aa707a4f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 7 14:00:31 2005 +0000

    - Add support for getting location of the configuration
      file from Windows registry (HKCU/HKLM)
    - Handle OPENSC_CONF environment variable on unix
    - Add configuration option "profile_dir" to bypass
      build time setting for pkcs15 initialization profiles
      directory
    
    Patch by Andreas Jellinghaus, with minor enhancements
    from me.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2231 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ca66815b659b6d0f4ed37e04c980cd45308cb2a
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 6 14:37:22 2005 +0000

    whitespace cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2230 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1463b324b32e8795558f1aff118e865ce57ee9aa
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 4 01:41:39 2005 +0000

    consistent naming and trimmed lines
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2229 c6295689-39f2-0310-b995-f0e70906c6a9

commit cae39291de5ee116d6116bdddcd16a33e8a50fe7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 3 18:12:07 2005 +0000

    - eidenv cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2228 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47721beae24fed515ca343d639813aae22cfc63d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 09:03:19 2005 +0000

    - Minor fixes, convert crlf -> lf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2227 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49f622ea52280279df1e078f8f7049a0340c3e78
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 09:02:44 2005 +0000

    - Disable openscd
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2226 c6295689-39f2-0310-b995-f0e70906c6a9

commit a702bdbdc884bd8f48b8a53f471be6322520d9bb
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 08:11:47 2005 +0000

    Removed openscd from automake/distribution as it should be dead code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2225 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8baf433e36f9c4f0226d242196695aa78fa396d1
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 08:05:52 2005 +0000

    eidenv - small utility for Estonian ID card *nix only)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2224 c6295689-39f2-0310-b995-f0e70906c6a9

commit e336488431e71fdf07e8c63f51b101272aca86bd
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 06:03:49 2005 +0000

    Correctly check for reading out of file bounds, thx to Sirio Capizi
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2223 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11526e3ccfd722e9e2223d1a27b94da0d29bedbc
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 02:06:41 2005 +0000

    Add XML header + manual title
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2222 c6295689-39f2-0310-b995-f0e70906c6a9

commit 792ed02f9d7eda2c2dd3a4307d4937ee564f1838
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 02:01:40 2005 +0000

    Work around simplelist bug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2221 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5163787fff51d24955b184776cd2e43376b3cbb1
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 00:30:24 2005 +0000

    Add proper XML header
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2220 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c5fc2330a01c02880292e231c60d30d28d8c93a
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 00:10:54 2005 +0000

    Add proper XML header
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2219 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07a9f51d2b80129b2a928d3128e96cc726acf427
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 2 00:08:09 2005 +0000

    removed sc_wait_for_event()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2218 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1208720c6066cecee1b8500429cfb88bbc12c45e
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 23:33:37 2005 +0000

    cleanup headers + add manual title
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2217 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8729db066543b3d9fd4687d6f785167ed3c47ea
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 23:18:24 2005 +0000

    clean up headers + add manual title
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2216 c6295689-39f2-0310-b995-f0e70906c6a9

commit 923b4b521752f56f8bfaf5a425ae7b263d8b45a0
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 23:13:03 2005 +0000

    fix typo's
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2215 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba8e15971f2e932ddbb8783bebec91fe8d6823ca
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 23:02:53 2005 +0000

    Moved sc_wait_for_event() to card ops
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2214 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca8e74e854a860443f7a6609885b3429b2f86c1d
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 22:58:56 2005 +0000

    Added sc_wait_for_event()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2213 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2cf4572d7071b84ff9c4e579e296d87a79e52b08
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 16:28:39 2005 +0000

    Added manual title
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2212 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92834535e1184ebcc45fb71245ea8455d95f3100
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 16:11:10 2005 +0000

    header file cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2211 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c59e531768464359494edf119fe9e82c8d30c7b
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 16:09:50 2005 +0000

    header file cleanup + manual title
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2210 c6295689-39f2-0310-b995-f0e70906c6a9

commit d01442c9b3c81752141a8b36946652216477118e
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 16:01:08 2005 +0000

    cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2209 c6295689-39f2-0310-b995-f0e70906c6a9

commit dca5f97635cd50c5a8f9c301794b51b28027d502
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 1 15:56:07 2005 +0000

    New doc build system
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2208 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7aef081d03f5309c40af62ac51504d80623dc464
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 28 20:08:50 2005 +0000

    * openpgp card, not opengpg
    * add atr_len field to sc_card_t
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2207 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5499fcb3024ee24eab386ad0e649d7d64ba67a01
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 27 07:25:29 2005 +0000

    Typo fix (thx Andreas, sorry Juha
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2206 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1d4fe394ec5bc05c1fd85e22a3b43c3de8cce73
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 26 19:47:54 2005 +0000

    'pinpad-enable' pkcs15-crypt: if it's a pinpad and you press enter when being asked for a PIN, you can enter the PIN on the reader
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2205 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a12e5f9206f28894898a6eb37ab3fd7747ea1c8
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 25 23:57:53 2005 +0000

    Added sc_app_info_t, sc_asn1_entry and sc_strerror()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2204 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8eff12521a7c5621db525d8317de0b48c3bf2f3
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 25 23:56:11 2005 +0000

    Docbook validation fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2203 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f1f3f689489d00d30df9cc30a9e15439fe442d6
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 25 23:55:02 2005 +0000

    Validation fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2202 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1febdee2b2a97e749617eb9b1777f6d8f8f30656
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 25 21:17:11 2005 +0000

    If the PKCS#11 token can itself authenticate the user, we let it do it and ask
    nothing. First because many applications that might link to the openssl
    library would never-ever implement it and anyway it is the task of the pkcs11
    module to take care of the authentication however the module/token feels feasible.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2201 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a118fb33fdae013c20762f2dd02baa4c530daf4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 24 11:11:12 2005 +0000

    - Some fine-tuning to get previous, current
      and future FinEID cards working.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2200 c6295689-39f2-0310-b995-f0e70906c6a9

commit 200697ff7e6c4e7d38e3f081bb6f75f43cc86ab0
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 23:36:06 2005 +0000

    Added application functions from dir.c
    Added app list to sc_card_t docs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2199 c6295689-39f2-0310-b995-f0e70906c6a9

commit e53ab92d6ebd9e20b5c0c9d511b4711fbf56b1b2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 19:34:56 2005 +0000

    - Don't loop forever
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2198 c6295689-39f2-0310-b995-f0e70906c6a9

commit 033a0589fe0e6096bcffeb18c671bd39302a83ae
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 19:09:39 2005 +0000

    - For completeness sake, add SC_CARD_FLAG_VENDOR_MASK
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2197 c6295689-39f2-0310-b995-f0e70906c6a9

commit 359e0393ed654d660aae6ce4241405129e7572ed
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 10:44:30 2005 +0000

    - Preliminary update for the next release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2196 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5beab314029e54e6c78cb1c37bdded663c3efd5e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 10:39:33 2005 +0000

    - Case cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2195 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26442277fb905c0184f285728b2cd82b44f2d116
Author: bert <bert@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 23 02:52:20 2005 +0000

    Initial checkin of new docs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2194 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d80614036f4d783a75ae52f9d59996f3b9011a6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 22 21:03:51 2005 +0000

    bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2193 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a8f2cd6bc787a9c1c5e1a72550799987f62f298
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 22 07:59:42 2005 +0000

    - Introduce a new powerful card_atr mechanism to opensc
      configuration file to handle any configuring related
      to certain card / cards using atrmask.
    - Rewrite Martin's force_protocol to _sc_check_forced_protocol()
      to make it possible to share the code with other reader driver
      implementations than pcsc.
    - Implement _sc_match_atr_block() to help out with force protocol
      and pkcs15 emulation layers, to find information that's not
      stored directly to sc_atr_table.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2192 c6295689-39f2-0310-b995-f0e70906c6a9

commit b80890d49ce5b8a687a6c064544121dfd6cd3cd2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 20 08:26:27 2005 +0000

    - Increase SC_MAX_READER_DRIVERS / SC_MAX_CARD_DRIVERS
    - Some cleanups before future commits
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2191 c6295689-39f2-0310-b995-f0e70906c6a9

commit 118c1f914a69d611f8ceba7d8d529e25bb378cea
Author: pisi <pisi@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 15 14:41:30 2005 +0000

    test label
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2190 c6295689-39f2-0310-b995-f0e70906c6a9

commit 377afe022586b15cce0d7f2734ae1d65202156ae
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 14 09:13:05 2005 +0000

    - Typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2189 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7268799d92f67fa1eb38e66559d333a6bfc98b0e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 14 09:12:44 2005 +0000

    - Fix a long-standing issue for user configured atrs
      in the configuration file; free allocated memory
      from the card_driver structures.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2188 c6295689-39f2-0310-b995-f0e70906c6a9

commit fcc93f089d2ad1dd47c399421865c353c45a5326
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 13 18:24:19 2005 +0000

    - Correct some information for Italian eid cards, I suppose.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2187 c6295689-39f2-0310-b995-f0e70906c6a9

commit 115891430e2699fa38c7d3e29f2b41d3a2539b44
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 13 17:58:12 2005 +0000

    Typo fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2186 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2663f5d7c0bf8673068f1873a865bb1e5f4fc10
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 13 11:41:45 2005 +0000

    - Fixed a typo (Bernhard Froehlich)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2185 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36c507ea5a0c7eb8cde6b4899f94b6bd99bbc308
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 13 08:43:09 2005 +0000

    - Fix a pin issue with pinpad readers (Bernhard Froehlich, Martin Paljak)
    - UI_add_input_string enhancements (Martin Paljak)
    - printf cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2184 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f4029babcf4c90c8c5016cfe03b5c71976b38be
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 12 10:29:25 2005 +0000

    - Update the atr example output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2183 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd76230844150b8a6cd719509c747feafff54b7f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 11 20:43:56 2005 +0000

    - Merge between opensc / openct
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2182 c6295689-39f2-0310-b995-f0e70906c6a9

commit df5e357694cd5ee37489dbf38fa2c5ca36c5c296
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 11 20:09:34 2005 +0000

    - Whitespace cleanup from me and Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2181 c6295689-39f2-0310-b995-f0e70906c6a9

commit df12bfb5b15823af5ff8624431240e524b2f3039
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 11 20:02:46 2005 +0000

    - make use of AC_HELP_STRING in configure.in (Martin Paljak)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2180 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dae83f550fa8b8d0915f2c82b9780b1d80e9845
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 11 10:05:54 2005 +0000

    - A fix for ISO 7816-15 cards I'm playing with. No feedback
      received about the patch, let's move on. The patch shouldn't
      affect any current behaviour.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2179 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86974c8aab5c5e44f7962b176c35f897b117ea45
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 11 10:03:52 2005 +0000

    - A patch for belpic and other global platform pin cards (Martin Paljak)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2178 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43732726ff0ead3f2141b79a26a68cc2c33f31bf
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 11 10:01:57 2005 +0000

    - Add cards.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2177 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4a91b5cd3aeced16e202d315fbb8d61dc27cea2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 14:30:03 2005 +0000

    - Remove entries from TODO list (Martin Paljak)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2176 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5528b58d48c40f24637f0e2789a35822e3c6df7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 12:48:50 2005 +0000

    - Add ATR for a CryptoFlex card from Mario Strasser, that
      I forgot to add over six months ago.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2175 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91d16e04b0a68883050d7a3633c50189c296dfb7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 10:09:15 2005 +0000

    - Change sc_atr_table->id to type, so the name is synced
      between sc_atr_table and sc_card structures.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2174 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6c6e47acbbaa1a7fa4f387904c95addec0a22a3a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 10:08:27 2005 +0000

    - Add cards.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2173 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32b417cbf3b325230b89d46abd271418f80890e2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 10:07:13 2005 +0000

    - First stab towards standardized card types
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2172 c6295689-39f2-0310-b995-f0e70906c6a9

commit 956430edaffa9a40023a4687c4ebfe7c542dba55
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 09:57:41 2005 +0000

    - Remove card-oberthur.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2171 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e3623ff1b1ee6ed23fdfe9fad56633e7fa8b96f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 10 09:56:41 2005 +0000

    - Add cards.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2170 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0eb390686cde56040815b76aebc3f044762894d3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 20:16:24 2005 +0000

    - Remove outdated comment, part of the information
      wasn't even correct.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2169 c6295689-39f2-0310-b995-f0e70906c6a9

commit 539232f0dfafc4b5e9b41a0c24448c6a2aceb93a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 20:03:07 2005 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2168 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9142162c8863184e8a7b06e73686a857566001e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 19:15:40 2005 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2167 c6295689-39f2-0310-b995-f0e70906c6a9

commit 73aa98987591feeb963212a36f8839dd0bfa3227
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:47:46 2005 +0000

    - Unify a bit the output of commands like opensc-tool -D
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2166 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d24aa78c4ab91b710492a8a7209233a042e8926
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:09:27 2005 +0000

    - Fix for the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2165 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d9b32499a0d94f164cbfbc06240d9ef01831da8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:07:36 2005 +0000

    - _sc_match_atr: add support for atrmask field in sc_atr_table
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2164 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42ecafabb88f94c97b666427691ba525133cd425
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:05:55 2005 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2163 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb7e663fdbd6a069367fdc0195eb7222acb06ad4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 14:05:19 2005 +0000

    - Add comments
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2162 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91fb274b1a75a1c712d863a1eba98a7840565ae9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 11:37:25 2005 +0000

    - Checkpoint commit, add support for the next generation FinEID
      cards with ISO/IEC 7816-15 layout.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2161 c6295689-39f2-0310-b995-f0e70906c6a9

commit ece96aff984a2e704ea59b40b24cf975bb5abef9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 9 11:33:37 2005 +0000

    - Add atrmask to sc_atr_table
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2160 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdd240397f45930c39545488ba33debb8795846e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 8 19:49:28 2005 +0000

    remove unused profile entry
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2159 c6295689-39f2-0310-b995-f0e70906c6a9

commit e679eb17e67ab0608b6447480f08685d017cc852
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 8 19:33:30 2005 +0000

    remove unused define
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2158 c6295689-39f2-0310-b995-f0e70906c6a9

commit a854de4698f4a47422b0874976ecab9c5a638605
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 8 09:51:56 2005 +0000

    - Warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2157 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10569f110e34087538b1aef9c118778066fb2d4b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 7 22:43:51 2005 +0000

    workaround for broken cashmouse driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2156 c6295689-39f2-0310-b995-f0e70906c6a9

commit 864825651e1461751e8d83f9fc58a7c4f0a5a923
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 7 17:03:47 2005 +0000

    - Fixed typos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2155 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b773d6612819f29ae92e0388e0fcef1ffc9de2c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 7 11:40:58 2005 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2154 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71b29ca9c81fccd67b5251ec96b0ce73c2d2f940
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 7 10:58:22 2005 +0000

    remove outdated comment
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2153 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14cbf7c304830ccb9ad25b9bb3653de5b2334145
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 7 10:53:12 2005 +0000

    fix usage of sc_pkcs15_pin_info_t::max_length etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2152 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f7a8bde039e594455bcf1c353894dc41b35c2a4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 21:38:10 2005 +0000

    no need to include internal.h and asn1.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2151 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4692b2c6b47f9049235bdc36843ad48f9a80fc3f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 21:34:59 2005 +0000

    update, note: this totally untested
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2150 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc2b03883d60d1a718607b1cfeea106e4dfb7d7e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 21:32:54 2005 +0000

    fix type flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2149 c6295689-39f2-0310-b995-f0e70906c6a9

commit edbfa95bf4f6f2928fe5f2526489770a32fd5d7e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 21:01:09 2005 +0000

    const fixes etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2148 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a9646cc1bc3b96cc274e8610ba4add3d230b15b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 20:46:15 2005 +0000

    as every card structure has an own copy of the card ops struc, allocating a new one shouldn't be necessary
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2147 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd0cb300f8911ad7e23367be6d6f093f47c26e19
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 20:14:38 2005 +0000

    - Ahm, fixed a typo in the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2146 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69d2e9014d3b5074afbb723ee20637bd493e1407
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 19:40:40 2005 +0000

    - Optimize a few cpu cycles from _sc_match_atr_hex
    - Replace struct sc_atr_table / _sc_match_atr with
      recently introduced _hex variants
    - Rewrote _add_atr
    - Introduce int type variable to sc_card_t, so that
      every other card driver won't have to glue around
      with this
    - Card driver cleanups, optimize the number of
      sc_match_atr called per card driver. Also
      always try direct match with _sc_match_atr
      first, before relying on eg. historical bytes
      information on some card drivers
    - Fixed a memory leak from the miocos driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2145 c6295689-39f2-0310-b995-f0e70906c6a9

commit c30494a942d783819cd21749ea9c67acf272feaf
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 10:28:43 2005 +0000

    declare some functions static + some type fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2144 c6295689-39f2-0310-b995-f0e70906c6a9

commit 176323ac032162204c54004efb78cd113c2ae800
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 10:06:21 2005 +0000

    - Warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2143 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99fc1f6d1d4898c42c11fb08203b65a1e27cb38d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 09:09:26 2005 +0000

    - Give up, just use CoreFoundation framework instead of -lobjc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2142 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1dd355e733381b336dea2a179e5370cb5936111
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 08:57:36 2005 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2141 c6295689-39f2-0310-b995-f0e70906c6a9

commit dea81dfe04978fb5964e944ec87d1a241243fed3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 6 08:53:50 2005 +0000

    - Warning fix, build fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2140 c6295689-39f2-0310-b995-f0e70906c6a9

commit 026f7ae89b725db58b3c28baabb0fc9696872078
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 10:02:56 2005 +0000

    even more cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2139 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d6b3937e96437b90ff32a2d89f3b065387d9bb9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 5 09:54:05 2005 +0000

    cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2138 c6295689-39f2-0310-b995-f0e70906c6a9

commit 235abe1ffd82da0ec7dc4dc03608819a810efc22
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 22:52:13 2005 +0000

    declare some functions static plus some type fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2137 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0c1b6e8f12a69fc90900c4c9bbe6beb69b17908
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 22:33:51 2005 +0000

    remove unreachable code, make some functions static and fix parameter type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2136 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2cf81ba199e70f443b164c3761985f7b642d08f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 22:11:08 2005 +0000

    cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2135 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd0f86f69c7ababc613cd41d3fcee99a3bdb8e90
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 20:29:35 2005 +0000

    - Unify all card drivers ATR matching code to use _sc_match_atr_hex,
      untested as of yet.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2134 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b43659efae38fc8556cf55f3750c86970a05419
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 18:10:23 2005 +0000

    fix some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2133 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d9bb861267bfb985d0fddda755a77e5febf4b6c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 17:32:03 2005 +0000

    - Indent cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2132 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26f9fa004e5ac6e0829e2b7637f474ee52c2c626
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 17:29:16 2005 +0000

    - Revert previous patch, it's unnecessary after recent changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2131 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbe2904889329af9b6e2abf01631be58249ad33a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 15:57:38 2005 +0000

    - Introduce _sc_match_atr_hex / struct sc_atr_table_hex.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2130 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10e9bd4e05b0e74022e6fa508239153ecc84e4eb
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 14:38:20 2005 +0000

    - Cleanup ATR dumping code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2129 c6295689-39f2-0310-b995-f0e70906c6a9

commit 42d3d503c72555ecd8a29088dd54e2dd6eb08913
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 11:43:51 2005 +0000

    - Add internal.h, that's where the config.h and other general
      stuff comes from.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2128 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9645facea4a33fb217c4fb36cf869b945c595d6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 4 09:27:01 2005 +0000

    use strncpy instead of snprintf + update of pkcs15-netkey.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2127 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54f879426736b35cc3591cde021a140f904850ce
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 3 22:44:19 2005 +0000

    indent fixes and cleanup by Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2126 c6295689-39f2-0310-b995-f0e70906c6a9

commit a0aa5dd05e565644c9c11c72168f9e925c71da57
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 2 22:18:50 2005 +0000

    make win compilers happy (include config.h)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2125 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c2f9f72d35bb229feb51c0ea91686884d85b599
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 2 21:18:54 2005 +0000

    first part of a pkcs15 emulation driver cleanup/rework:
    use new api the create pkcs15 objects (note: the part enclosed
    in '#ifndef OPENSC_NO_DEPRECATED' statement will be removed
    in someday). At first only for pkcs15-esteid.c and pkcs15-starcert.c
    but the others will follow soon (including some documentation)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2124 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1b0626cdd06780c6bcbe07e82e3260372aa2a8d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 2 10:21:10 2005 +0000

    - Cleanup, typo fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2123 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd356f61ba72d8f8dd80f7f9ce79867025cbec4f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 1 19:09:35 2005 +0000

    fix indent
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2122 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e05b6bfbce160ab5507ef5d925d7c7dbb74ec80
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 1 19:03:39 2005 +0000

    add debugging output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2121 c6295689-39f2-0310-b995-f0e70906c6a9

commit c95726c7826bfd0b6ecc5a1b142b703385d4f92e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 1 19:02:15 2005 +0000

    bugfix: reselect application directory when lock_login=false
    is set (at the moment only for pkcs15_prkey_sign and
    pkcs15_prkey_decrypt), see:
    http://www.opensc.org/pipermail/opensc-devel/2005-January/005345.html
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2120 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4179fbedf829b0cf56e6acbc2334499e943fa27a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 1 07:53:50 2005 +0000

    Work-around for the lack of FCI info, so the card can be used with opensc-explorer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2119 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8857ff5b1c316ed1e177782a7cf999eda8db8137
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 1 07:52:40 2005 +0000

    Work-around for cards that don't return FCI info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2118 c6295689-39f2-0310-b995-f0e70906c6a9

commit b59fb4597eba67d6ba77ca1747508b4ff2f6b6ce
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 30 19:20:38 2005 +0000

    Have the option add a delay before resending an APDU (after a 6CXX response). Is needed for most current belpic cards on fast readers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2117 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e0453fb8ad25eb2807d3471245c033b52228f57
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 30 13:50:08 2005 +0000

    - Indent source
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2116 c6295689-39f2-0310-b995-f0e70906c6a9

commit efe1a3684575ce15110cf4c80d60083c0807345b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 30 13:29:10 2005 +0000

    - Cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2115 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6ba20a1e3d00b8cf0049c1f7b48b819f0b2d5b4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 12:14:22 2005 +0000

    Added belpic card driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2114 c6295689-39f2-0310-b995-f0e70906c6a9

commit c8d89211eb661eb3b239133140d79309700aabaa
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 12:10:52 2005 +0000

    src/libopensc/card-belpic.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2113 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5459ba2b918b9d831c4a71315e6273927e87937b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 10:51:05 2005 +0000

    - Show package version when configure is finished
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2112 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16b1b6e5a2ecf2092db0013854d2dd007156787c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 10:49:48 2005 +0000

    - Add experimental multi-slot support for CT-API
      and CT-BCS 1.0 enhancements. (Bernhard Froehlich <ted@convey.de>)
    - Enable CT-API for win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2111 c6295689-39f2-0310-b995-f0e70906c6a9

commit 986724c1add67999991823a8d0d28f53e913a03f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 10:44:07 2005 +0000

    - Build fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2110 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41dced301ae54706d9db8a5f7fd7992b41b75a92
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 09:13:56 2005 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2109 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef6e581c362e8bd09a7dbcf31b43f468698d7c65
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 29 09:12:11 2005 +0000

    - Require automake 1.5 or later
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2108 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14d1f7f6a66142b908a9ca1981325edd38873f21
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 28 21:22:40 2005 +0000

    yet another fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2107 c6295689-39f2-0310-b995-f0e70906c6a9

commit b8d92a365a0dfbce6b0effc26a7591024162f551
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 28 20:41:12 2005 +0000

    Added pinpad-ccid.obj
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2106 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ea47a2bbaac0cf5f51b5e033aec8eb994674a33
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 28 20:39:47 2005 +0000

    Windows fix: SCARD_CTL_CODE is already #defined in a Windows header
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2105 c6295689-39f2-0310-b995-f0e70906c6a9

commit d67a4ea523f2b9c95df29347f2310e591c740a56
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 27 22:52:44 2005 +0000

    fix last commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2104 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90e967d042b89f04610610011667df7956bb6c54
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 27 21:35:23 2005 +0000

    Fix: stop parsing at the end of the file, not when finding padding bytes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2103 c6295689-39f2-0310-b995-f0e70906c6a9

commit 622607a68c78115ed92f7e01955119c0114064d9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 25 11:45:47 2005 +0000

    - Build fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2102 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a5c6d165e6d99aa7d15cde04dc23fbef85bf549
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 25 11:11:13 2005 +0000

    - Add use_ccid_pin_cmd boolean to opensc.conf, for now.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2101 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32e5d3fc81a07d57da04fe6840dbfcc199a729c1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 22:10:55 2005 +0000

    fix lock/unlock mismatch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2100 c6295689-39f2-0310-b995-f0e70906c6a9

commit d4f2e2363f8d47e43b88d95f653a10910167e824
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 19:46:57 2005 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2099 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8182177a004601e8b36464397ea09c38227fac47
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 18:30:55 2005 +0000

    - Early ccid pinpad cleanups, more to follow
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2098 c6295689-39f2-0310-b995-f0e70906c6a9

commit b726ff613b5f499cea585be83141731ecf310028
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 17:20:29 2005 +0000

    add two more options: one for Martin's pinpad stuff and one for enable/disable logging of sensitive apdu data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2097 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69cd0dbb766006482c53893f24363e161833afd0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 17:19:08 2005 +0000

    make it configurable whether or not allow logging of sensitive apdu command data at all (to please the Belgian EID guys ;-)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2096 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3158fa3e05244cea43ffb63a41f36e3568efbb68
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 24 11:31:11 2005 +0000

    merge Martin Paljak's ccid pinpad changes from the OPENSC_0_9 branch to the cvs head
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2095 c6295689-39f2-0310-b995-f0e70906c6a9

commit f66913ca30ba5b15903f845760f492c630c54cd2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 23 19:48:48 2005 +0000

    just issue a warning in case of a missing attribute, patch supplied by Philipp Marek (with some changes from me)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2094 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02ff1ad9b97dc5d5c9e66d3e0cb44e5c1b0414c2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 23 10:14:58 2005 +0000

    - Add pkg.m4 for pkg-config depencies
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2093 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56487f86a1539c48537afb7368d0d8a6a1848721
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 21 18:47:41 2005 +0000

    more indent fixes from Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2092 c6295689-39f2-0310-b995-f0e70906c6a9

commit d605ba7f0afc5d84140f4a04282c8922dc79326c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 21 18:31:05 2005 +0000

    fix more memory leaks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2091 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea59c978874c756dc970c94d4e70c37d36c55cbe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 21 18:25:26 2005 +0000

    fix memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2090 c6295689-39f2-0310-b995-f0e70906c6a9

commit 517da66876e52a0000b724f38719dd0dfcb7c146
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 21 11:06:01 2005 +0000

    fix memory leaks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2089 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e1ae46257a4e886c4f9c419cd4908fd82799cf8
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 21 10:04:22 2005 +0000

    fix memory leak: use object specific release method
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2088 c6295689-39f2-0310-b995-f0e70906c6a9

commit d644979168ba05553b3c15985704a019ab1945bf
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 20:39:25 2005 +0000

    print the atr in standard opensc hex format, patch supplied by Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2087 c6295689-39f2-0310-b995-f0e70906c6a9

commit 485cc32f9b6ede17a06ccc9857d1d2b72b1a02aa
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 20:12:55 2005 +0000

    even more indent issues
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2086 c6295689-39f2-0310-b995-f0e70906c6a9

commit ced7764f02ee94c2900f87fe2f01b489909357f1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 19:56:49 2005 +0000

    fix debug message + remove empty lines, patch supplied by Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2085 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14ff6bdfc55730cfffb6e39e4e70f7d4ee620c43
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 19:52:08 2005 +0000

    fix indent again
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2084 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb5d5762679d241d627d2f384e3112105a47e271
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 18:15:43 2005 +0000

    some indent fixes from Martin Paljak plus some additional changes from me
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2083 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a0fc5bdcf08e82fe2a636ee14145cb7751dbe55
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 16:17:32 2005 +0000

    fix indent, patch supplied by Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2082 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ed9a18d515edcf42e7e94c54228a1e463315c82
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 16:12:14 2005 +0000

    don't print key length in case of a private key (as private key doesn't have the CKA_MODULUS_BITS attribute)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2081 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65986182e4e50a1c6aa416cdb4c7158fd0f6d4ef
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 19 08:00:41 2005 +0000

    fix indent, patch supplied by Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2080 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95440fb15b784a9e9fa4fdeb9cdc53e491d2c428
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 18 21:42:00 2005 +0000

    cleanup pin handling (set and use sc_pin_cmd_pin->pad_length + use pkcs15 puk object if existing)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2079 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfee7bb9b3bcf0270d69760e58555f78350c497f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 17 09:10:53 2005 +0000

    of course we should not do it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2078 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08c3cc90fa56c0fdc955d046f68658cd16e2d5af
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 16 21:12:38 2005 +0000

    Simplified the procedure to link with openssl on Windows: now you only need to slightly change Make.rules.mak instead of hacking in several Makefile.mak files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2077 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82712c45b8905b0dc185b3795e48d8ca8b72fe26
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 16 14:24:57 2005 +0000

    - Add dynamic loading support for win32, Bernhard Froehlich <ted@convey.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2076 c6295689-39f2-0310-b995-f0e70906c6a9

commit 722e6509d034be8dff3a7de6f7c45b2f69612372
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 16 13:29:57 2005 +0000

    - Spell checks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2075 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f4f732c3b4404dcf5e7bb0c942ab085f8566e2c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 14 23:14:34 2005 +0000

    in case of SC_AC_UNKNOWN it doesn't make much sense to verify something + add missing suppress_errors--
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2074 c6295689-39f2-0310-b995-f0e70906c6a9

commit d73ed3567879d0ab9ebdc1dc38c809d23ece595c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 13 21:52:39 2005 +0000

    change auth_id -> id, show pin type, update pkcs15-init manpage
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2073 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e552bddc1717181976769f031eec7ca9bb82a4b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 13 20:28:57 2005 +0000

    starcos: use iso decipher, iso7816: set le to 256 == 0x00
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2072 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ac35022af706eff992436fd721e53927f40d4ca
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 9 20:10:44 2005 +0000

    remove misleading comment
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2057 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f15c03218db049aa5bc7dc21c23636d3da5c768
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 8 10:20:21 2005 +0000

    evaluate pkcs15 pin type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2056 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e5c61cd282be75bc01fd5c93965431d74a6b54c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 7 18:50:04 2005 +0000

    types are unsigned int
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2055 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb0889a9cc35f37dd74c1abc686e57c53aa50839
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 4 19:45:05 2005 +0000

    - fixed a typo, pointed out by Bernhard Froehlich <ted@convey.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2054 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c391a21ac4e311746e6a5dc0aa7c673b57040b5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 17:47:25 2005 +0000

    dump version info in the log
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2053 c6295689-39f2-0310-b995-f0e70906c6a9

commit f509f00d1769cbf878d16a587a22286f3eab5bf0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 17:25:18 2005 +0000

    some cleanup + improved error checking
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2052 c6295689-39f2-0310-b995-f0e70906c6a9

commit a82a40e9778da03f06d3d9bed41bfbd633f20742
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 3 17:20:17 2005 +0000

    some cleanup + improved error checking
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2051 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4bb21d0a229bff30e507b202e1cf5aade97097a2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 29 23:20:22 2004 +0000

    check calloc return value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2050 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5df70d391bf78b5bcceedb828200166d7a12a08
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 29 23:11:11 2004 +0000

    bugfix, pointed out by David Mattes <david.mattes@boeing.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2048 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1d4e36529045a628d7a665300403240a008406f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 27 14:33:56 2004 +0000

    cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2047 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd02c1a6be2dad282a9b7eb914f955fbf16ba4e5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 27 13:22:06 2004 +0000

    add data field for subject Common{Private|Public}KeyAttributes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2046 c6295689-39f2-0310-b995-f0e70906c6a9

commit d89c7a733dbf1c1d0ff571e272d93370ed886f76
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 24 23:24:12 2004 +0000

    implement serial number support for cryptoflex cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2045 c6295689-39f2-0310-b995-f0e70906c6a9

commit ebf6c8ecfa473427f6faa697a21ef2d2b450026e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 23 10:49:10 2004 +0000

    fix type, found by T.Fujita <fujita@ouk.jp>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2043 c6295689-39f2-0310-b995-f0e70906c6a9

commit 372c5c9e0a3b0ecf01b8cab8db8b19bacb3c01d2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 23 09:28:51 2004 +0000

    - Revert the previous patch, as it broke the snapshot generation
      and has been broken since.. July? No new automatic snapshots
      until some hardware issues have been solved.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2042 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3931ee708d2f9796c7bbe2b5589fe9f85ab22b98
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 22 10:17:00 2004 +0000

    cleanup ...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2041 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08826acb4d986c43574bdc0ffe62bafa882ee457
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 22 09:54:41 2004 +0000

    flags/types are unsigned int, the exponent shouldn't be negative and more const
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2040 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5847b646f93234ddf572bc2454a204d1c53d45c5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 22 09:48:27 2004 +0000

    cleanup: -index shadows a variable in /usr/include/string.h
             -some signed vs. unsigned issues
             -and some const cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2039 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ddfe862e5db76cda4996e64b3b185ab7cf18315
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 22:38:37 2004 +0000

    cleanup: signed vs. unsigned and some const
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2038 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39e8ddf31deb169fd9eb44557afccbce630b7339
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 21:52:32 2004 +0000

    more const ...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2037 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78b0091056522c5914fa5048585ce63f948353c0
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 21:47:19 2004 +0000

    more const
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2036 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92ce484b57242f105a8c6e0478a11a84f94afa89
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 21:43:24 2004 +0000

    cleanup: declare structures as const
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2035 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2db63b17f901c4348aee9a69f083468a575ab1ed
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 15:00:57 2004 +0000

    signed vs. unsigned
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2034 c6295689-39f2-0310-b995-f0e70906c6a9

commit 048a7c399659c8d1b1a846cb31d9d6d74967aa3f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 14:01:22 2004 +0000

    char * -> const char *
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2033 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0224d3a4b337a2aa2ce9f08a96b321de612b4ad
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 13:56:41 2004 +0000

    disable unused functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2032 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8446dc7cecd974ec28c7415e9fb9146aa84a4002
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 13:22:10 2004 +0000

    fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2031 c6295689-39f2-0310-b995-f0e70906c6a9

commit bea5746094f235e75b5db6df572f3117757a4bab
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 11:03:57 2004 +0000

    remove superfluous code, Martin Paljak <martin@paljak.pri.ee>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2030 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d75aeeaff5e605902a3f68552a0233eedf9debc
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 21 09:54:47 2004 +0000

    force_protocol cleanup from Martin Paljak <martin@paljak.pri.ee>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2029 c6295689-39f2-0310-b995-f0e70906c6a9

commit 609fb32a25720c8d7613e4506043b9fa1c9bd347
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 20 20:05:47 2004 +0000

    fix help message (supplied by Philipp Marek)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2027 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01f549da226e12a24452ed402c24962c96302a0b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 20 19:44:38 2004 +0000

    fix public key reference
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2026 c6295689-39f2-0310-b995-f0e70906c6a9

commit efe5366af65bc9fba990285e9dd6f7506e6d72da
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 20 08:03:40 2004 +0000

    dump serial number only if we have one
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2025 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8673508a43324e0634a032e4919cc7c8389b49a5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 18 14:14:57 2004 +0000

    fix memory leak, cleanup: use object specific release method
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2024 c6295689-39f2-0310-b995-f0e70906c6a9

commit e3dc91d5620e00c7dc61d06658d27fa5d44e89b7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 16 08:50:51 2004 +0000

    serial number support for opensc-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2023 c6295689-39f2-0310-b995-f0e70906c6a9

commit 786878c3966f43332d10c4eadb694bf9ebdf4fd6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 19:59:59 2004 +0000

    implement serial number support for gpk 16k cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2022 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6694ab8e874e0818b31bbc4ff24c56705a4d1dcc
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 18:18:21 2004 +0000

    - Big bunch of OpenSSL and some other fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2021 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ce41aec6870f3cde00a9e5cfef955cfb347c728
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 18:10:29 2004 +0000

    - Cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2020 c6295689-39f2-0310-b995-f0e70906c6a9

commit a430c8c57dd433f7fd86aa0a902d5a937cfad17c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 18:01:47 2004 +0000

    - Build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2019 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed0d949af0e1f60cb5784fc00db5176f516fb5cb
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 17:34:15 2004 +0000

    cleanup ...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2018 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd45a8aef1afb5b22d11dd0a23eac857f464e904
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 15:42:27 2004 +0000

    - Update version for win32 build
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2017 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3ad3b0407a70fe9eeeed4178324ef71c648ba43
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 14:47:31 2004 +0000

    - Cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2016 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f2b1382373c4958159c0e948c42d7b742ba2960
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 13:57:07 2004 +0000

    - Preparations for the next release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2015 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55e170e0acc4598dcdee5801a5f6558ce258e556
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 13:53:36 2004 +0000

    - Build / warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2014 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5baf6da452df3c02af2dc5bbe0fc5e0315960f4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 10:56:45 2004 +0000

    - Convert C++ comments into C to avoid compiler errors on some platforms
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2013 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7a0b8f4eb01e00d87642891054ef7c1ebbf7023
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 09:35:30 2004 +0000

    cleanup: declare local functions as static, renamed shadowed variables etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2012 c6295689-39f2-0310-b995-f0e70906c6a9

commit 57cc65e4859748028979082281f96a329e751cbe
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 15 08:38:36 2004 +0000

    cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2011 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e05d3eabb1acc24cdc9be7919e305356efacde1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 13 20:58:28 2004 +0000

    do a memcpy only if source and dest are different
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2009 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a0738ecb69091ac914c5f21d5dbd9eaca7a7cf5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 13 11:24:53 2004 +0000

    local functions should be static
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2008 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2157e90bafb84e3cdcc941b8351cc08ec9f0fe7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 13 09:48:54 2004 +0000

    don't close stdout/stderr
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2005 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71441cd6a5900c03ade80310750dd903ce0ce501
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 21:51:51 2004 +0000

    fix memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2003 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5feb1f133f762a098fe08a884fee64c2994e108b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 20:41:04 2004 +0000

    close files when the context is destroyed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2001 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56a37d6c4877d623649db1ca7fd6617f0c25bfde
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 19:13:17 2004 +0000

    use object specific release method (if existing)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2000 c6295689-39f2-0310-b995-f0e70906c6a9

commit 75b9f0b5ded884f35bddb719cf528f74e7f49ead
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 12 17:17:07 2004 +0000

    fix (potential) memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1998 c6295689-39f2-0310-b995-f0e70906c6a9

commit 895289c9048bd7fab8ef908d9f332f07fc5c406a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 9 08:23:57 2004 +0000

    bugfix: don't try to get the CKA_MODULUS_BITS attribute from a private key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1996 c6295689-39f2-0310-b995-f0e70906c6a9

commit 711150f715a95f0a9877a2fd3f2eefcb50a9d73e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 8 20:57:37 2004 +0000

    fix memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1994 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8e1fad7248e2d893c701ef323c045de1cf92806
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 5 19:04:17 2004 +0000

    the big openssl fix. hope everything still works.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1992 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2442fe48deb803429015e178206af9a1dbf26b5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 5 19:03:55 2004 +0000

    make functions static, so the names don't conflict.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1991 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d7c9328f0cbd8ce44cedadcbfa9e972e36f48e5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 5 16:35:54 2004 +0000

    suppress error message when testing signature alg
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1989 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ff0afc336c1d21d157807e2be5d362fa5a2e840
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 30 21:32:18 2004 +0000

    new pin handling to make opensc engine work with wpa-supplicant.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1987 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb619d1422331ef9e455755ab8fd0c541e199354
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 26 08:43:44 2004 +0000

    bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1986 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d2a6d8bacff51ec8e333a574a02c601015dcd37
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 24 17:00:53 2004 +0000

    add pkcs15 emulation support for the Italian postecert card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1985 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dc98ed2624675aa0eb1c0fab741e90696b3f8c9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 15 09:39:21 2004 +0000

    try to avoid conflicts with file ids of different file types
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1983 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a4fc80033533e5258f2211334d6c1c6b3127639
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 12 19:49:22 2004 +0000

    Don't check if the token is initialised
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1981 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0370a532045afbc8d3eb980f4cfea9710ba307de
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 12 16:59:09 2004 +0000

    try to avoid conflicts with file ids of different file types
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1979 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe89863e92c5b970496b6cdf350d08d09187e773
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 5 21:04:33 2004 +0000

    bugfix from Antonio Iacono
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1978 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e3827a50bf94899a4a0378fc1c0227fc3a367b3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 5 18:48:13 2004 +0000

    add spanish translation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1977 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a618d8a54f3b39c74261a2af3fb03931bd8c475
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 5 18:31:57 2004 +0000

    add more *.pc files for all other libraries as well.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1976 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1869b95bae66fa5d58ca676bcc139fe5478fc98a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 5 18:30:59 2004 +0000

    Add spanish manual by Jonsy (teleline) <jonsito@teleline.es>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1975 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0649c1e4f42bc826dd84b0fae74e4c80846ccfe
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 4 19:14:58 2004 +0000

    build fixes by Vile Skytt�.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1973 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca939d1dd6ae831d84163f7cddf498c014ae5954
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 3 21:39:47 2004 +0000

    bugfix from Antonio Iacono
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1972 c6295689-39f2-0310-b995-f0e70906c6a9

commit c613908dde19d47268cecfdbf28e22e6a3392cad
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 3 18:14:58 2004 +0000

    check only for attributes which can be present
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1970 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c005458efda24c3ebf58ef2c8a0d80aa872fbca
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 2 21:46:23 2004 +0000

    update for the Infocamere support, supplied by Antonio Iacono
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1969 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1da4005aa5a0e3916ba2662a02da20e2d2d1b4a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 1 21:13:57 2004 +0000

    fix select_file in mcrd. by Martin Paljak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1968 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44c55aea827663bb54a2c910f5153ac5bf030604
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 1 11:41:20 2004 +0000

    clarify micardo situtation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1965 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4bb760db4d18082d7e11c20ff9b4f123243cf1c8
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 29 20:08:54 2004 +0000

    cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1960 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b29b3b7a8f06623371cc28200eb485f6c65f0b1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 27 16:10:32 2004 +0000

    fix last commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1959 c6295689-39f2-0310-b995-f0e70906c6a9

commit a37338352a62dc24f8240b2457985725fcd319fd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 27 06:41:27 2004 +0000

    remove obsolete module support in libopensc (scdl should now
    be used)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1958 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17fa73fb5d17461f774b7017b726f5aef2e9cca2
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 27 05:10:34 2004 +0000

    scdl.lib needed for for the link step due to the recent changes in dynamic loading
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1955 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba23f8246a8e309da9e8e59287d43d57fc99123c
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 25 10:43:50 2004 +0000

    support for dynamic pkcs15init drivers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1953 c6295689-39f2-0310-b995-f0e70906c6a9

commit ace9520193d98746644e44d0226a1414876d130b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 24 17:20:29 2004 +0000

    fix memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1951 c6295689-39f2-0310-b995-f0e70906c6a9

commit 897ca8eff2a75c2dabe2a6be805d84123f685510
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 24 17:17:48 2004 +0000

    fix memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1950 c6295689-39f2-0310-b995-f0e70906c6a9

commit e583473ceb48656c4179742d37d08b41b6544d8f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 22 07:29:07 2004 +0000

    two patches from Marin Paljak <martin.paljak@gmail.com> :
    - remove unnecessary function from the reader ops
    - add a field for pinpad support
    - cleanup + fix indent in card-mcrd.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1948 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef8df66b5d04372ed1617fac77957e2ee713032d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 20 06:53:14 2004 +0000

    sc_module_*() -> scdl_*()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1947 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0de68566f2322f3fd95aca9c9b901bef7f8cbf1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 18 21:35:24 2004 +0000

    sc_module_*() -> scdl_*()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1946 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dacb2c6268dfa15072a43c35a6c738b24151e5f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 18 08:24:12 2004 +0000

    implement dynamic card/reader support
    from Juan Antonio Martinez (with some input from me)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1944 c6295689-39f2-0310-b995-f0e70906c6a9

commit 548cf727350a50771927bc285fe8ef6084ca42d4
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 17 20:40:58 2004 +0000

    fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1942 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59854156030d38788b3b1e730d81f5f8486d16c9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 17 20:20:59 2004 +0000

    some cleanup: 'int' -> 'unsigned int' for flags, 'int' -> 'size_t'
    for length + remove some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1940 c6295689-39f2-0310-b995-f0e70906c6a9

commit 912ddbdf57e010ddf35163d40d0a040ec374850d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 17 18:34:24 2004 +0000

    fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1938 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b4730dabdd2a0b06ae5738245c45fbf6ecb4969
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 17 16:46:34 2004 +0000

    flags should be stored in a 'unsigned int' (at least this seems to be
    the convention in libopensc) => change tokenInfo flags from
    'unsigned long' to 'unsigned int'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1936 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c0781335c4c1dda99935e305eff8385f9872651
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 17 16:20:46 2004 +0000

    fix signed vs. unsigned mismatch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1934 c6295689-39f2-0310-b995-f0e70906c6a9

commit f318fec2b013a5bbfbc39f74947b59bf971704c1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 17 15:59:38 2004 +0000

    sc_module_* -> scdl_*
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1933 c6295689-39f2-0310-b995-f0e70906c6a9

commit c994105bcf66358044c11da7e3b58e325d154579
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 14 06:37:04 2004 +0000

    suppress annoying (but unimportant) error message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1931 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd5555bc09b11f44d27398bada5317cef6a6970b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 13 19:07:57 2004 +0000

    fix compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1929 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23e7da693e598c9e027d7b614e0d6fa085d654e7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 13 18:57:54 2004 +0000

    update opensc.conf for the new pkcs15 emulation stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1928 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d64764d4dcac0661b872d6152c4e009d81e8b5e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 13 18:54:06 2004 +0000

    fix int vs. size_t mismatch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1926 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05fb0f458783896502503244fce5f045bdd12053
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 13 18:02:39 2004 +0000

    initialize pointer to NULL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1925 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61360066f7ac8de2d50dcef6dd4477cc9e7d7ca3
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 13 07:19:38 2004 +0000

    Added info for EF data files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1922 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5c1436ed6e1fbafe4816d7c3232da83a7a3bc57
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 12 19:36:06 2004 +0000

    Added RSA decryption (Robert Pragai)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1921 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40116504a75245933c1dcdf8a74019210e107d0f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 12 06:24:58 2004 +0000

    bugfix from Hubert Sokolowski <hubert.sokolowski@biatel.pl>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1919 c6295689-39f2-0310-b995-f0e70906c6a9

commit b78fbd0d7a07c6f751aae44c5669606b7c04edef
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 11 21:22:54 2004 +0000

    u_char -> unsigned char
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1917 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a328e3dcc905e1b4da79a7ee062d34f553a523f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 8 21:29:55 2004 +0000

    update pkcs15 emulation stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1916 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d4ca3497332db103454e904a24f1eec7f0f867b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 8 21:25:50 2004 +0000

    don't search the LD_LIBARY_PATH in case of a absolute path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1914 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ff91915bc87a73f65da5aa903e5c62f36c836e9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 8 07:11:40 2004 +0000

    forget pin if it was wrong.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1912 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34e3a42c8f58e64b11a5a648e5f2cc96a641eab8
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 6 14:07:18 2004 +0000

    If you do pkcs15-init -C with the onepin option, you can now specify --pin and --puk instead of --so-pin and --so-puk (also allowed for backward compatibility)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1910 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1249c9c2ab53f5fa197db428d7a35d771c2376cd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 28 20:06:04 2004 +0000

    fix starcos spk 2.3 "onepin" profile support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1908 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61301ca546d48bc10e2926f8da4ccc8f7afc2a85
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 27 08:38:51 2004 +0000

    Don't use 0 as input to test signature-verification
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1907 c6295689-39f2-0310-b995-f0e70906c6a9

commit e15cc12e320595c6a8ffdca366d9a091a0c0ae6a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 24 08:54:16 2004 +0000

    improved card detection + cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1906 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9953d0b21dd9d158912cc05680ddef1fa7183b83
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 20 09:47:35 2004 +0000

    fix some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1905 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31c1c53d1359a4aebe9aaf42bd32513877b7fe64
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 19 19:50:52 2004 +0000

    correct tries_left entries
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1904 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f5dc679817436cf6b32646771f9457a88874f09
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 19 19:47:34 2004 +0000

    print 'tries_left' only if the value is >= 0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1903 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60eeadb96233be6973f651c2393971b0a9a3805e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 17 19:27:49 2004 +0000

    add support for sc_card_ctl(*, SC_CARDCTL_GET_SERIALNR, *) for
    TCOS cards (and use it in the netkey support)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1901 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ebccf1842bdb5fecd2fd8fb98fd7ded7518b3e1
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 17 19:13:30 2004 +0000

    rename "StarCOS" -> "STARCOS SPK 2.3"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1900 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2df8086209cbef05321cd2a93b4ab6df425e9ca3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 31 17:31:00 2004 +0000

    fix definition of SCARD_PROTOCOL_ANY
    patch supplied by Ludovic Rousseau <ludovic.rousseau@free.fr>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1898 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ffc2010824d7e066e1edafa62c81277c164ac31
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 20:55:07 2004 +0000

    fix tab indentation and adds the tries left field to the --list-pins output
    patch supplied by Martin Paljak <martin@paljak.pri.ee>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1896 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9bdd1f675cc62a4124ae165473cc09ea2fa59fdd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 25 20:45:32 2004 +0000

    bugfix: fix segfaults when using a pin-pad for pin verification
    thanks to Joachim Bauch <jojo@struktur.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1895 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa0b71a99b0960287b302e3de7e02d1506673712
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 14:26:16 2004 +0000

    add "--raw" option
    patch supplied by Jari Eskelinen <jari.eskelinen@iki.fi>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1894 c6295689-39f2-0310-b995-f0e70906c6a9

commit c222271165e5d71716e172ac3805202f8c2c496d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 14:24:39 2004 +0000

    bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1893 c6295689-39f2-0310-b995-f0e70906c6a9

commit 652759a364c8187e470596e045aa566c3202ef4d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 10:54:28 2004 +0000

    two small fixes to let pkcs15-init work with starcos spk 2.3
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1892 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8c603f5592dbef3f67bf167712121c92d3e8462
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 21 10:53:09 2004 +0000

    update starcos spk 2.3 pkcs15-init support
    change summary:
    - some bug fixes
    - support for global so-pins
    - use so-pin (if present) to protect key creation etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1891 c6295689-39f2-0310-b995-f0e70906c6a9

commit d6c98f7ae2f2cedb24c91effba6d2b84a399c468
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 19 08:55:15 2004 +0000

    add support to force pcsc to use a certain protocol
    patch supplied by Martin Paljak <martin@paljak.pri.ee>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1890 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49b5366530a1e6ae480bffa28a71414330ad8eb2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 19 08:41:51 2004 +0000

    add additional atr
    patch supplied by Martin Paljak <martin@paljak.pri.ee>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1889 c6295689-39f2-0310-b995-f0e70906c6a9

commit e618b1ff28d935b1760ffbe99ce1378d44ea5046
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 19 08:39:18 2004 +0000

    move the emv driver to the end of list
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1888 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfe73f3b7153607bf6875e2e79d2e701ae0041bc
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 14 13:43:17 2004 +0000

    improve pkcs15-init + pkcs15-tool support for data objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1887 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0062708982a685a3c07367eb5c507d4b374d5465
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 5 22:34:05 2004 +0000

    set ui_method if and only if it's not NULL
    patch supplied by Michael Bell
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1885 c6295689-39f2-0310-b995-f0e70906c6a9

commit 73c9fcf03fbb6b598f78366f95dd1845f8f10b1f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 5 22:28:21 2004 +0000

    improved error detection
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1884 c6295689-39f2-0310-b995-f0e70906c6a9

commit f90f8bc80311a1871b50382f4bae62614d332e51
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 5 22:27:11 2004 +0000

    fix openssl detection, patch supplied by Victor Tarasov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1883 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5044b0e133c77b39599669588d9f81206a7555c9
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 28 20:02:07 2004 +0000

    minor docu update
    thanks to Ville Skytt�
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1881 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ba6ad3954e3e6376115fb431bc4e20095addb4b
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 27 19:14:06 2004 +0000

    set padding flags accordingly (for the decipher operation)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1879 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e3041850e2e48c43800cc68bf37ded2b993fcc3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 19:18:17 2004 +0000

    improve output for pkcs15 data objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1878 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfd5b494364d8a9b2e18e5ed2651834abdf9b27e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 18:47:23 2004 +0000

    pkcs15-init etc. support for pkcs15 data objects
    patch supplied by Victor Tarasov <vtarasov@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1877 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e13a2e011beb520bc61b6bf2d57e995477345c2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 26 04:53:42 2004 +0000

    properly split LDFLAGS into LDADD and LDFLAGS to make parallel build work.
    Thanks to Ville Skytt�.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1875 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3534e4e7e2f6436e4c21590a242e972b1ec9dbcc
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 25 12:35:41 2004 +0000

    small configure improvements, documentation updates.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1873 c6295689-39f2-0310-b995-f0e70906c6a9

commit 939d3a7406f051330bb2e600044247ab041b903d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 24 21:08:13 2004 +0000

    Permission checks and support for several certificates in the
    authorized_certificates file. Code written by Fritz Elfert.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1868 c6295689-39f2-0310-b995-f0e70906c6a9

commit 395c614483aefb04c33da951c79a776ac56900e3
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 23 20:29:05 2004 +0000

    fix default values for OIDs
    patch supplied by Victor Tarasov <vtarasov@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1866 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0a64b651f7474bd2d45df9c01f358ce0fa1ff47
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 23 16:52:41 2004 +0000

    one more ATR for Oberthur 64K card
    patch supplied by Victor Tarasov <vtarasov@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1864 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0464df92354b2d2248566e85bf0625f1ba6fd9e2
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 23 16:11:23 2004 +0000

    fix ASN1 NULL handling and avoid malloc(0)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1862 c6295689-39f2-0310-b995-f0e70906c6a9

commit c526488cb394cecb2975fb75179d8e393eb2d28b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 22 20:52:39 2004 +0000

    There is a problem with decipher() of the oberthur card driver.
    Manifested when caller allocates more then needed memory for the result.
    Thanks to the regression tests,
    Viktor.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1861 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef89694f008457c2919b4bb180c46c282ce1395f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 21 22:11:12 2004 +0000

    Bug found by Stef Hoeben.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1857 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23ebb42bcf345c6f6931eda6265e1f968403dd5d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 21 22:10:04 2004 +0000

    Typo found by Stef Hoeben.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1856 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2459879d9e425876de87398acf5aa4ed2f746ef
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 21 22:02:37 2004 +0000

    pkcs11-tool and pkcs15-crypt use libcrypto, so they need to link
    with it. Found by Dirk Gouders.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1853 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2ba28997baab56264d0665b175bcfa68c7a3ae0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 21 21:56:30 2004 +0000

    fix a typo.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1852 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa651f11cb736250493d6d40adc55ff0e42a0c2e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 20 22:11:49 2004 +0000

    Add a quick start file, a simple text document.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1848 c6295689-39f2-0310-b995-f0e70906c6a9

commit d651642fa41d867bc4ced8c372f0e7afc8893357
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 20 22:11:06 2004 +0000

    Add some text documentation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1847 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9dfe962b9dee95b4cf6415af20e97c9ea1c255d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 20 20:52:21 2004 +0000

    Deal with new pcsc-lite code changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1845 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16fc784ae916ae11841b93fdbe6dfffb826ef159
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 19 19:37:42 2004 +0000

    try pkg-config, fall back to conventional code.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1843 c6295689-39f2-0310-b995-f0e70906c6a9

commit aeb9c47c7ea01b8905174e8ac817195430c24ed5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 19 16:58:27 2004 +0000

    try to get the card serialnr via sc_card_ctl (unless it has
    been explicitly specified by the user)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1842 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d9ace2d7f484cea63911f03a7560e376d3bafdd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 19 16:51:41 2004 +0000

    experimental support for card serial numbers
    (at first only for starcos spk 2.3 and cardos m4)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1841 c6295689-39f2-0310-b995-f0e70906c6a9

commit 960ffce23178be78cefd04a5793af0945aa48735
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 19 16:18:30 2004 +0000

    int -> size_t
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1840 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86345157b4a1b5fa181822b1988df49ce3f33cea
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 19 16:12:43 2004 +0000

    fix compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1839 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8369b08aca7fcc0a7b5c3cd426874513ad1625f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 19 15:42:19 2004 +0000

    support OpenSSL version < 0.9.7 in card-oberthur.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1837 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe3914b397e47778b83ca3b6ed49828cf8b99fc3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 14 22:11:53 2004 +0000

    kill two warnings about unused variables.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1835 c6295689-39f2-0310-b995-f0e70906c6a9

commit 268a302950060dce6a73e408c041d40eeca798c0
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 14 21:13:54 2004 +0000

    Add support for Estonian ID card. Written by Martin Paljak.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1834 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78d32814a13f62f1d916571634be97f04c03f3d6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 12 15:19:28 2004 +0000

    fix off-by-one bug, pointed out by Michael Bell
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1827 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82ec09e92bd71b6525974da4dd054a4db4f67f2a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 12 08:42:55 2004 +0000

    check return value
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1826 c6295689-39f2-0310-b995-f0e70906c6a9

commit 71e5f638c5d960dfbdaa001b7604be555af9495e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 12 08:26:53 2004 +0000

    fix/cleanup passphrase input
    Michael Bell <michael.bell@cms.hu-berlin.de> and Nils Larsch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1825 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ac3be86eb5fbc2f68f69913103cdb06dec9eb39
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 9 21:33:02 2004 +0000

    As far as I know we did some incompatible changes since 0.8.1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1824 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f2f699a6c20b82d81ec605fedc8116763d44ba2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 9 21:30:03 2004 +0000

    add README and ask-for-pin.diff to the distribution.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1822 c6295689-39f2-0310-b995-f0e70906c6a9

commit d607d51faae18a4d4e94871cc2e329c19883be2a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 9 21:28:06 2004 +0000

    Add missing scripts init0012 pin0001 pin0002 to distribution.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1821 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c51a8f0ddd782a409e17e6865c157713483a3c4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 9 15:33:35 2004 +0000

    Fix: if a card couldnt be read (e.g. inverted upside down), allow to retry it later when asked
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1817 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdee73adff1852babd0fccfb7296b00ceda498e2
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 9 15:31:08 2004 +0000

    Fix: don't free anything in the connect() function because it can be called multiple times
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1816 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e371c92f6f01512919254e814007cfbfa7239b4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 30 21:37:03 2004 +0000

    a small patch to make openssh ask for a pin. and a README.
    this patch is a hack, not production quality, and will not
    be accepted by openssh. But a clean solution requires changes
    in openssh, and that will not be easy.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1810 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07ff3af231b98ae2d2fe1e71f0d1e67e6b84a1ab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 30 21:35:55 2004 +0000

    Add current patch for openssh so it can ask for the pin.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1809 c6295689-39f2-0310-b995-f0e70906c6a9

commit 84f08c954428d40900a8ee8287a65d23d5dd89ea
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 30 17:26:05 2004 +0000

    fix TCOS decipher operation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1808 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fc8b4376a8b5a418fe67af9403c3a4248f3c7bf
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 29 20:34:03 2004 +0000

    openssl 0.9.7d and later require and support linking engines with -lcrypto.
    for older versions we need to link with libcrypto.a or skip the engines
    alltogether.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1807 c6295689-39f2-0310-b995-f0e70906c6a9

commit eeeebc4117563eeb48c21b2065524a9a6f1f0e08
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 28 22:54:36 2004 +0000

    small makefile improvement by Ville Skytt�
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1806 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83635047e0acb9bae66ee79dc6466785d533208f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 28 16:42:03 2004 +0000

    add support for Telesec NetKey cards (still experimental)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1805 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fb99e70517cdd4d3e897b2d4d5154422b38b02a
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 25 15:44:33 2004 +0000

    use opt_passphrase, if present, before asking the user
    patch supplied by Michael Bell <michael.bell@cms.hu-berlin.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1804 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7e042fdb3e8554f23ea3f9337510cfaae22877d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 24 17:25:23 2004 +0000

    Add two new commands: update_binary and update_record.
    update_binary can be used to write arbitrary data data (entered as
    hex values) to transparent files and update_record can be used to
    do the same to record files.
    Patch supplied by Victor Tarasov <vtarasov@idealx.com> and Nils Larsch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1803 c6295689-39f2-0310-b995-f0e70906c6a9

commit 446bf759d6d81aed975dcf0ed0ffb6faad55707d
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 24 17:03:17 2004 +0000

    patch supplied by Victor Tarasov <vtarasov@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1802 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7446d43ea5810440b03a56b375639beaa4dca536
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 24 06:29:51 2004 +0000

    add (partial) pkcs15 emu support for StarCert V2.2 cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1801 c6295689-39f2-0310-b995-f0e70906c6a9

commit 504fe28dc22fea88f08860dfdb5beba6c679e5e7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 22 17:46:45 2004 +0000

    clean up access rights for updating pin/puk
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1800 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9b00f005f06be05bbc3051654279ff656bcde28
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 21 21:20:29 2004 +0000

    use the padding character from the pkcs15 objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1799 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1859fc2cb80dd4f197c277f176bb5b05c75622b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 20 13:37:04 2004 +0000

    the older generation of oberthur card is not supported by the
    current driver. better not detect them at all.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1798 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6281259f04910feade9652edbb86d72d0335b747
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 18 20:49:54 2004 +0000

    fix usage of asn1 flags
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1797 c6295689-39f2-0310-b995-f0e70906c6a9

commit b467a52c62c85da6c9a642196e01048baad60802
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 18 09:33:53 2004 +0000

    One more italian eID card, this time from gemplus.
    reported by Antonio Iacono.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1796 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23d92b8abd22d63bb4226db887774f5ba514b9ab
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 18 09:30:21 2004 +0000

    Also add oberthur files to Makefile.mak.
    oops, sorry for forgetting. Reported by novakv and
    fixed by Nils Larsch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1795 c6295689-39f2-0310-b995-f0e70906c6a9

commit 856cbdebfafb9d2d6dda11af5498139e564d9077
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 18 09:12:50 2004 +0000

    fix short options as well.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1794 c6295689-39f2-0310-b995-f0e70906c6a9

commit 52c1b2d700f4d41b3bf04a76f94ce46a06f4898f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 16 20:59:59 2004 +0000

    Very basic and untested oberthur driver. Could possibly work,
    as only non-essential parts stripped (or at least that was the plan).
    
    Written by Viktor Tarasov of idealx.
    
    All bugs by Andreas Jellinghaus, please don't blame anyone else.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1793 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b7cdbffadb8453b33635f29bb37cd13bf942cf1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 13 20:13:12 2004 +0000

    cleanup debug/quiet/verbose handling.
    now all tools accept "-v" for verbose
    operation, and you can specify -v several
    times to get more verbose i.e. debugging
    output.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1792 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4aa731e415d878b8270f338ab17dcc6a155ff1f5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 13 20:04:53 2004 +0000

    oops, forgot the select.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1791 c6295689-39f2-0310-b995-f0e70906c6a9

commit 209dad0217ced24abe275b1c59fa2d2919f377d5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 13 19:45:24 2004 +0000

    fixed a small bug (!= instead of ==) and made
    the code hopefully more readable.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1790 c6295689-39f2-0310-b995-f0e70906c6a9

commit 395a128e9684d4280a7f761265b4228612e2dc73
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 9 18:40:33 2004 +0000

    replace X509_NAME_oneline with X509_NAME_print_ex
    Patch supplied by Gregor Kroesen and Nils Larsch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1789 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a88ff4d87a5a5f267a9ae93a36b13c419a6c1f5
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 8 20:22:36 2004 +0000

    fix module name handling
    patch supplied by Michael Bell <michael.bell@cms.hu-berlin.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1788 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3560f1a49eedfb2662dc8d81924a4cea251b7041
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 30 16:23:59 2004 +0000

    don't omit the first extension
    Thanks to Gregor Kroesen <kroesen@rembrandtstr.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1787 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47de5b0a4ad6bd51ce89cd48b7e0cdb993bb2a63
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 21 10:15:30 2004 +0000

    fix usage flag
    Thanks to Peter Koch <pk.opensc@naev.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1786 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ea8a53c0ea146e9991ca8ee43263fefc7053ce7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 20 09:36:58 2004 +0000

    only set the key_reference if present
    Thanks to Andrej Komelj <akomelj@email.si>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1785 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8147c22a93d8bc3674f47b564017ff576a17c274
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 20 09:09:30 2004 +0000

    call sc_select_file only if pin->path is actually set
    Thanks to Andrej Komelj <akomelj@email.si>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1784 c6295689-39f2-0310-b995-f0e70906c6a9

commit c35e006c3434b32835b7fb1215a9c5b44217351f
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 4 18:13:36 2004 +0000

    add pkcs15-syn support for infocamere cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1783 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5697cfb6e93919f47fd4ae933deae14567fc4ee
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 4 18:12:46 2004 +0000

    add pkcs15-syn support for infocamere card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1782 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02cbe02bc24c2269bc24d86ad5ade8a04cb49742
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 4 17:58:04 2004 +0000

    include common object attributes in the sc_pkcs15emu_add_* api
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1781 c6295689-39f2-0310-b995-f0e70906c6a9

commit 475a29de671c7f73b78f78958b372532dc4a7a46
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 27 17:41:02 2004 +0000

    proper checking of the SCardListReaders return values
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1780 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2bd9af6ccfca28709170d1a241747f44a26b967
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 23 17:29:24 2004 +0000

    use pin_cmd for sc_pkcs15_change_pin and sc_pkcs15_unblock_pin as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1779 c6295689-39f2-0310-b995-f0e70906c6a9

commit 338a7c4eff0fb2b6ac10c9da853fadb7a6006774
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 22 07:04:50 2004 +0000

    oops. O_BINARY is for windows, not linux.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1778 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b4c20196b01c44003667205f4be44e851267615
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 21:11:06 2004 +0000

    better checking for null values.
    found and fixed reported by Victor Tarasov <vtarasov@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1777 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8cb6a3f94a3dd005a5a4d3f81efd4814f74b4010
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 20:11:56 2004 +0000

    "--assert-pristine" workaround for Starcos cards (see comment in the patch)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1776 c6295689-39f2-0310-b995-f0e70906c6a9

commit f044157553b2929a276e299cf2234651d0709c02
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 18:10:58 2004 +0000

    fix incorrect use of realloc (x = realloc(x, y) doesn't free
    the x in case of a failure)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1775 c6295689-39f2-0310-b995-f0e70906c6a9

commit b62825d31972bd544d3b39a2261ceb868b221796
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 16:52:40 2004 +0000

    fix memory leak
    Discovered by Victor Tarasov (thanks)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1774 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e7b7c6e99ced519a2b01881e1d875be423da1d3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 07:41:01 2004 +0000

    Add pkcs15-starcos to windows makefile.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1773 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fb7334e710ca0bc09814d599828be6325b1efbd
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 21 07:33:49 2004 +0000

    Open file with O_BINARY on windows.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1772 c6295689-39f2-0310-b995-f0e70906c6a9

commit effbc2a7b613c4a0083fbf0f15757c454dbb7e75
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 18:42:47 2004 +0000

    remove pointer to freed secret object
    Patch supplied by Victor Tarasov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1771 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2daf4c814d378b8cba0a386f934dc7fed70e417f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 18:14:39 2004 +0000

    Adds message digest and DER encoding if necessary.
    Patch by Mathias Brossard <mathias.brossard@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1770 c6295689-39f2-0310-b995-f0e70906c6a9

commit cc91de4a35060e491fba08c533707d462173d2f9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 18:06:25 2004 +0000

    Converts all printf(...) tofprintf(stderr, ...) and condition output on all
    non-error calls to the'quiet' (pre-existing) variable.
    Patch by Mathias Brossard <mathias.brossard@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1769 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc6b6054bd3f060f569d72ff7d4c4d1bb8088a88
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 18 18:05:05 2004 +0000

    adds three options PIN, QUIET, VERBOSE to theengine allowing respectively to
    set the PIN code, reduce output, augmentoutput. First one is obvious, the 2
    others need the second patch to beuseful.
    Patch by Mathias Brossard <mathias.brossard@idealx.com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1768 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e080b8202978f834fd21b202fc6f36e13fef2a6
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 22:21:28 2004 +0000

    add support for split keys in engine_opensc.c (backported from the
    opensc stuff in openssh)
    Thanks to Neil Dunbar
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1767 c6295689-39f2-0310-b995-f0e70906c6a9

commit b057f4055deae1374d1e22904c852b8ee6a74cbd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 09:25:30 2004 +0000

    add support for "finalize" to pkcs15-init to activate the ACs for starcos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1766 c6295689-39f2-0310-b995-f0e70906c6a9

commit 564d07ebe61f3e9871ca1fe1a6d55db8e3a5bc2e
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 09:23:26 2004 +0000

    bind the new starcos spk 2.3 support to the pkcs15init code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1765 c6295689-39f2-0310-b995-f0e70906c6a9

commit 846a14849e45530011709c512550778acc3285bd
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 09:20:08 2004 +0000

    initial pkcs15-init support for starcos spk 2.3 cards/tokens
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1764 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f1d8852887b7ef2602d523186240eaf706347ce
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 09:15:05 2004 +0000

    ensure that init_func is not NULL (even if the config file is not correct)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1763 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac5fea091aa702ba054bc159ef97d6afcb1a8fa7
Author: nils <nils@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 17 09:05:54 2004 +0000

    update starcos spk 2.3 support (add create file + key gen)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1762 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02314bdd7e2d13f8f9803a0e4312112c42609bef
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 14 22:09:51 2004 +0000

    while we don't have code to extract a key, tread
    extractable keys like non extractable ones.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1761 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e15c2421ec463f1938b1bcb95521b74d04e9205
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 20:34:30 2004 +0000

    check parameters in strcpy_bp
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1760 c6295689-39f2-0310-b995-f0e70906c6a9

commit 37a957cbe48e7d36a362eac19627e760ad6fbff8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 29 07:56:32 2004 +0000

    cryptoflex 32k e-gate v4 also has on board key generation.
    thanks for reporting to Pierre JUHEN.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1759 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b8ff3ce6a3aeaef600384df7db7a96c20ae9aff
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:30:58 2004 +0000

    it is legal to read all bytes of the file (e.g. offset 0, len 10, fil->len 10).
    Bug found by Antonio Iacono.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1758 c6295689-39f2-0310-b995-f0e70906c6a9

commit 73d092274154556f0a8bb349b860ec8fbbee1871
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 28 20:26:43 2004 +0000

    len is the number of character, we need to alloc len+1 for
    the \0 terminator. Bug found by Victor Tarasov.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1757 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6460502b98d65e38b8ce7469276c6dec86c69491
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 14 19:53:23 2004 +0000

    add "rm" alias for "delete" and "exit" alias for "quit".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1756 c6295689-39f2-0310-b995-f0e70906c6a9

commit 345d30a9d67887b777ff6e41dd503bbcb2cad4f7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 8 13:59:27 2004 +0000

    Moved the sc_pkcs15emu_xxx() functions to pkcs15_syn.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1755 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9326f5f1c4008c354e651cc8fdf992585b04e229
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 3 16:25:48 2004 +0000

    Allow file_app in struct sc_pkcs15_card to be NULL (may be the case for pkcs15-emulated cards)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1754 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9333f53ffcdfce7374fb4703763fee8a47a462a1
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 16 12:29:54 2004 +0000

    remove CARDOS_TYPE_ETOKEN_PRO, the name does not fit.
    annotate atr with version number 4.0 / 4.01 / 4.01a.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1753 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21b43fca83fea42b91dcca6df25dbb11e8888eeb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 15 23:00:04 2004 +0000

    added cardos M4.01a atr.
    thanks to Laurian Gridinoc for reporting.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1752 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28461ad360a1cd2d72e9d838f1a51ae0d13c1c27
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 3 14:51:43 2004 +0000

    - properly identify Italian eID card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1751 c6295689-39f2-0310-b995-f0e70906c6a9

commit db7d3bac6ea6caee79d7c62a1f59a30fd80c021e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 3 10:25:20 2004 +0000

    - Properly handle max-length in PIN statements; added new stored-length:
    	PIN blah {
    		max-length = 8;
    		stored-length = 4;
    	}
      Bug spotted by Victor Tarasov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1750 c6295689-39f2-0310-b995-f0e70906c6a9

commit 393de85ac109a3e0106df9d10c28776e08dde5c1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 2 10:24:31 2004 +0000

    - Don't crash if card->serial_number is NULL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1749 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20e2b1b94b167bdb5ef1eec8963e00d01dcc7b84
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 29 09:36:48 2004 +0000

    memset is defined in string.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1748 c6295689-39f2-0310-b995-f0e70906c6a9

commit a75058ea89a40f19d5c29714fd7944f6eecee4f5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 29 09:21:30 2004 +0000

    - apdu wasn't completely initialized (Renzo Tomaselli)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1747 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec0d4db12b7f619eec3964959104e22a190c62a0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 27 09:03:15 2004 +0000

    - Allocate the right amount of memory when base64 encoding for PEM
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1746 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d6af9a68c1b66e889e7c0f19e9c4fcdce2d9235
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 24 20:55:34 2004 +0000

    Added --cert-label option, usefull to specify the user cert label if you do a --store-private-key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1745 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbaec369b964e39b4c04baff1a95fa1c9f6b8720
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 23 09:27:41 2004 +0000

    - documented max_{send,recv}_size paramaters
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1744 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ff6c991e1b2a2861b5b8beec3da8bb329249dcf
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 22 22:04:20 2004 +0000

    new debian packages: added pkcs11-spy, undid library merge.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1743 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a1595601809d3e958b9101c109c04439d8f71a9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 22 12:37:26 2004 +0000

    - Allow lists to end as ,;
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1742 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f6ffdbe0aa385d1e7efed399f4aa305732f6628
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 22 10:13:40 2004 +0000

    - Added a short introduction to scconf as an API
      and a file format (Jamie Honan)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1741 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d49aa0769a8756e0e48aa0d04e66bd7a2314479
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 20 11:21:40 2004 +0000

    - fix crash with pkcs11 module and token disconnect
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1740 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b4b08550b14ac07b6f08507c7462cf2de483d1a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 19:52:38 2004 +0000

    - Revert previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1739 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9c914aa6bea4bfcc255e3543a0f1aeb856ea353
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 18:54:15 2004 +0000

    make these libraries not standalone (pkcs15init, scam, scconf, scldap).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1738 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f8da8298c10913c8798dbf8180166a5c00905e2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 19 18:53:13 2004 +0000

    several debian fixes, new version.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1737 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6aa364bfe4292f9fc8f97323900ba78b971ad9aa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 14 10:43:07 2004 +0000

    From: 	Ludovic Rousseau <ludovic.rousseau@free.fr>
    > You still have some unecessary files in CVS debian/
    ...
    
    thanks for the hint.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1736 c6295689-39f2-0310-b995-f0e70906c6a9

commit a717fca4c86b2248abc1b3bebe6d7b01840c5dae
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 10 23:13:41 2004 +0000

    - Fixed a typo in the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1735 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d915b987e8abf1121c9ad0f46d6c3e0bff5ce06
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 10 20:24:46 2004 +0000

    - Add versioning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1734 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a2d331b34f0d0855aab51fb176a48f147e66e3c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 10 19:49:52 2004 +0000

    - Move the variable substitution of exec_prefix and
      sysincludedir to make-level (Lars T. Mikkelsen)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1733 c6295689-39f2-0310-b995-f0e70906c6a9

commit d34562110ccedb97242207750ec4e29ade7fd431
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 18:38:06 2004 +0000

    Unneeded files, debhelper does everything we need automaticaly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1732 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85d6bc7922546465dced2f5b0c0c37bd574b4431
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 15:23:11 2004 +0000

    - Warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1731 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9779f07467363f7cc8b55955b33c3f46c1b335ad
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 14:16:02 2004 +0000

    Fix: no keycaching if USE_PKCS15_INIT is not #defined
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1730 c6295689-39f2-0310-b995-f0e70906c6a9

commit d98096db6d314d31e38dd919c027f8edd374271e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 14:08:46 2004 +0000

    I had removed the wrong file while cleaning up. fixed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1729 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6473d2d2b3e63522df31dd3685544a53d4ee61d7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 14:05:32 2004 +0000

    - Unify with pkcs11.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1728 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a266217266ccb3f3c1e4a626da4c3233ed16618
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 13:21:43 2004 +0000

    - There is no --with-pcsc, replace it with --with-pcsclite
      which supposedly works the same way as no argument at all. :)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1727 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8603cb40233b7e83be10c46a3dd00de150c85280
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 13:04:10 2004 +0000

    - Revert previous patch. Instead of providing a configuration
      file with all lines commented away, provide a sane configuration
      that works for most people out-of-the-box without user interaction.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1726 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c3fbbdfab9659696f21dbd78f98d4f496820dc2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 13:01:22 2004 +0000

    - Revert previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1725 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e7fa43a2910b30fcfde7a9d0e969d0853e0a26c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 11:59:55 2004 +0000

    big rewrite on debian/ files, originaly based on Joe Phillips debianisation,
    reworked by Andreas Jellinghaus, and with many changes and suggestions by
    Ludovic Rousseau
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1724 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5322b0cd9db2cde6fed89ff6cdb5149c0c7d58d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 11:57:25 2004 +0000

    changes caused by new docbook stylesheet.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1723 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2803e1a74e7145e5b233fbff6ee895e73cc9792
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 11:56:47 2004 +0000

    commented out everything.
    now you can install those files to your etc, it will not hurt you.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1722 c6295689-39f2-0310-b995-f0e70906c6a9

commit 115bd355ed1c596587aa8fa4e0ef63ab2ffdf4c5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 11:54:54 2004 +0000

    config.h is not used in pkcs11.h or any file included by it.
    but pkcs11.h is a public header file, so it shouldn't do so anyway.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1721 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9b1dbf6037ebeb9c0b1a88f9745de72de7e3621
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 11:53:44 2004 +0000

    cleanup a generated file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1720 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ef9257c54da55f7e98143a05b9718396e6bc469
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 10:50:52 2004 +0000

    - fixed placement of "function atexit" wrt shell exit trap handler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1719 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f6a7922d88e825d2a6647e9d82fae253a47db50
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 10:50:25 2004 +0000

    - fixed test case
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1718 c6295689-39f2-0310-b995-f0e70906c6a9

commit 844ec9bc23e5acd1830632730d6d0626d22cdc29
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 09:47:23 2004 +0000

    If the maximum allowed number of virtual slots per card is reached, then silently discard all objects that haven't been added yet instead of returning an error
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1717 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7daafeb5da4f137aa125525718e0e567a6d1ba90
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 8 08:32:46 2004 +0000

    Update to the new keycache functions for caching the user and SO PINs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1716 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7bb64d0fcf3a636aaab64416334a4a2d2af08e72
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 7 10:11:22 2004 +0000

    - fixed GPK16K key gen, as suggested by Chaskiel
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1715 c6295689-39f2-0310-b995-f0e70906c6a9

commit f37cb0fce35499f6c2c84a137e03e793a04f2b5d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 7 10:10:34 2004 +0000

    - When zapping the contents of a DF, write the whole file (data + padding)
      in one go. Otherwise the GPK driver may barf if the file offset in
      sc_update_binary isn't word aligned.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1714 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9abadbc711f07dd424675043f837f27f1f61c0a5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 7 09:51:07 2004 +0000

    Increased the maximum number of PINs and removed some unused #defines
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1713 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23aec107ad299a6b8cbe77b5e54aec9df2fa0911
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 7 09:49:10 2004 +0000

    Fixed some comments and added an NULL pointer test
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1712 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d78f07499ebc8009d70a5dc65f9cc5166c7efe6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 7 09:32:58 2004 +0000

    - improved C_Decrypt testing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1711 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30e04cef59d700c7d4f2a47f0a43fa46b986156b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 6 14:30:24 2004 +0000

    - Implemented keep-public-key and sc_pkcs15init_remove_object as
      suggested by Victor Tarasov.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1710 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13bf8814ef9b39683e99cfca07f3e6736115bbe5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 6 13:40:52 2004 +0000

    - in sc_pkcs15_read_file, properly destroy objects in case of error (Victor Tarasov)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1709 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09b2730497bc1f76f95ac03793ec0962d446b988
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 6 13:33:32 2004 +0000

    - implement sc_delete_record (Victor Tarasov)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1708 c6295689-39f2-0310-b995-f0e70906c6a9

commit 759ed8df4967c3c382367812e2edb1b445d600bd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 5 18:44:49 2004 +0000

    - pam_opensc rewrite checkpoint commit
    - rename some functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1707 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec52d8040830c4ce1922f23b768db466140068cd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 5 08:56:32 2004 +0000

    - properly handle pubkey_label in key generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1706 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6aa07d991ef06f04b0844b74844a3ebfae095b2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 30 08:20:52 2003 +0000

    - Another fix from Remo wrt keygen_args.pubkey_label
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1705 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a97a69d1d8decc174474f9c97325f71c93eb9c4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 30 08:00:10 2003 +0000

    - C_CloseAllSessions would block on some Win32 versions because it tried
      to acquire the global pkcs11 mutex twice.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1704 c6295689-39f2-0310-b995-f0e70906c6a9

commit f761d1504fa0d173c79df30d9ef64aacf2909a2b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 23:21:47 2003 +0000

    - small jcop driver fix from Chaskiel
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1703 c6295689-39f2-0310-b995-f0e70906c6a9

commit 292e13b7d9185244439e763844b7599a52882f1d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 20:50:58 2003 +0000

    Add the JCOP card code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1702 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20a707002c535d4756d8e5954c7bb6896071cb0b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 16:54:31 2003 +0000

    - Install unix.h and win32.h as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1701 c6295689-39f2-0310-b995-f0e70906c6a9

commit b552bccfd3307551c7268e4cf206b986611dfe94
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 13:15:04 2003 +0000

    - signature tests would fail on cards with several keys of different size
      (fix by Chaskiel)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1700 c6295689-39f2-0310-b995-f0e70906c6a9

commit beb86f351b05bdf36668887301654de86d19af35
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 13:06:28 2003 +0000

    - util.c:connect_card() now locks the card; removed sc_lock calls from
      calling applications (based on a bug report by Chaskiel)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1699 c6295689-39f2-0310-b995-f0e70906c6a9

commit e03cc716e27f0a99bcdfaf10ce314505d2b537fb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 13:03:48 2003 +0000

    - When testing signatures, don't bail out of C_SignInit returns
      CKR_MECHANISM_INVALID (Chaskiel Grundman)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1698 c6295689-39f2-0310-b995-f0e70906c6a9

commit 620b62e8b6ce0de7064f5f845a1c172b6875b6f7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 12:42:50 2003 +0000

    - minor fixes to the new manpages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1697 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a4a5f033107ce0e3e8224a62a7e86dd3191f2c3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 12:28:37 2003 +0000

    - Added support for JCOP/BlueZ cards, contributed by Chaskiel M Grundman
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1696 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4e48b7778a4d45c542d22d38cdd2a532418caf12
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 12:01:43 2003 +0000

    new manpages for cardos-info and pkcs11-tool,
    both written my Joe Phillips.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1695 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5db7585bb0453b8c4049027d4d42530f934ba5fd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 29 11:52:33 2003 +0000

    - Minor bug fix in new_pin(), patch by Victor Tarasov
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1694 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6952fb4030834196ad85f86d7def962aa1a723cf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 23 16:31:09 2003 +0000

    Made a seperate function for the login functionality, and split test_kpgen_certwrite() into 2 parts, with a logout - unload lib - load lib - login between them
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1693 c6295689-39f2-0310-b995-f0e70906c6a9

commit f017da5102e8cc9d86a2cba366169f06a1b44e6f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 23 10:48:29 2003 +0000

    Fix: no copying done from in to out in case of SC_ALGORITHM_RSA_PAD_NONE padding (by Chaskiel)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1692 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dbb26ad6ab52f7f1dea9e652c133b9503df0573
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 22 22:07:02 2003 +0000

    - Linking changes, don't link libpam to pam_opensc etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1691 c6295689-39f2-0310-b995-f0e70906c6a9

commit e18b7117cdee654d888629327cff78e34dfe6587
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 20 14:41:05 2003 +0000

    - Warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1690 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78febf36cf17dc811fbd304e3ff3f40cdacf6d3a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 19 09:56:57 2003 +0000

    - in pin_cmd, don't overwrite max_length if set by caller
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1689 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae5dcea8915da3130d87fb3cf6d934f808eb59ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 19 09:29:56 2003 +0000

    - created new function profile->ops->init_card for card-specific
      initialization at the pkcs15 creation stage
    - Added cryptoflex init_card from Stef. This function reads the card's
      serial number from 3F000002 and puts it into the pkcs15 serial number
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1688 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5bbe78a8fef37ce722d9ccf90fa76cdeaf92801b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 19 06:52:38 2003 +0000

    sleep(sec) = Sleep(1000 * ms) on Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1687 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d3fc55736f7649703bcec350f612dd43faab3b3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 18 21:37:34 2003 +0000

    - Minor build and C++ warning fixes
    - pkcs15init: Use u8 for pin variable
      declarations like libopensc does
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1686 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5aeedf554fcd0102dba3df032aabd69b5d26914
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 18 21:30:28 2003 +0000

    - Obsolete
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1685 c6295689-39f2-0310-b995-f0e70906c6a9

commit b706b298c9052077a9482da8237edc1b2b6c3794
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 18 19:13:13 2003 +0000

    - Revert parts of the previous patch, use void *func
      instead of struct sc_reader_driver *(*func(void);
      as _sc_driver_entry is used for both, reader and
      card driver lists.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1684 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5dda541b7e883ee4d468367af927627cb2cd65a5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 18 16:35:28 2003 +0000

    - made apdu_masquerade functionality available to all readers, not just pcsc
    - added new parameters max_send_size and max_recv_size, roughly corresponding
      to the old max_le (SC_APDU_CHOP_SIZE) parameter. You can now set this
      chop limit per driver class (pcsc, openct, ctapi), which sets
      driver->max_{send,recv}_size. This value is copied to
      card->max_{send,recv}_size in sc_connect_card, and can be overridden
      by the card driver.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1683 c6295689-39f2-0310-b995-f0e70906c6a9

commit af37c4e02603684358897cd1fa7aaa189ced5ec3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 18 08:00:27 2003 +0000

    - do not access file afterdeleting it (S Bakkal)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1682 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2083ba406bf9365b8ce2531d921949325d5ef10
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 17 12:15:11 2003 +0000

    - Add HAVE_UNISTD_H
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1681 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d378d1cb8f07bbf74807e5b1af9f0ac21d34534
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 17 07:35:55 2003 +0000

    - properly set key usage
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1680 c6295689-39f2-0310-b995-f0e70906c6a9

commit a569ef57c7311b3b367628ecc4fe703e9fe079c6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 16 14:41:04 2003 +0000

    - Display better pin prompts
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1679 c6295689-39f2-0310-b995-f0e70906c6a9

commit bca2a9f2332acdb9e3f48510f0476f2ba9ba443d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 16 14:32:16 2003 +0000

    - added GPK on-board keygen (based on code by Chaskiel)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1678 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2074743b23d6e47c2cf6cc7200515404b8f73e9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 16 14:31:12 2003 +0000

    - reduced sc_lock/unlock debug messages even more
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1677 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0996f3977943ba0c30ada22966c43921348328ca
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 16 11:07:32 2003 +0000

    - added ATR for Italian eID card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1676 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ed95baff1f4c3b5aafd1a948a3a0ae6bd31e14b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 16 11:04:01 2003 +0000

    - Updated previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1675 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b669736921c8db542c9e53abf5322e1a3c0a6a9
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 16 08:01:36 2003 +0000

    Prevent running off the end of the buffer if the asn.1 is invalid (Chaskiel G.)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1674 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83a5cb142679208d72dd4ed8cb853a1613070be0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 15 11:28:20 2003 +0000

    - Ach, forget the previous commit. Just use DBG(printf()); for
      debugging purposes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1673 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9f8c7d879bbd845c45d7ad881416ce1ad6203b6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 15 10:51:51 2003 +0000

    - error/debug -> sc_error/sc_debug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1672 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13030f54b13d5948ecf2219b08eb67fb9bde9b92
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 12 09:32:34 2003 +0000

    - Minor bundle handling fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1671 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d0095eeb288fc314b1d6e25c1b3edab4777a93f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 10 15:13:20 2003 +0000

    - Another typo fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1670 c6295689-39f2-0310-b995-f0e70906c6a9

commit d6713aff9ad75a93aab14adcfc0b11f048af9cc3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 10 14:52:58 2003 +0000

    - Minor naming convention harmonisation for pc/sc and ct-api
      related things
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1669 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2771b0a52c11951359dbf278e33da110761df8af
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 9 19:37:24 2003 +0000

    - Probe for -lpthread before -pthread, as we did in the
      previous version.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1668 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4203227a77658b5376d1fbdcfb65d0a29cdae078
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 9 19:35:17 2003 +0000

    - Fix for the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1667 c6295689-39f2-0310-b995-f0e70906c6a9

commit ab9d7bb7ffa109a276f7a559339509ed5c573c20
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 9 15:41:16 2003 +0000

    - removed some dead debugging code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1666 c6295689-39f2-0310-b995-f0e70906c6a9

commit cec660fda1fb43f9213f054357251457ccc8cfbf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 9 13:57:20 2003 +0000

    - More cyberflex fixes from Martin Buechler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1665 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d41e0531090be8cbd040ed6245db18dee9f261b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 9 12:01:51 2003 +0000

    - turned key-domain printf into sc_debug call
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1664 c6295689-39f2-0310-b995-f0e70906c6a9

commit cfdd62bd498564d556209846ea051ba6047f856e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 8 12:02:28 2003 +0000

    - When generating a key in pkcs15init, allow the caller to specify a
      public key label (Remo Inverardi)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1663 c6295689-39f2-0310-b995-f0e70906c6a9

commit b15bd6c4532ed5f21a2cac4c39b29787f7f7360a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 8 11:43:21 2003 +0000

    - Added support for Cyberflex Access 16K, based on a patch by
      Martin Buechler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1662 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85fa4ed0dafcba13ad7092c5d64fff6932451085
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 8 10:54:55 2003 +0000

    - Matched Cyberflex patch from Martin Buechler. Created a new
      driver named cyberflex which shares a lot of code with the original
      flex driver. This is a lot cleaner than having to create if/else
      monsters.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1661 c6295689-39f2-0310-b995-f0e70906c6a9

commit babc626e944cffc54a1788a23920ac8cba63cf56
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 8 10:52:15 2003 +0000

    - use full OPENSC_INFO_FILEPATH when reading info file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1660 c6295689-39f2-0310-b995-f0e70906c6a9

commit a239629d9caa614e2d0478c688ffb418d60eb2fc
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 4 16:43:41 2003 +0000

    Added a check for NSS-like keypair generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1659 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d68e1a28e162c94bcb7e421090528d5c388f1f9
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 4 16:42:03 2003 +0000

    Fix: allow a C_GetAttributeValue(privkey, CKA_MODULUS) after a C_GenerateKeyPair() -- M. Buechler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1658 c6295689-39f2-0310-b995-f0e70906c6a9

commit 720b2810eeb09b65c8c742c50e214deea751c047
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 4 15:07:26 2003 +0000

    Little fix: forgotten to log an input param
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1657 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f30699b0d6d6dad07dedfd958fe896f4d4947ac
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 3 14:09:15 2003 +0000

    - Avoid breaking source compatibility, add char *errmsg to scconf_context
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1656 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff9a45569adbcf2cfe964984d7f49a61c8dac526
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 3 12:07:01 2003 +0000

    - scconf_parse and scconf_parse_string now return an error message if
      something went wrong
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1655 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8684aff59c6e2b0643fa2061162049e359a568e1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 3 12:02:20 2003 +0000

    - Fixed a return value for new scconf_lex_parse
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1654 c6295689-39f2-0310-b995-f0e70906c6a9

commit dcce086a0ef331c7a6d6b9d61d0e9f1770357941
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 3 11:11:14 2003 +0000

    - Fix the "get_info failed" error; based on a patch by Ludovic Rousseau.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1653 c6295689-39f2-0310-b995-f0e70906c6a9

commit b10c4ed91ae862c37eb18be946bdea60756e1485
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 3 10:56:23 2003 +0000

    - Add AM_MAINTAINER_MODE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1652 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1258ba5fd93effd15126ec9990701eb0a01f7a9d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 3 09:09:57 2003 +0000

    - Updated comments to reflect new apdu_masquerade parameter
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1651 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b82b04960d5a9ac4f83b80c61425aed1300d99a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 2 19:03:25 2003 +0000

    - Add check for functions vsyslog, setlocale
    - Add check for header locale.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1650 c6295689-39f2-0310-b995-f0e70906c6a9

commit e18283d57833a774a9a00f3ab170ca466a3b82e4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 2 17:51:37 2003 +0000

    - Fixed a typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1649 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61d242d1051a7968966f6b864dd5defd9f753cde
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 2 15:58:13 2003 +0000

    - Fixed a few glaring errors. Marginally better, but not really great yet.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1648 c6295689-39f2-0310-b995-f0e70906c6a9

commit c46b58fa34fc571c1d16d40c116f3d6fb1838431
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 2 15:51:52 2003 +0000

    Moved the cardinfo file to the pkcs15 DF, changed it's FID to 4946, and protected it against unauthorized changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1647 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ee8d0756c0e15fdc2d83f160609bf7d5b53c953
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 30 17:19:33 2003 +0000

    - Fixed an embarrassing typo from the ChangeLog URL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1646 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5993b3d1c498fa9f01b85d75b57cd1f1b020cf38
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 26 16:19:03 2003 +0000

    - fixed test for onepin option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1645 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ff09b7f773756f1e6f35e70a6b497de4f48fd16
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 26 15:49:09 2003 +0000

    - another fix to verify pin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1644 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2c9afec7fa57ca7cda53269d2d333f504ae7ad9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 26 15:37:29 2003 +0000

    - fixed problem with pubkey encoding/decoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1643 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c89fc8edb44b2008e5b2ce0bff147fc683730b0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 26 15:35:17 2003 +0000

    - improved support for CHOICE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1642 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b1d6dd926c2ad6eda88e227a90e2dbb8c063801
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 26 13:12:26 2003 +0000

    - Support raw RSA on decryption (Martin Buechler)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1641 c6295689-39f2-0310-b995-f0e70906c6a9

commit addb6fd992aa051c7cf1b3382e56263dae31e231
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 26 11:56:07 2003 +0000

    - Add missing .SH NAME for some man pages (Ludovic Rousseau)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1640 c6295689-39f2-0310-b995-f0e70906c6a9

commit d12b21f63337772973391ce4c8312bee1284615b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 25 11:17:02 2003 +0000

    - Remove all references to usbtoken, use OpenCT instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1639 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6796d040401eb04c0243cdffebebab14cc05587
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 25 10:37:23 2003 +0000

    - fixed suppress_error handling in sc_pkcs15init_write_info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1638 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22312dbe17c91cc13a9af3d54e811140575c9395
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 24 10:21:36 2003 +0000

    - set ACLs on the profile info file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1637 c6295689-39f2-0310-b995-f0e70906c6a9

commit af462ab212590c3315c78e37535d7a266f17f561
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 23 16:11:32 2003 +0000

    Removed the exceptional (and incorrect) handling of the signature inputs of 16 and 20 bytes with pkcs11's CKM_RSA_PKCS11 signaturemechanism; and made sc_pkcs15_compute_signature() a bit more powerfull: if a digestinfo+hash input is given but the card only accepts hashes, the digestinfo is removed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1636 c6295689-39f2-0310-b995-f0e70906c6a9

commit a843fd1d1163f44f0b3b7b81e257336295bad858
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 23 15:43:38 2003 +0000

    Little fix in test_signature()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1635 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30fba619b976be5eb59d6afe9ab273093a540c53
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 23 15:33:56 2003 +0000

    Added an error code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1634 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1435c8fccec59bc8f418045035231c2f430c2804
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 22 18:50:04 2003 +0000

    - Back out Olaf's change, as it seems to break existing
      behaviour while parsing pkcs15 profile files. Although
      officially any list value with an equal sign or braces
      should be enclosured with quotation marks, but anyway.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1633 c6295689-39f2-0310-b995-f0e70906c6a9

commit eeca8db27cc5de5bec178dad49a0a7617a8d7a26
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 21 12:33:38 2003 +0000

    - Replace the default lex based parser with
      Jamie's version. Please notify if you run
      into any problems with the new parser.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1632 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cddfbaf46db3d425343877940f7c0a0dab3bb50
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 20:46:15 2003 +0000

    - Warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1631 c6295689-39f2-0310-b995-f0e70906c6a9

commit 183fef361dd6c2bd1e69ea358f1f3078587a4b44
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 20:37:55 2003 +0000

    - Replace the patched file with a new upstream version
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1630 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17b5985bb85e9234a9668fbfd548e9b3d0f98ebd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 17:48:02 2003 +0000

    - Fixed CRLF parsing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1629 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9c572c92a2c257ddefd9fb2e9706b0425270b55
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 16:10:08 2003 +0000

    - allow stuff such as
    	blabla=
    	foofaah{}
      to work
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1628 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf733acdad9181ad9e6037b964810c83a2145985
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 16:01:56 2003 +0000

    - opensc-explorer.c ceased to accept verify data in hex notation, fix by
      Martin Buechler
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1627 c6295689-39f2-0310-b995-f0e70906c6a9

commit a632956e0d9399997fb98c33471c9211e3f4a596
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:42:10 2003 +0000

    - Deal with cards that require authentication before you can extract
      the public key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1626 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43da7aac4e9e1cb5321e5b8785b70718ea37c45f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:41:28 2003 +0000

    - Improved OpenPGP handling; we're now able to sign things
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1625 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59c38ee7cdc091d3ec7a48517678fa3c9afeb2bd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:40:22 2003 +0000

    - Append newline to error/debug messages if not supplied by caller
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1624 c6295689-39f2-0310-b995-f0e70906c6a9

commit 624e345a584a544ddc9cd2f7c917d2684d63a934
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:40:01 2003 +0000

    - in sc_format_path, initialize path->count = -1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1623 c6295689-39f2-0310-b995-f0e70906c6a9

commit a91824eafa97f9a7ec9db1f79e684dfb76fe77f6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:39:38 2003 +0000

    - increase SC_MAX_PIN_SIZE to 256 (OpenPGP cards have 254 max)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1622 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28a5eb0204187dc73bcf34c482e5e7f0a45a547e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:39:18 2003 +0000

    - if ctx->suppress_errors is non-zero, log suppressed error messages
      at least to the debug log
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1621 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1648a1cdeaa88dbe5899870b86b3fe7b9ac91bf6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 15:38:43 2003 +0000

    - SW 6A88 (referenced data not found) is now translated to
      SC_ERROR_DATA_OBJECT_NOT_FOUND
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1620 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3fbdc4fbe9cf0279015165912c4976f3fd50ce98
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 14:16:20 2003 +0000

    - Link the spy against libopensc (Patch by Mathias Brossard)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1619 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce076814049fa4ad6209c49eec6f3160aaf0d95a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 14:15:32 2003 +0000

    - Add new hand written replacement for the lex parser
      by Jamie Honan, not much tested yet.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1618 c6295689-39f2-0310-b995-f0e70906c6a9

commit c13a417d8b08f831abf30e1fac0a2ce2344f93ae
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 14:13:08 2003 +0000

    - Add scconf_list_toarray() by Jamie Honan
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1617 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b7b3dff9cde5a372ebbcaace873fc748d520988
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 20 09:17:57 2003 +0000

    Support comparison of large object attributes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1616 c6295689-39f2-0310-b995-f0e70906c6a9

commit 961e116006ca60ee0ff515df24c17078fafb1650
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:37:02 2003 +0000

    - Support direct encoding of certificates
    - Allow more than one profile option (e.g. pkcs15+small+direct-cert)
    - While creating the basic pcks15 structure, store profile options
      in a special file on the card (3F002F01). All susequent operations
      (adding PINs etc) will use this information instead of what's
      given on the command line.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1615 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1359d9e65daccb5a621b2e895ba5d7192321cf67
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:33:12 2003 +0000

    - sc_pkcs15_print_id now prints to a buffer instead of stdout
    - Now pretty printing Common Object Flags
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1614 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ee5c76a4d8d9f7d901333ba2ad20f7b344878ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:31:52 2003 +0000

    - Support direct encoding of certs in the CDF
    - Added prototypes for sc_der_{copy,clear}
    - Changed sc_pkcs15_print_id to return const char *
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1613 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1780e10bf22dbd527ada41036fba207f2cb08541
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:30:44 2003 +0000

    - Somewhat improved debugging output
    - sc_pkcs15_print_id changed to sprintf to a buffer rather than printing
      to stdout.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1612 c6295689-39f2-0310-b995-f0e70906c6a9

commit 519c1e8e551c18e69d897f5a38121df58460a1d0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:29:54 2003 +0000

    - The changed code in asn1.c requires that the PrKDF subClassAttributes
      for private{RSA,DSA}Key be marked OPTIONAL (our handling of CHOICE is
      still somewhat limited)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1611 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed5d12800d77d69e5ef398b2116acf0a8abde7f8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:28:02 2003 +0000

    - Read and write CDF entries with directly encoded certificates
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1610 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12386d65c9931ab085a2df5018380b074106a0c4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 19 20:22:52 2003 +0000

    - When encoding a path, either encode _neither_ index/count, or both.
    - Added new functions sc_der_copy, sc_der_clear to handle DER blobs
    - Somewhat improved debug output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1609 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0efe4659ed39278bc5a717419ae23355a4f6acda
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 17 18:54:10 2003 +0000

    - snapshot build fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1608 c6295689-39f2-0310-b995-f0e70906c6a9

commit 692aa315599e6ce9dfb5e787b3b2b97e4064d291
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 17 14:52:03 2003 +0000

    fixed "version>" to "version&lt;" in xml file
    (html file was already fixed by tidy, no change necessary).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1607 c6295689-39f2-0310-b995-f0e70906c6a9

commit d6bb9edd59a235651e423ef342c719334e5e7bb8
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 17 14:49:09 2003 +0000

    Applied changes by Stef,
    updated html file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1606 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6f902911fa17b708a89247f11f3e7eb18c0bd13
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 16 16:24:16 2003 +0000

    - Test commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1605 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b746f0b5e85dba46cb1f471afa648c140d1e7c5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 14 10:14:54 2003 +0000

    Add room for SW1-SW2 in case of maximum reply size (256 bytes)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1604 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43c4fe5ff5fe26f940689b9c6681be2d726fd521
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 12 19:06:33 2003 +0000

    Fix: correctly set the labels of the public and private key during keypairgeneration (Remo Inverardi)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1603 c6295689-39f2-0310-b995-f0e70906c6a9

commit dfba889fba740ccd9d24907a717489a4b896944c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 12 18:28:03 2003 +0000

    Fix: allow keypair generation of keys other then the default length (Victor Tarasov)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1602 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e898942c05f865836c749afefa3c4ffc944c58e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 11 21:30:34 2003 +0000

    - ifdef RTLD_NOW
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1601 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45d81af97927ab5414cb0b7e1052e7cc42a6adff
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 7 11:15:27 2003 +0000

    - do not test unblocking pins
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1600 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f72813624fbbfc8fc478a547f2a971f5d74dbbf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 6 10:43:41 2003 +0000

    - security: prevent format string attacks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1599 c6295689-39f2-0310-b995-f0e70906c6a9

commit c85357baf9fb5f385deab620f9f8db5dfa4a1637
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 3 10:20:02 2003 +0000

    - remain backward compatible - apdu_masq patch shouldn't break existing
      config files that use apdu_fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1598 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e1443071c45911711ea25e1226c927c42862b31
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 3 10:16:25 2003 +0000

    - merged apdu_masq patch from Chaskiel Grundman
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1597 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d0e266886c232dbb0f5ac2cb00ae047a7eda0e5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 3 06:54:30 2003 +0000

    - prevent problem with get/get_do ambiguity
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1596 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5f5f7f57c0f098ac5cbd8c4654dd02073282412
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 1 19:13:21 2003 +0000

    Fix: link the simbolic PIN to the real name
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1595 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64aaf1847859549501c2082a4088403985e45b5c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 17:18:34 2003 +0000

    - Undid some of the previous changes. We now have a pseudo file system on the openpgp card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1594 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9eac7a8d880193955d5213cbd40788d234d8d45
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 16:06:40 2003 +0000

    - fixed put_key(SC_AC_SYMBOLIC)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1593 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ff9fe296ad3ce9964293a1075e32bf0b35e5f55
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 16:02:54 2003 +0000

    - dont print prkey path if empty
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1592 c6295689-39f2-0310-b995-f0e70906c6a9

commit 839dab0fe4e52717ff59e41a8991a000dcfb09e3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 16:02:42 2003 +0000

    - use sc_test_print_card instead of sc_pkcs15_print_card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1591 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3b3b02cf0caa72e3fd86848e7bccf539204937e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 16:01:35 2003 +0000

    - Updated, now registers key objects as well (untested)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1590 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36f170c2e765400bb7eda90189ef70b85e2f1c7b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 16:01:00 2003 +0000

    - OpenPGP card now supports a fake file hierarchy (basically all objects
      and constructed objects reprented as DFs and EFs)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1589 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb97c0d094356b101a7db0399cfb3df173238edd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 13:59:27 2003 +0000

    - Add new files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1588 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13a11083e103335d79423fa2004a04a03a153342
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 12:31:54 2003 +0000

    - initialize tries_left field to -1 when parsing AODF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1587 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb5e179042ff42aa08c42a15971f198ae28020b6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 12:29:12 2003 +0000

    - Moved p15 print_card function here
    - print preferred_language, if given
    - don't print pin path if there is none
    - print tries_left if present
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1586 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd1272c7677a066346c3df73fd61df55dfdc608d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 12:28:15 2003 +0000

    - moved p15 print_card to tests/print.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1585 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16ec507738b8ede2bc1d1e4f011b93d796f2a52b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 12:27:14 2003 +0000

    - Rewrote sc_pkcs15_bind_synthetic a little
    - Started work on pkcs15 emulation for OpenPGP card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1584 c6295689-39f2-0310-b995-f0e70906c6a9

commit d91ecdc24500368ea24d356bfe303fa226d3ee28
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 12:26:24 2003 +0000

    - Moved sc_pkcs15_bind_synthetic to a separate file
    - Moved sc_pkcs15_print_card to ../tests/print.c
    - added dll_handle and preferred_language fields to p15card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1583 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78949a9bcb4525a3941df3b6a313b3bdef60869b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 31 07:48:35 2003 +0000

    Make the PIN for the 'onepin' option look like a user PIN instead of an SO PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1582 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee68df94f097f1a0e5a40c37e9b6708e77031900
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 17:04:50 2003 +0000

    - added some support for OpenPGP cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1581 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f32616c203ea38bccba235951d24642715dd2f1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 17:04:22 2003 +0000

    - added initial support for openpgp card driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1580 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99e999d64c2655c3bb8a7717b8210bb9c33ba70b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 17:04:02 2003 +0000

    - added sc_get_data/sc_put_data
    - added openpgp card driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1579 c6295689-39f2-0310-b995-f0e70906c6a9

commit c072c5e0fe72c57817bb82448c8ddb9f651a63e6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 17:03:41 2003 +0000

    - added sc_get_data/sc_put_data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1578 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef4f132e6156c392aa5477fc0cb60e2020db52e2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 17:03:09 2003 +0000

    - added SC_ERROR_DATA_OBJECT_NOT_FOUND
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1577 c6295689-39f2-0310-b995-f0e70906c6a9

commit 323240fa4423a1b1b3625883d5a3b3d2b1c06b10
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 15:43:19 2003 +0000

    - small fix in mcrd_finish
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1576 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ea930a03060ed259db52a7d8ac58a217ef5c8ce
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 12:03:31 2003 +0000

    - return error if cflex_create_dummy_chvs fails
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1575 c6295689-39f2-0310-b995-f0e70906c6a9

commit 728a6a4ade7282af2c6f8ea8e715924e7941a449
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 11:47:37 2003 +0000

    - Another broken commit message :-/
      What the previous commit was all about:
      If we store a pkcs12 files on the card, it stores a key @45,
      and a CA certs @46. When storing another p12 file, we must make
      sure we don't grab the next free key ID (46), because the
      corresponding CERT ID is already taken. We must skip all IDs for
      which a key or cert exists.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1574 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3d7664c118074e888fd0c8e0e836896964762e1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 11:43:21 2003 +0000

    - Changed the internal object search machinery quite a bit so it
      can search for more than one type of object at the same time.
    - When enumerating a DF as part of the search, no longer ignore all
      errors.
    - When parsing a DF, SC_ERROR_ASN1_END_OF_CONTENTS really means
      we've just reached the end of data in the file, so return 0
      instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1573 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e9412cd98abb98812386673c3a5ee84f8125844
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 11:38:05 2003 +0000

    - When encountering the end of a SEQUENCE, while there should be
      more items, we used to return SC_ERROR_ASN1_END_OF_CONTENTS.
      That error code is reserved for the real end of content markers
      though. Changed the return code to SC_ERROR_ASN1_OBJECT_NOT_FOUND
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1572 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9d9aa287717018482b2139e477919e59fb1ab1d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 11:36:04 2003 +0000

    - When storing a p12 bag, check if the CA cert is already present and skip
      it if so.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1571 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60892cd0a30ff3ffa1daf52806046f6d8b4ae31e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 30 11:13:11 2003 +0000

    - added recommendation about 2 cert/key pairs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1570 c6295689-39f2-0310-b995-f0e70906c6a9

commit c29e7d8510215382966f3840c2e06f3c7a1593cd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 28 12:50:43 2003 +0000

    - don't call sc_module_get_address when we dont have a dll handle
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1569 c6295689-39f2-0310-b995-f0e70906c6a9

commit ead350c2695d920604dc8e62c4db98b5ffff8bad
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 24 13:20:18 2003 +0000

    - now uses new sc_ui_get_pin function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1568 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a27b4e81e44be85891c9a361361b4b21686d2ea
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 24 13:18:17 2003 +0000

    - Changed ui API to offer more knobs and dials
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1567 c6295689-39f2-0310-b995-f0e70906c6a9

commit c693c4799c69814f7a3c7756b0c9c626436b16d5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 23 09:12:48 2003 +0000

    - Merging between Makefile.am<>Makefile.mak
    - Add ui.h to main distribution tarball, snapshots have
      been broken for a few days
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1566 c6295689-39f2-0310-b995-f0e70906c6a9

commit e62eea53514697c15ada440e5d4e807e81f7cd6e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 18:16:21 2003 +0000

    - Minor cleanups and a warning fix
    - sc_release_context: free ctx->preferred_language if set
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1565 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28fcfde1fd52668542ab3729662f67f0c67c5a57
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 08:51:41 2003 +0000

    - Replace WIN32 with HAVE_UNISTD_H instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1564 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23d1ca554e89840b89dbf0d0ebf074e03fc29ac5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 08:43:27 2003 +0000

    Let the new UI code compile under Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1563 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc4cd7c1af41fc0dc233371405a31f42f49f31ed
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 06:56:51 2003 +0000

    'Export' keychache.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1562 c6295689-39f2-0310-b995-f0e70906c6a9

commit c57ac69e56bb8e09455954e1b9a43c9f60ca70fe
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 06:56:10 2003 +0000

    Fix: spurious error message (Chaskiel & Kevin)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1561 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b6516bd997a10e826882f5cb86ed5ab29a646e2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 06:51:55 2003 +0000

    - allow to call scripts with --soft and -d
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1560 c6295689-39f2-0310-b995-f0e70906c6a9

commit 931a1dd28a234cbd059325b8406497d002d26294
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 06:49:59 2003 +0000

    - added error/debug message support to ui.c
    - sc_error/sc_debug now use the new ui code
    - added language support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1559 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a5f130af8c19d6e7b823d9aca9d4570b5e6eef9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 22 05:43:57 2003 +0000

    - do an sc_select_file inside do_get_pin_and_verify in case we called
      a pkcs15 function that enumerated the AODF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1558 c6295689-39f2-0310-b995-f0e70906c6a9

commit 879bd502903e83ef7991053ca2da65511bb795ec
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 13:30:12 2003 +0000

    - call sc_pkcs15init_set_p15card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1557 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4615d5eb878840fa6e3ed12a54c219af761ac338
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 12:50:04 2003 +0000

    - Add necessary automake conditionals to install-exec-local
      rule, as it seems to be executed even though lib_LTLIBRARIES
      is empty in some cases.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1556 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d34d6b6ee8bf1da739d4dbd50f64885785ad178
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 12:48:38 2003 +0000

    - Sort filenames
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1555 c6295689-39f2-0310-b995-f0e70906c6a9

commit f046d5024e22e67c6e02db821c9e10f6a56eedad
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 12:27:47 2003 +0000

    - Add gcc option -fno-strict-aliasing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1554 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5791395e7417f21af7e00561c8c79fa177798059
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 11:12:32 2003 +0000

    - Added new user interface code (not used yet)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1553 c6295689-39f2-0310-b995-f0e70906c6a9

commit f730572f3482a7673fdbd0f9088a9044817014e9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 11:12:07 2003 +0000

    - install ui.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1552 c6295689-39f2-0310-b995-f0e70906c6a9

commit a644d83d68b45ee88af36913f6ead228e31274dc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 11:11:50 2003 +0000

    - added message for SC_ERROR_CANNOT_LOAD_MODULE
    - changed the wording of some SC_ERROR_KEYPAD_* messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1551 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72788e32ec20f70e286fa2a691ab531201503698
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 11:11:19 2003 +0000

    - added SC_ERROR_CANNOT_LOAD_MODULE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1550 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae2cfe8a46c2a37d9c1be4063779699b37a32797
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 11:05:35 2003 +0000

    - sc_pkcs15_find_pin_by_reference now searches by reference _and_path_
    - profile->p15_card renamed to p15_spec, as it reflects what _should_
      be on the card
    - added profile->p15_data, which is what _is_ on the card
    - make do_get_pin_and_verify use the sc_pkcs15_find_pin_by_reference
      properly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1549 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e70efba8a07748ec1f11677e0ab6df5ea02e924
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 11:02:48 2003 +0000

    - sc_pkcs15_find_pin_by_reference now searches by reference and path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1548 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70597d4b144b7727d9249fc5106c8857ed4ba35d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 08:59:11 2003 +0000

    - fixed change/unblock pin with implicit test
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1547 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8368731ae4b59bcd8f0c9b2b34e64cb137121388
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 08:32:17 2003 +0000

    - disallow UPDATE on the Application DF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1546 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7f0dbb4a8fc6ebe7717d6ff2ea90a82c0b67f7d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 21 08:31:45 2003 +0000

    - support UPDATE ACLs when creating a DF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1545 c6295689-39f2-0310-b995-f0e70906c6a9

commit c20fcf5e7b597aae8ebb0995e64dabef8fa8ba8b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 19 18:05:03 2003 +0000

    - bump max number of apps per card to 8
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1544 c6295689-39f2-0310-b995-f0e70906c6a9

commit aae679b28adf316f69f4af8075de147a5653328a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 19 18:02:37 2003 +0000

    - tcos_card_ctl shoudlnt complain about unknown cardctls
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1543 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9de474d80eafaa2ed18f9859c28194bb752022d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 17:07:34 2003 +0000

    - Do not overflow signature test for 2K bit keys (fix by Chaskiel Grundman)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1542 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8740ced3ee99b3682b09fb5d32c83d156020879b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 17:02:44 2003 +0000

    - dont pin protect pubkey
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1541 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d78ea1a6ec007081118d4fbee1fa4014c8ef3b1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 12:51:12 2003 +0000

    - data files had ERASE=NEVER; which is obviously bad
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1540 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1eacefc83c971ff1598973180e6fbb30c8e1b4be
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 12:41:32 2003 +0000

    - previous patch was bogus/incomplete
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1539 c6295689-39f2-0310-b995-f0e70906c6a9

commit af0bd61682b36c34c787b87ae7e3de7b615c496a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 12:40:22 2003 +0000

    pkcs11/framework-pkcs15.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1538 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ff1ecbc7393f741c4454a30fa8986939c0a1ab2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 12:35:42 2003 +0000

    - honor --pin argument for pin pad readers, too
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1537 c6295689-39f2-0310-b995-f0e70906c6a9

commit 927ae344cceb79410124da1e87a6da2d7823279a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 08:39:40 2003 +0000

    - fix cflex key generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1536 c6295689-39f2-0310-b995-f0e70906c6a9

commit 937e6c711deb99b57cd740cc45006859720c1b7e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 18 08:08:07 2003 +0000

    - fix for cryptoflex key download
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1535 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a12ed31081d7ef43ce7a364e945e89c0cb9ca19
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 17 11:21:48 2003 +0000

    - Prepare for userConsent support: changed ops->create_pin to take
      a sc_pkcs15_object_t instead of sc_pkcs15_pin_info_t argument.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1534 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1df398dcadfad4421adf05c2132b6ccf436b521
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 16 20:41:34 2003 +0000

    - Merge with recent OpenCT changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1533 c6295689-39f2-0310-b995-f0e70906c6a9

commit afcf39c6dd2f599e7559bbdda2c5e9f36bcecf02
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 16 14:32:42 2003 +0000

    - some more cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1532 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81e6d67204f225e89542638c973a62623477b6ba
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 16 14:31:11 2003 +0000

    - On-board generation of non-repudiation keys did not work
    - Minor cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1531 c6295689-39f2-0310-b995-f0e70906c6a9

commit 574d6f38ee71c1d286a13ae637a624690051436e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 16 11:41:24 2003 +0000

    - added debian packaging files from Joe Phillips
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1530 c6295689-39f2-0310-b995-f0e70906c6a9

commit c41c9b1c8e518bef1216d61a61bdfc47600aee03
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 15 13:21:04 2003 +0000

    - pin protection for keys was broken
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1529 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09cd60504d971b2f641057cfe8ea4b8c3f0dea60
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 15 09:36:53 2003 +0000

    - one suppress_errors-- too many
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1528 c6295689-39f2-0310-b995-f0e70906c6a9

commit a80928e52b8f024bbe8a506de3d36129ad9dcb5e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 15 09:36:33 2003 +0000

    - removed debugging print
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1527 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14b49ccb811d25e54a5e84d6dd41ecbb445140e1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 22:11:11 2003 +0000

    - Forgot to commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1526 c6295689-39f2-0310-b995-f0e70906c6a9

commit 603ccec619497765310e059c93de722d033f6bec
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 21:56:56 2003 +0000

    - Fixed nightly snapshot generation
    - Link keycache.h to src/include/opensc
    - Move mutex function declarations to opensc.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1525 c6295689-39f2-0310-b995-f0e70906c6a9

commit cfcc191aa5522f33f5300696cbc261517c78af71
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 11:23:18 2003 +0000

    Change setlinebuf() to setbuf(), which is also availabel for MSVS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1524 c6295689-39f2-0310-b995-f0e70906c6a9

commit eaf1f7afdaa150aeb95b27fa24a558246872caff
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 10:42:03 2003 +0000

    - Remove old callback error/debug functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1523 c6295689-39f2-0310-b995-f0e70906c6a9

commit e968abd1a1bec4717e6b5e07b4868c841ab7b3ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 10:10:24 2003 +0000

    - dont barf on empty directories
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1522 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d7e07998df48e0f6e274f61eff0f332462c9243
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 09:58:35 2003 +0000

    - removed obsolete profiles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1521 c6295689-39f2-0310-b995-f0e70906c6a9

commit fffe5b79efdbaf3a898a859b417d2a1460dd13b8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 09:57:50 2003 +0000

    - Error logging changes: replace ctx->log_errors with ctx->suppress_errors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1520 c6295689-39f2-0310-b995-f0e70906c6a9

commit f552395705157015468680f0abac303405558a3b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 09:57:29 2003 +0000

    - Error logging changes: replace ctx->log_errors with ctx->suppress_errors
    - remove error/debug callbacks; always use sc_error/sc_debug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1519 c6295689-39f2-0310-b995-f0e70906c6a9

commit 734bceb682f11a36fb65e34e437623d0d2fd3ff3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 09:56:50 2003 +0000

    - Error logging changes: replace ctx->log_errors with ctx->suppress_errors,
      so that we can nest error suppression using suppress_errors++/suppress_errors--
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1518 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5da3b6f168d23c8ecbe6350b9e5ff240d39ce396
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 09:14:13 2003 +0000

    - removed unused variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1517 c6295689-39f2-0310-b995-f0e70906c6a9

commit c323d0a08260cdc764718bed5da552801754835d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 09:02:51 2003 +0000

    - the previous patch was bad; fixed it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1516 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12a4ef75ef8db5c697c6a9a521d444bcac178e96
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 08:33:20 2003 +0000

    - replace sc_pkcs15init_set_pin_data -> sc_keycache_put_key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1515 c6295689-39f2-0310-b995-f0e70906c6a9

commit aad883149e052232b8919c30a0059c7ae2c1e98b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 08:17:59 2003 +0000

    - removed some dead code inside #if 0/#endif
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1514 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f52b9e035a3d723ae08466d76b890c9eb1e76c8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 14 08:10:39 2003 +0000

    - Don't limit the number of times the --send-apdu option may be given
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1513 c6295689-39f2-0310-b995-f0e70906c6a9

commit 936ad78b02911ce9886c5769dec80c042f751372
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 20:41:00 2003 +0000

    - Some build/portability fixes for the pkcs15init rewrite
    - Add sc_pkcs15_get_<drv>_ops(), yet untested
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1512 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bdcd2184c9dfec26d2d577b82213ada85ea0ae3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 20:28:18 2003 +0000

    - Revert previous patch, an alternative patch to
      work around non-C99 and/or gcc issues coming up
      soon.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1511 c6295689-39f2-0310-b995-f0e70906c6a9

commit b66e24bf55884e1ebbae4b894eb2a976819da778
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 20:16:40 2003 +0000

    Small changes to make it work on non-C99 compilers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1510 c6295689-39f2-0310-b995-f0e70906c6a9

commit a42044829cc8960d0206ba4ecdbfd4193af694b4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 16:13:38 2003 +0000

    - updated/added tests
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1509 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23c1e81512eb6b2013fe3dd507547681bf6da3f7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 16:13:12 2003 +0000

    - pkcs15 rewrite
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1508 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d283fd925754b0eda1ac4303f745791956f91ee
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 14:52:03 2003 +0000

    - fixed a bug in the previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1507 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45e820cdacf60f66b6a4cfd2fb16248cbdc424da
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 14:35:27 2003 +0000

    - added sc_pkcs15_find_prkey_by_reference
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1506 c6295689-39f2-0310-b995-f0e70906c6a9

commit ecc469d570e88833c44aae2bc04dd25e1a08cdb1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 14:34:52 2003 +0000

    - added some more errors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1505 c6295689-39f2-0310-b995-f0e70906c6a9

commit efb19cafe623231ee72a0d7da71e90f739697eba
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 14:34:38 2003 +0000

    - slightly enhanced debugging output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1504 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf7e801facb33a366578f36c99f1487a73b9989d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 13 14:34:18 2003 +0000

    - new path functions: sc_append_file_id, sc_compare_path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1503 c6295689-39f2-0310-b995-f0e70906c6a9

commit bdfffb2ffe660b639ef5f9755d1ca87feb6e6242
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 12 19:57:32 2003 +0000

    - allow all pins/puks to be specified on the command line for testing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1502 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b205da3da0e2b0090ea67a9206d410f2f3587e8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 12 08:34:11 2003 +0000

    - Remove unused variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1501 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7761dff1a0e9ee0b4eca3ca04dd57bdc96422fd3
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 11 21:02:31 2003 +0000

    Security fix: the flex_onepin profile doesn't allow the AUT1 key to change the PIN anymore. Also: it's possible now to add the SO pin to the flex_onepin profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1500 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5bd03af1ce7a3706f75eebb0b0d5be5e629ff86
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 11 20:58:39 2003 +0000

    - Add missing error->sc_error conversions and other
      Assuan specific build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1499 c6295689-39f2-0310-b995-f0e70906c6a9

commit 106351eb5c33aa27aa4188c6bd7562922036d3a5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 11 12:41:28 2003 +0000

    - some commands used the wrong APDU case
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1498 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cf455a56d740dc114f7687f42c9281193468d2c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 10 14:48:40 2003 +0000

    Fix: don't free() a static buffer (Ivo)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1497 c6295689-39f2-0310-b995-f0e70906c6a9

commit f003360c1797460451fae253539b25d077f3d78b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 10 14:24:26 2003 +0000

    Fix: added all required OpenSC libs to the link dependencies (Ivo)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1496 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0039499fbdb652ca9eb1ea3dc80afbae977300d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 10 14:11:46 2003 +0000

    Fix: added scdl.lib to the link list, and added all required OpenSSL libs to the link dependencies (Ivo)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1495 c6295689-39f2-0310-b995-f0e70906c6a9

commit a61c95e204331435f88675295a5bee7e0df0a1db
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 8 06:46:48 2003 +0000

    Minor cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1494 c6295689-39f2-0310-b995-f0e70906c6a9

commit 171c4c6daab47ddc44e29a8134a254ef439106ca
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 7 19:15:09 2003 +0000

    Fix: wrong option name
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1493 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09290bd6ccef307ee60bcfd7c620f8ce85e429f5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 7 16:05:06 2003 +0000

    Remove hardcoded VERSION define, you'll need
    need to update versions from winconfig.h and
    also version.rc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1492 c6295689-39f2-0310-b995-f0e70906c6a9

commit e87ba3c387ead798c5c44456b2c70725edea5d5a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 6 14:22:03 2003 +0000

    Fix: add room for a 'last-flag' object (Ivo Pieck)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1490 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2457faa1e7a9fb60749f12315de31e6501330ca5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 2 12:21:12 2003 +0000

    Fix: when doing a sc_pkcs15init_generate_key(), the auth_id for the public key wasn't put into the PuKDF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1489 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4abcfbd82e53f159b876ee46db8eb79f5abe304c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 2 09:21:17 2003 +0000

    Allow the pkcs15 data to be fetched by label instead of ID, as pkcs15 data objects don't have an ID (Danny De Cock)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1488 c6295689-39f2-0310-b995-f0e70906c6a9

commit 509119ac3b16fc40eba1d417e328d9887df88956
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 2 09:18:12 2003 +0000

    Correctly add the label to a pkcs15 data object
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1487 c6295689-39f2-0310-b995-f0e70906c6a9

commit fac4bd60089690cea0e1beeb8b1a0fc13aeaa5f6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 2 08:29:32 2003 +0000

    Tweak out some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1486 c6295689-39f2-0310-b995-f0e70906c6a9

commit ebca5c681c800561b48a950b34084ca6a4a9c402
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 1 06:51:49 2003 +0000

    Added C_DecryptInit() and C_Decrypt() for RSA keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1485 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7730dc11992b541423858420afc950961bb57e25
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 30 20:43:45 2003 +0000

    Fix: read data as a binary file, not as ASCII
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1484 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70b042746e6af7568622a92f9c0f760c53a7e15e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 30 09:40:55 2003 +0000

    Add Makefile.mak and version.rc to the distribution tarball.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1481 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fa013edf0b5d551b8bfbca2d2040af531a0e248
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 30 09:19:06 2003 +0000

    Fix: don't link by default with openssl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1480 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29fc182e0ee791ed23b8bb758d7d4b04d6b22a22
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 30 07:40:46 2003 +0000

    Add OpenSC 0.8.1 release date.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1478 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7bd2723f6a0c7a65997a9a9a8ccc709463ff5c06
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 29 14:29:43 2003 +0000

    Some fixes that accidentially crept in
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1476 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9fbbc6ec3a18f824046bb86aac6e735bb2a3885
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 29 13:54:39 2003 +0000

    Fix: the hash-based RSA algo's can only do sign/verify, no wrap, encrypt, ...)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1475 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1055045267ea95b22d7a9fb6cae80faddcf739ce
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 29 13:45:07 2003 +0000

    Fixed a bug in the mechanism listing and made it more general
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1474 c6295689-39f2-0310-b995-f0e70906c6a9

commit d208a04872c87b0ec067435b89b57b09aee63728
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 29 09:00:11 2003 +0000

    Cleanups to scconf handling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1473 c6295689-39f2-0310-b995-f0e70906c6a9

commit 186be729096720e1141bc07632d70c83e92bdf2a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 29 08:59:18 2003 +0000

    - Fix a typo
    - Rename init block into spy instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1472 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5984fccd615b7fcf5cda523e7b3fd48d995ad8e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 28 19:22:30 2003 +0000

    Some changes for the spy: (1) renamed opens-spy to pkcs11-spy, (2) exported all pkcs11 functions, (3) start the log with the name of the module-to-be-loaded, (4) first look in the opensc.conf file for the module and log names
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1471 c6295689-39f2-0310-b995-f0e70906c6a9

commit 671adbeb559a1b47a355d8cf20313ed0d5ab4774
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 26 08:15:15 2003 +0000

    Rename HAVE_PCSCLITE to HAVE_PCSC, which is more correct.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1470 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cbe51b9cf951df00cc79fcfd9da0aac7cca8b2d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 26 08:15:15 2003 +0000

    Rename HAVE_PCSCLITE to HAVE_PCSC, which is more correct.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1468 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe9eac7ad2491f3bf18d5b886e47351a9bf0cc14
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 26 08:15:15 2003 +0000

    Rename HAVE_PCSCLITE to HAVE_PCSC, which is more correct.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1467 c6295689-39f2-0310-b995-f0e70906c6a9

commit 345914e9e230068055f7cc071498c4cb85619b1d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 26 08:15:15 2003 +0000

    Rename HAVE_PCSCLITE to HAVE_PCSC, which is more correct.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1466 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2aea8144afa16366a6d40b6a470e39757f7e4066
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 25 15:52:22 2003 +0000

    Fix OpenCT probe issues
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1465 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0077a0876df194e40cabad9f22f5aad53ab42c6c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 25 09:33:16 2003 +0000

    Fix various C compiler warnings and C++ errors / name conflicts
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1463 c6295689-39f2-0310-b995-f0e70906c6a9

commit 687007679f5673af53091f3d5af44ca436b71651
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 24 19:58:29 2003 +0000

    Oops, remove hardcoded bundle creator / type
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1461 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc83f04c909db7b5828dcb0a25804582dad92b9c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 24 10:17:32 2003 +0000

    Remove old ChangeLog, add URL to the new location.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1458 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4717ef265527ff394aaa1f08b630b083565d9c35
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 24 09:20:02 2003 +0000

    TODO update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1456 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38c5f50bcfe494e3b265b4f7c44d1781e44aae2a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 18 09:18:36 2003 +0000

    Remove old patches for OpenSSH 3.6.1p2, anyone interested
    is probably already using version 3.7.1p1.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1454 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88ab75272d6b33d69285a9037cde4c5ce883e1a7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 17 19:03:48 2003 +0000

    Back out previous change, wrong branch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1453 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99cb33d31a0384b4bac39f639d7a38b83d8443d3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 17 18:59:51 2003 +0000

    Set version as 0.8.1.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1449 c6295689-39f2-0310-b995-f0e70906c6a9

commit c221e36eb4a75929182d6a2b634dd0f61f472043
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 17 18:59:38 2003 +0000

    Disable pkcs15-ldap from the 0.8.1 release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1448 c6295689-39f2-0310-b995-f0e70906c6a9

commit 886409a5f6e0789ca84b9759fd11ee55e7584adb
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 17 18:43:45 2003 +0000

    Updates for the 0.8.1 release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1447 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad70497417f02911cfdc4ae720428a73a4f50d56
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 17 16:20:46 2003 +0000

    Use &lt;version> instead of hardcoded version number.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1446 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdc2f67c60618d67c436f91fb5ee5125b0d74fc0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 16 06:36:41 2003 +0000

    Bugfix: return SC_ERROR_OUT_OF_MEMORY if malloc() fails (Kevin Stefanik)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1445 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4e311104963df21998a748198c219c9af81f92f1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Sep 14 10:27:21 2003 +0000

    Fix bootstrap issues with Debian/automake-1.4
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1444 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6857ffa11a4806a98850a083938171f2c199f565
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 12 10:36:23 2003 +0000

    Update PKCS#11 library version to 0.8.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1443 c6295689-39f2-0310-b995-f0e70906c6a9

commit 508b20ada597ff679b0fe801a339a2225866e0e7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 12 06:48:10 2003 +0000

    The previous libsocket/libresolv configure cleanup broke
    LDAP support for at least Solaris. Therefore assume, that
    if we have to use libsocket, probe for libresolv as well
    although OpenSC's internals don't use it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1442 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5eea382eec13c014a672df8079db40504fd6b34
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 11 12:11:52 2003 +0000

    Fix: C_GenerateKeyPair(), C_CreateObject() returned CKR_USER_NOT_LOGGED_IN if lock_login is set to false in the config file, because then the pkcs15_init functions do a logoff internally
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1441 c6295689-39f2-0310-b995-f0e70906c6a9

commit 05a5696041ecf4fd8e72c30f9e0f2dee052bac5f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 11 08:01:06 2003 +0000

    Removed compiler errors under Win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1440 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a36f46a5d914ce86b54ab4ca996a4b9f006f6e7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 11 06:02:43 2003 +0000

    First include <stdio.h>, otherwise the #include <windows.h> turns wchar_t into an (unsigned) short (Unicode)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1439 c6295689-39f2-0310-b995-f0e70906c6a9

commit c69ef430ee33e307eec41a14e49e84583dba2288
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 22:20:26 2003 +0000

    C++ warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1438 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68c885ebe1a22d35fb280a09bc4225a2d5fe5a19
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 14:08:29 2003 +0000

    Added version info to the Win32 binaries, and set the version number to 0.8.0.0 (4 numbers seems to be needed)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1437 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4ea04dfe45cc4cbc035cd5d0782d2af6d1764cf
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 10:42:34 2003 +0000

    Build fix for MacOS X.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1436 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2575116d0c160fddc0993197715e8d2092d685e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 10:41:48 2003 +0000

    Remove extra semicolons
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1435 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c173c4c063a3a8c07d9a2019a2b5ee5a353b9d6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 10:03:24 2003 +0000

    Accidently changed the version number, fixed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1434 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ee103eeda44aa7489c89dcee5272ebddcc06561
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 10 10:02:06 2003 +0000

    Replace overly complex and old configure magic for connect()
    and friends, just check for socket() in libsocket.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1433 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3907c5a7e61644df63b319c1e8c0e6bd15651c4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 9 15:02:23 2003 +0000

    Add cert_support.c for pkcs15-ldap support, old legacy
    code that needs to be removed at some point. Implemented
    against OpenSSL 0.9.6, not much tested against 0.9.7.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1432 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ea97fbb5ef04e8fc657fb11888f4f23c4671a3e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 9 15:00:51 2003 +0000

    Add very preliminary and quick port of an old scam
    code that implements ldap-authentication support,
    needs to be rewritten for more specific OpenSC
    usage some other day.
    
    Work in progress, only tested with FINEID cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1431 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09f2d373b26e4b71f0a9b3b8c04aa0c2b125e7fc
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 9 14:47:37 2003 +0000

    Remove old cruft, enable p15-ldap support (PAM option auth_method=pkcs15-ldap)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1430 c6295689-39f2-0310-b995-f0e70906c6a9

commit e6f3f9bb085432f488c688f256d699453fe6cb89
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 8 13:38:07 2003 +0000

    Increase log buffer size, so that 255 hex bytes still can be logged
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1429 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c37fe2f792454f287b1fb014f00614a0662f039
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 19:18:38 2003 +0000

    Warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1428 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb1dd0fd4d948074bbe851e23071b04f7682f0f9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 18:30:07 2003 +0000

    Preliminary update for the upcoming release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1427 c6295689-39f2-0310-b995-f0e70906c6a9

commit bbc64d01ff535097bd32c5327ae47f4bc3508dbd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 17:56:21 2003 +0000

    Indent sources
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1426 c6295689-39f2-0310-b995-f0e70906c6a9

commit a02ef5e7228ebfc6559fc2167b65aee2de5bb515
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 17:29:41 2003 +0000

    Bunch of generic compiler warning and C++ fixes
    before indenting the sources, apparently OpenSSL
    engines are not under a heavy development anymore.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1425 c6295689-39f2-0310-b995-f0e70906c6a9

commit ba1a685c8ec3b8ff0f3b8fc75f5815d86add22c1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 16:18:15 2003 +0000

    Don't bother exposing sc_pkcs11_module_t and scdl_context_t
    to public headers, use void instead.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1424 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f580598b0bc7506c5937c9e0c53c7f5f7bde86a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 13:36:59 2003 +0000

    Fix: don't print the contents of a NULL pointer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1423 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1decd28185d59c7b4646108c9ff28eaa0d09992c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 13:35:33 2003 +0000

    Typo fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1422 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1941bc79b8729b7b4614a22c6fa12d3531b83741
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 13:13:15 2003 +0000

    Build the pkcs11 spy on Win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1421 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97f78bc65f6db590143ac402575a6d7a9361fa53
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Sep 6 05:57:33 2003 +0000

    Fix: handle the 3rd argument of the Change PIN and Unblock PIN commands correctly
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1420 c6295689-39f2-0310-b995-f0e70906c6a9

commit 842b5cd2f585393d1a293f9343828fa745af0905
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 5 20:16:52 2003 +0000

    Fix: let this card driver do the unblocking itself, don't send it to the iso7816 code (Victor Tarasov)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1419 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5bd87ee0d03b4729651367d884b87b9d6615c582
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Sep 5 07:22:10 2003 +0000

    Warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1418 c6295689-39f2-0310-b995-f0e70906c6a9

commit e66bb1ef165e21df9125249ee6d54ce16c1f206b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 4 16:41:49 2003 +0000

    Remove gcc specific code from usbtoken/openct drivers, untested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1417 c6295689-39f2-0310-b995-f0e70906c6a9

commit 915ddc91ca29eec4b875541bbe6d88957a95a5c5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Sep 4 13:50:30 2003 +0000

    PKCS#11 spy fixes by Mathias Brossard
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1416 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3bd77d0f2b699686363b30b1b977abf533787b3d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 21:53:18 2003 +0000

    Fix make distcheck to work again, weird that it
    stopped working only after the opensc-spy patching.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1415 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03de5ba32f18e8cc830c6cd01063cd2c427faae2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 21:31:14 2003 +0000

    error -> sc_error
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1414 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d7e8a964f03703d0bab7c0928f660caa949544f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 18:55:53 2003 +0000

    - Properly detect CarDOS lifecycle MANUFACTURING and report it as "OTHER"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1413 c6295689-39f2-0310-b995-f0e70906c6a9

commit de2d058617ec955d409f95b47b50775fb5878b1b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 18:21:42 2003 +0000

    Typo fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1412 c6295689-39f2-0310-b995-f0e70906c6a9

commit 597877eb49aff0ff69d3a6c1e70edcf9ce8a4d14
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 18:18:57 2003 +0000

    Move #include <windows.h> to winconfig.h in
    order to minimize win32 specific code sections.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1411 c6295689-39f2-0310-b995-f0e70906c6a9

commit d63e83d4e3900207d6d28ca8d2d975770d44525a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 18:08:54 2003 +0000

    - Linking cleanups for libpkcs11 / opensc-pkcs11
    - Build fixes for PKCS#11 spy module by Mathias,
      so far untested. TODO: C_UnloadModule?
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1410 c6295689-39f2-0310-b995-f0e70906c6a9

commit c0c3c339d7ea2f3a68ae424b59950c686c3ff948
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 17:59:08 2003 +0000

    SC -> OPENSC, old legacy from the libsc days
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1409 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a2a4463b16f95cda29edd32a816e9041711f69b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 17:19:08 2003 +0000

    Add PKCS#11 spy sources by Mathias Brossard <mathias dot brossard AT idealx
    dot com>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1408 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86475ea7c0d28f2e4f55bebfe765dbc39c0e081d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 17:07:15 2003 +0000

    - Remove sslengines/libpkcs11.h, it's almost identical
      to libpkcs11's pkcs11.h.
    - Move default PKCS#11 library defines to pkcs11.h,
      so they can be used by 3rdparty applications as
      well.
    - Minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1407 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5616dba08ea576ab8730ae48edb0fcd544973947
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Sep 3 09:28:55 2003 +0000

    - Stop using unflexible automake conditionals when
      building PC/SC, OpenCT or USBToken support,
      use ifdef's directly in source.
    - Because of above, add HAVE_PCSCLITE for winconfig.h
    - Remove unnecessary includes for log.h, opensc.h and
      errors.h in libopensc sources, they're already taken
      care by internal.h.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1406 c6295689-39f2-0310-b995-f0e70906c6a9

commit 087b9c10772015c136cdab14cd305069ec97d893
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Sep 2 20:44:15 2003 +0000

    Generate minimal Info.plist and PkgInfo for bundles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1405 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c549055a7c284bda4336247bd1aecedb97163f0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 1 08:48:55 2003 +0000

    EUSER: Cut'n'paste error
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1404 c6295689-39f2-0310-b995-f0e70906c6a9

commit bac2b601a95ffa4c3dde883aa204c591b5332500
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 1 08:43:38 2003 +0000

    Move scdl to it's own subdirectory, although it's merely
    for internal purposes only.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1403 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd54ea7a62c6dd4495c3c2d37fdfc64889d85ad1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 29 16:29:52 2003 +0000

    - Move all dynamic loading related code to src/common/scdl.c,
      probably needs some more work.
    
    As a side bonus, we now have a working CT-API support for MacOS X.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1402 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5835e752b51ca16dd4d70f776c481d7722012047
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 29 16:26:59 2003 +0000

    Cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1401 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc42cd3fa786e380cf5f4eaa4de8212ba62e9b72
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 29 12:55:30 2003 +0000

    - added sc_print_path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1400 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8fcab2199b145f49f509386a3e1e72ea9a7eec17
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 29 12:55:17 2003 +0000

    - slightly improved debugging output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1399 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef42ba2010271eea45acd3ddefe0065a78232df8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 29 12:54:45 2003 +0000

    - path cache wasn't cleared on error in flex_select_file
    - slightly better debugging output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1398 c6295689-39f2-0310-b995-f0e70906c6a9

commit d59a1034e98e96dacfc4e66b6167ffd291d6b056
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 28 13:08:57 2003 +0000

    - Cleanups to Makefile.am if / endif mess
    - Don't bother checking OpenSSL engine
      LDFLAGS if no engine detected
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1397 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fd5b30f1a8e7b0bba6ee6adc7a4bf0692252f71
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 28 12:51:33 2003 +0000

    - added missing newline to error msg
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1396 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70c3d91b23dd2ef3781ac44d58a5aa072b94aba2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 28 12:50:51 2003 +0000

    - added missing intialization of apdu struct
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1395 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f7599caaa691037f2df94072de2128af176548a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 27 08:47:09 2003 +0000

    Documentation fixes by Ville Skytt��.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1394 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24b3c22c6ff7a9dfe62b93fa37a97542f9e9de15
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 26 10:55:02 2003 +0000

    Merge with OpenCT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1393 c6295689-39f2-0310-b995-f0e70906c6a9

commit 763fc167047b126c5f19bcfae05c6a9651d133b2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 25 14:21:18 2003 +0000

    Rename libopensc specific error/debug to sc_error/sc_debug
    
    We should have done this ages ago.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1392 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9f8b1f92fa143b367bc5ab0d8922d8d471b8431
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 25 10:21:38 2003 +0000

    Remove old cruft, minor reorganizing changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1391 c6295689-39f2-0310-b995-f0e70906c6a9

commit aefab5110bd5ddf2b3906493b1bce676596937ce
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 25 09:29:42 2003 +0000

    Add fix by Olaf to handle CRLF style text files as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1390 c6295689-39f2-0310-b995-f0e70906c6a9

commit 835db855c6e738d0de54a39d68dc6b00163799af
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 25 09:28:48 2003 +0000

    CRLF->LF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1389 c6295689-39f2-0310-b995-f0e70906c6a9

commit 252e44b532745c3b4cf454581233b176869db751
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 22 13:44:34 2003 +0000

    Allow MacOS X users to disable the use of PC/SC
    using --with-pcsclite=no.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1388 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7468169cc920f73095d8f0caa29a6a6d12101fa9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 22 11:47:09 2003 +0000

    Merge with recent OpenCT changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1387 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c88da0d8136cc11669ac15257d04b7d4416adb3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 21 05:39:51 2003 +0000

    - Do not barf on empty SEQUENCEs if all elements inside are OPTIONAL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1386 c6295689-39f2-0310-b995-f0e70906c6a9

commit 093adc8c89f3dc905dbff609ea34b22df35d2c68
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 20 14:15:02 2003 +0000

    Fix: don't DER-en/decode the data in a pkcs15 object
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1385 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b3db944e064bbc6a5f0b260a9496fb6ec805f01
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 14:54:37 2003 +0000

    - Rename sysdep_timestamp_t to sc_timestamp_t
    - Add missing function prototype for sc_current_time
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1384 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8cf59459005af06571284d705c8bee4fc62952d5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 14:28:47 2003 +0000

    Add common versioning to all libraries
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1383 c6295689-39f2-0310-b995-f0e70906c6a9

commit e6258f80490a9cc77e519716a20dfb2dbfd92e70
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 13:45:37 2003 +0000

    - Install OpenSSL engines as bundles as well
    - Don't bother "renaming" opensc-pkcs11.so
      when installing as bundle.
    - More irrelevant cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1382 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40b747a612d72c0cdcf0893c3c403017927c8a51
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 12:06:35 2003 +0000

    Minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1381 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90cd91c0c58c83dd09fb10741bf0a57192db29f8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 12:05:50 2003 +0000

    Fix for --without-ldap-ssl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1380 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7160d1190cb87560611ea10c2d1f3446a5d1d8c8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 11:15:36 2003 +0000

    Fix OpenSSL engine linking for MacOS X.
    
    Somewhat works on patched OpenSSL 0.9.7b linked again dlcompat.
    Macosx's default openssl (0.9.6) does not include engine support
    and fink's openssl 0.9.7 doesn't include any support for dynamic
    loading, but that's hardly not our problem.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1379 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a4c15749e7fea796191cf61bfc3adf0b5045292
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 18 08:18:38 2003 +0000

    fix for compiling openscd,
    thanks for help to werner koch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1378 c6295689-39f2-0310-b995-f0e70906c6a9

commit 844a25c9f155bdb6a1a5ad9a007595c765d6163a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 15 11:30:19 2003 +0000

    Add ANNOUNCE to distribution tarball
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1376 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f797b33765429636884b403a55f1d202a8e70c0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 15 10:07:10 2003 +0000

    Add macos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1372 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf5b6e8c145f17dbd4431cb28b186344c307e9a6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 15 09:00:26 2003 +0000

    - Updated gnupg statement
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1371 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbffe9c0f2a8b030ec2f944bcc6fe1c59a47fd8a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 14 16:05:00 2003 +0000

    Let's not advertise buggy code.
    Usbtoken is only a fall back solution,
    openct is working far better.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1361 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d2ba9096a49f9f6a6b51c010b07671a834a693c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 14 15:34:18 2003 +0000

    Updates for the upcoming release.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1360 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfc584e3efd893f299624ce99bc8d153eaae23d3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 14 12:45:22 2003 +0000

    - Allow MacOS X build to be able to support simultaneously
      loading of .dylibs, .bundles (native MacOS X) and bundle
      objects (.so) created by GNU libtool, if dlcompat is found.
      Otherwise just support .dylibs and .bundles.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1359 c6295689-39f2-0310-b995-f0e70906c6a9

commit 890d6ee2bce72127fd404739d757e1b09bd06bf0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 14 11:47:17 2003 +0000

    Cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1358 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0aaed9f3cf24b835b38d8a148b29c0ac8aa2460c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 14 11:37:46 2003 +0000

    - Minor cleanups
    - Add preliminary support for MacOS X bundle installation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1357 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3c68e86f04ea2e5281fc9cc3053587fd159d112
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 14 07:13:44 2003 +0000

    Global Platform PIN Encoding: 1. Fix for pin changes: use the real length instead of the max length -- 2. Check for valid pin chars
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1356 c6295689-39f2-0310-b995-f0e70906c6a9

commit 062fcebf0ad353693d0de802a7c470fceecefdbc
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 12 11:44:18 2003 +0000

    - More cleanups
    - Add '-no-cpp-precomp' check for MacOS X
    - Rename --with-ssl-dir to --with-openssl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1355 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a0da5cc31bf5fa570c0b42d343948bd8a6f919c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 12 09:34:26 2003 +0000

    improve configure code for openssl.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1353 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7089ef56e8250ecdd5f47cb5cd6ad8023504fc3b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 11 15:26:02 2003 +0000

    More cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1352 c6295689-39f2-0310-b995-f0e70906c6a9

commit c62171e2cb7468d3ac99f589e0892b2c24cf09e3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 11 14:52:13 2003 +0000

    Rewrite parts of the OpenSSL detection
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1351 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11e38e8d2955560fd697e1a96628f5d11827dc15
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 11 14:39:01 2003 +0000

    - first stab at user_consent handling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1350 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f065e840f4cc958623e4daddcfaf53643f93251
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 11 13:56:07 2003 +0000

    - suppress stupid debug messages for sc_lock/sc_unlock for debug level < 7
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1349 c6295689-39f2-0310-b995-f0e70906c6a9

commit 954325bb8dfbae7b41b1e15785b8d9f29643a4ee
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 11 13:55:16 2003 +0000

    - print user_consent field
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1348 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ff735c71a0555ed464abc5f246986abbe2c0391
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Aug 9 10:42:41 2003 +0000

    stupid bug, set those variables if empty...
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1345 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b6b9ee894c2310dedd8b03338bdd362a69ffc9e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 8 20:46:09 2003 +0000

    - Added announcement
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1344 c6295689-39f2-0310-b995-f0e70906c6a9

commit c74ba58d0b73e326dd352e3ff9dc04e3df8facbf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 8 08:44:38 2003 +0000

    - when asked to sign data, also consider SIGNRECOVER and NONREPUDIATION keys
    - properly interpret return value of get_key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1343 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3589b0e7178d958e60affabe3e61c70703b80ff9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 8 08:41:25 2003 +0000

    "-lcrypt" is always wrong for CRYPTOA,
    and we always need a path to find libcrypto.a.
    So default to /usr.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1342 c6295689-39f2-0310-b995-f0e70906c6a9

commit b33b74c37ea334ed501449ff7a762220ac9c8b46
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 8 08:34:02 2003 +0000

    - cleaned up formatting
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1341 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83f81f29c4bace20ff29f8d372b3ac58fc9f3326
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 7 06:47:20 2003 +0000

    Fix: use of uninitalised variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1340 c6295689-39f2-0310-b995-f0e70906c6a9

commit d0b18fbb4b118688626ec50bb7072e5a1e32e7df
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 6 13:01:07 2003 +0000

    Status update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1339 c6295689-39f2-0310-b995-f0e70906c6a9

commit 085ec59b3e413dfdf622c7b75908478dd3af7001
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 6 12:13:09 2003 +0000

    correct makefile so that the depending libopensc is updated when a new scconf.lib exist (Ivo Pieck)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1338 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8dd292fc4b3af9fd96b91e0ad9018a1257d74a35
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 6 12:01:40 2003 +0000

    Blah, unify the string handling a bit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1337 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55d05ae2227e6df0d7f5c8e9e494a90817abcecb
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 6 11:18:21 2003 +0000

    Removed some unnecessary output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1336 c6295689-39f2-0310-b995-f0e70906c6a9

commit c42a3bfc0f7db6b9b9954ed582c66e0f4edae175
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 6 08:45:57 2003 +0000

    - Fixed a mac specific compiler warning
    - Fixed libdl-specific code to work with Fink's dlcompat package
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1335 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e29c9f599c93c9f7ab84347838939718fda02f8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 6 07:36:38 2003 +0000

    Fixed a typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1334 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce51dac5e944069a5e26205659d8426dbcfe7087
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 19:26:07 2003 +0000

    Fixed the verification, so that it corresponds completely with the signature functions (more specifically: the special cases are provided for SHA-1 and MD5 signatures with the RSA_PKCS1_PADDING mechanism)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1333 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e1dd82f4f973ad0e0b9412becf6702356bc5666
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 17:28:29 2003 +0000

    Remove some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1332 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1d502eb3a294876713fba613c01f91009237e2b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 10:34:34 2003 +0000

    - accept option -T
    - added function skip_unless_card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1331 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67d61672597eb680011ca9956da6f2e1576c325d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 10:34:04 2003 +0000

    - accept option -T
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1330 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce2ed80bfa66f5af94b3886898aaeeb088fc8e58
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 10:12:43 2003 +0000

    Under Windows, flex generates lex_parse_win32.c, because the default lex_parse.c that is in the snapshots and in the releases won't compile on Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1329 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1287ed1c6dd7fc15fb9bac73eaeef26a1a425468
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 09:50:39 2003 +0000

    - doubled file size of PrKDF, PuKDF, CDF etc
    - provided old profile as pkcs15-small.profile for e.g. GPK4K
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1328 c6295689-39f2-0310-b995-f0e70906c6a9

commit 222387d7ef82a3e0a343634d2a73be836d05412e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 09:08:02 2003 +0000

    Added info about SC_ALGORITHM_RSA_HASH_NONE, to comply with the 0.8.0 release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1327 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef1826ce5f15134543944d4972e11cfb63d98f90
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 5 07:09:09 2003 +0000

    Renamed pam_opensc-test to test-pam
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1326 c6295689-39f2-0310-b995-f0e70906c6a9

commit d44719457b33eaadbf454026620cff2c25b6204f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 4 15:11:27 2003 +0000

    Add support for native MacOS X pam header location
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1325 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1091548edada766df9ddd5c20c764df4721aba29
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Aug 1 07:03:16 2003 +0000

    seperator is written to an u8, so it should be a char or u8 anyway.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1324 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a68ba695b538f55f4bf45fe8f79ffb9b00ac5c1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 21:16:15 2003 +0000

    - warn if EF is too small for the amount of data we want to write
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1323 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7fc4ad2db0e84dafcdd4bde549e1c0edf20cd289
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 19:06:43 2003 +0000

    - fixed error message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1322 c6295689-39f2-0310-b995-f0e70906c6a9

commit c23ff8f56e578e923d8594ffc1a33dd9748a5729
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 08:27:35 2003 +0000

    Removed a call for a (not yet) existing driver, which I accidentally added along with another change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1321 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77432ee4381abfcbeade84b998a2e51eff23a418
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 31 08:10:23 2003 +0000

    - indentation fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1320 c6295689-39f2-0310-b995-f0e70906c6a9

commit af50810d0f5b6f626eb1bbd60449c5a6f63c1fb4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 30 14:46:27 2003 +0000

    Fix: if a pkcs11 attribute is requested that valid for that type of object, but that we don't have, then we should return length = 0 instead of returning CKR_ATTRIBUTE_TYPE_INVALID
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1319 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f97eb15b885f15afddcb0d15ab43e38bbd36a14
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 30 12:51:14 2003 +0000

    Add support for probing the correct extra magic needed for
    linking sslengines. Probably not perfect, but it's a start.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1318 c6295689-39f2-0310-b995-f0e70906c6a9

commit 53b5c2b389dc519fccad89139d2a736af99748c2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 30 11:07:25 2003 +0000

    - fixed VERIFY handling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1317 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9f05d11005cc9c8720510f20afd0e1109d020de
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 30 09:50:18 2003 +0000

    Remove CFLAGS_OPENSC, cleanups to INCLUDES handling.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1316 c6295689-39f2-0310-b995-f0e70906c6a9

commit ccc9aca6d2baeda0d51f5b5fd2b49437666cd12a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 29 11:52:49 2003 +0000

    Fix OpenSSL engine detection for cases using --with-ssl-dir.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1315 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2836ff0287a1cd0b63cc3b9ec51f1b1b058966bd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 29 11:50:41 2003 +0000

    Fix for the MacOS X pam module installation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1314 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26b2ebbb774adae96766c0e2639610f31454f6dc
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 29 10:17:55 2003 +0000

    Remove old references to OpenSSL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1313 c6295689-39f2-0310-b995-f0e70906c6a9

commit 886de97b2715f134fdb55bd7e76805f471c9bfce
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 29 10:04:40 2003 +0000

    More consistent indentation for multi-line variables
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1312 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b1a65cd8109ddc287dca5b4b7242399df01a532
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 28 13:19:49 2003 +0000

    Added struct sc_card to process_fci(), just like it's done with the orhter card operations
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1311 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10a9d6ffc45b6bdc33c73b0b22c89e387c0a7f7c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 28 12:17:21 2003 +0000

    Upgrade the version number.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1310 c6295689-39f2-0310-b995-f0e70906c6a9

commit a327d1994a5db8f4cd489def1ed757a5669b591e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 28 12:11:03 2003 +0000

    Minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1309 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ed1b9dfc7dd0d04e6c77de813f692e2ced86af8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 28 11:10:26 2003 +0000

    Fix the pam_opensc-test linking problem for AIX5.1+ and MacOS X
    
    MacOS X doesn't have /usr/include/security so you'll need to
    symlink /usr/include/pam to /usr/include/security yourself
    at the moment.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1308 c6295689-39f2-0310-b995-f0e70906c6a9

commit 40f995994ae72f1ecaf241f5ed5ebe6cafc1ab79
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 28 10:02:23 2003 +0000

    Add support for MacOS X with PC/SC framework using autoconfigure.
    Tested using Panther (WWDC build) + fink. Should work without fink, too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1307 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc7d9bdef36eff7ef5a986a42ddda0dad96064e7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 27 16:51:50 2003 +0000

    Renamed test_engine.s to test_engine.sh
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1306 c6295689-39f2-0310-b995-f0e70906c6a9

commit abc1e8b0002d32a318054bd950b647e687320b9a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 27 16:50:08 2003 +0000

    Fix: allways set pag_flags = SC_ALGORITHM_RSA_HASH_NONE if sc_pkcs15_compute_signature() is called with this flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1305 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7fb4472f4cb3e57d2a6e9654527e004d7822be78
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 27 16:31:33 2003 +0000

    Add a big fat warning not to use usbtoken.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1304 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b1e46329b438d5113c8efbc77336db0f675b805
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 25 09:01:51 2003 +0000

    Build fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1303 c6295689-39f2-0310-b995-f0e70906c6a9

commit 18ebc833f8b1de88386d34680dc5fc2e141d6d26
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 14:27:54 2003 +0000

    Fix: don't give an error if the hash algo is SC_ALGORITHM_RSA_HASH_NONE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1302 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4de1bef042f7fca8703600f835e164a31b4e3b73
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 13:10:53 2003 +0000

    - Build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1301 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4cbd578bc03aa08baaf3f1446264ab615abc9557
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 11:29:08 2003 +0000

    Added test code for Mozilla-like keypair generation and the writing of a certificate
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1300 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a61c4fe97200c6a1ddb2b49623c996860aed611
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 10:00:57 2003 +0000

    - Remove src/assuan, what's the point of having --with-assuan
      if we're including our own version? Besides, opensc-signer
      and openscd both are incomplete versions, I don't know if
      they work at all.
    - Minor cleanups to openscd.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1299 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b091d6694e4497a041b46ce7fe8721a134f4138
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 09:09:35 2003 +0000

    Add missing 'n' for getopt_long
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1298 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ff35eed3dcbf7f96f98fb22fa37d5407e07687a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 08:35:34 2003 +0000

    Little fix in test_verify()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1297 c6295689-39f2-0310-b995-f0e70906c6a9

commit 849d48068ea95f90b90b61fd3a81432bcc83b0dd
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 06:47:54 2003 +0000

    Nils fixes to starcos.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1296 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98ffae14ca46e399c1b1d7df9b003e471dab4f63
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 24 06:46:27 2003 +0000

    Add Nils and J��rn to Authors.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1295 c6295689-39f2-0310-b995-f0e70906c6a9

commit b458deb38b6b17808bd7841641afa2d0c360acb9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 23 18:12:08 2003 +0000

    updated patch. changes:
     - add Nils fix for split keys.
     - changed "ask for pin" code.
    The later is ugly and needs to be changed. however it is
    open how we can do that. Maybe it will require changes in
    openssh, so lets keep it till those issues are solved.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1294 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0da7aaadeede3cece398cbe53e9424ce6eadfe46
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 23 16:11:53 2003 +0000

    Resync with p15_eid changes. No, it still won't work.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1293 c6295689-39f2-0310-b995-f0e70906c6a9

commit d87ec12d0c8bd5c7c7774689a02c66a205a73f16
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 23 15:07:41 2003 +0000

    Remove the rest of old, obsolete SCIDI related crap.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1292 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06d4311e80b32b9aa791fb5c257d730d4b741d04
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 23 14:31:21 2003 +0000

    Made the construct_fci() a card operaton, just like it has been done with process_fci() before
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1291 c6295689-39f2-0310-b995-f0e70906c6a9

commit c34eb2b1472db7abf231632953643ad3163d5246
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 22 15:51:17 2003 +0000

    find the keys by usage (patch by Nils Lars)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1290 c6295689-39f2-0310-b995-f0e70906c6a9

commit c4b6992735bd05051f201bb40edc8b1789651327
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 22 15:50:22 2003 +0000

    clean *.m4 files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1289 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5f0e9c9333410aec1caeb9f1d935b57e3fcebee2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 22 15:13:16 2003 +0000

    somewhat improved profile search.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1288 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23ee0807567cbd78065e542c0749b04a1902fc6d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 22 09:54:20 2003 +0000

    Added test code for the new Verify functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1287 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99c2b883e77a4d167d53dfcb9c507542a435110b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 21 13:03:54 2003 +0000

    add id's to all chapter and section tags.
    add documentation on Eutron CryptoIdendity IT-SEC.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1286 c6295689-39f2-0310-b995-f0e70906c6a9

commit 993abdd4430b211f5acbc492c83bd3942d20a02b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 19 10:52:02 2003 +0000

    set automake option.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1285 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2d09ff9595d31597b1189ed77d62801027d292f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 18 09:34:38 2003 +0000

    Read the file's contents as binary
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1284 c6295689-39f2-0310-b995-f0e70906c6a9

commit cb581484b853e7d615cd97a8fed16e62d324ced3
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 18 09:32:41 2003 +0000

    Read/write the file's contents as binary
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1283 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98f56be49a162ad42edffaa681c381941909e325
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 23:03:16 2003 +0000

    - added sc_pkcs15_compute_signature.3 draft
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1282 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9d050bc5d6b2b0c6145e279e734d6851ff89955
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 23:03:08 2003 +0000

    - fixed typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1281 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01a36a8aed2489d9c8ecee94fd963c453781bcbb
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 22:59:12 2003 +0000

    Added some debugging info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1280 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47489c5567bd6f02368cc6e03c69d6c53fce8e81
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 22:53:48 2003 +0000

    Added some debugging info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1279 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8c5da9ccc8b7f487a83a2da38e683737d2d3b89
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 22:09:18 2003 +0000

    Fix: if a pkcs11 operation fails, it should be ended
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1278 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31819196c4439a4d7e9773b459799218a5bc727d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 16:50:02 2003 +0000

    Don't leave -lpcsclite to LIBS, use LIBPCSC instead.
    We really don't want to directly link -lpcsclite to
    every single library and program.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1277 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c1db1823221db4afcb1ed27d8d993eba1ed1998
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 15:13:37 2003 +0000

    Use $LIBDL instead of hardcoding to -ldl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1276 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dd994fb2c0320f00571b14377983d768315f7a1
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 15:09:01 2003 +0000

    Little fix for Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1275 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ff35cbbba2cbeadc5ad5663b405f039389efd6b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 13:09:59 2003 +0000

    For crying out loud, hands off. There is a fucking
    reason for these files to be removed manually.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1274 c6295689-39f2-0310-b995-f0e70906c6a9

commit d79ed53743f6725ff3226c16994383a1f707600e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 13:07:06 2003 +0000

    Remove the use of AC_FUNC_MALLOC and AC_FUNC_MEMCMP as
    they don't work correctly with autoconf 2.57, we don't
    really need them for anything anyway.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1273 c6295689-39f2-0310-b995-f0e70906c6a9

commit beebb1bc473999deafe11dd26c9b091bede73ff9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 13:05:09 2003 +0000

    Remove C++-style // comments. Yes, I know that they
    are ok in C99 spec, but who says that all compilers
    are already C99 compatible.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1272 c6295689-39f2-0310-b995-f0e70906c6a9

commit 118c7a4dcc7d4791923b917eae9aecb8ce9a6d67
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 12:39:11 2003 +0000

    Resync .cvsignore files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1271 c6295689-39f2-0310-b995-f0e70906c6a9

commit 049246f2346ce74a4ba0b1252347bc455740dd27
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 11:04:25 2003 +0000

    real cleanup via MAINTAINERCLEANFILES. include depcomp in distribution.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1270 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83d17988d7698c4ab47791c5123d76b55a40c7be
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 17 10:59:10 2003 +0000

    The CVS HEAD should always have a version "CVS".
    For stable releases we should create a branch I guess.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1269 c6295689-39f2-0310-b995-f0e70906c6a9

commit 64c62eb0db4ec3f26216c531a1df02b3724d51cd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 16 15:17:57 2003 +0000

    - patch for synthetic p15 cards by Nils Larsch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1268 c6295689-39f2-0310-b995-f0e70906c6a9

commit 665ee522105ce0e5d8af9de6d15822c7e1813a7d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 16 15:10:54 2003 +0000

    rm -f depcomp and friends so that we don't have to use
    -f flag for autoreconf. Fixed an issue noticed after
    upgrading to autoconf 2.52 -> 2.57, automake 1.5 -> 1.7
    and libtool 1.4.2 -> 1.5.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1267 c6295689-39f2-0310-b995-f0e70906c6a9

commit f563ee6a9e4d1b674ed902d79a046dbd83498cae
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 16 11:52:28 2003 +0000

    Moved padding from pkcs15-sec.c to padding.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1266 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34fbb4219ac9ea7f799f21b94f354a7017892cac
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 16 05:20:58 2003 +0000

    Fix of the previous patch: show only 1 public key if both public key and cert exist
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1265 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95e2d8b78ac816568ebb05ce7e9124aa239bb714
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 15 10:49:28 2003 +0000

    - Change padding functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1264 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a05d8340c7f70e5496bf94cb0b729abc8409bd7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 17:39:19 2003 +0000

    Have process_fci() as a card operation instead of being called internally by iso7816_select_file(). This way card drivers can implement a select_file() and process_fci() independently
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1263 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8cf96af9f63ce76a4cc6b50e3745734e3b0f326
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 17:34:50 2003 +0000

    Fix of the previous patch: if there are a public key and cert with the same ID, show the public key derived from the cert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1262 c6295689-39f2-0310-b995-f0e70906c6a9

commit 864f261679fb7abb88ecaab600e34f288e3a080f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 17:28:30 2003 +0000

    Fix: if there was a public key and cert with the same ID, you'd see the public key twice in pkcs11: once the 'real' one and once the one derived from the cert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1261 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29add3c3c9ff852f97500e40e6f4ddcd97d9590e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 16:56:38 2003 +0000

    - added SC_ERROR_WRONG_PADDING
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1260 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82c3efb4bbcdbd099eeb8abeaedd51bd9f48a321
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 16:56:15 2003 +0000

    - added missing error messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1259 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2e40211be2a48c33dc82b3de0c68df4397c57a5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 16:55:54 2003 +0000

    - try to deal with RSA_SIG keys (first try RSA_PURE_SIG, then RSA_SIG)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1258 c6295689-39f2-0310-b995-f0e70906c6a9

commit 901a2d90e393e31455230c8e85c9474f4507a6c4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jul 14 13:20:49 2003 +0000

    Added 'Global Platform' PIN encoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1257 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd20622c96e1c2a13370fa5d3c6deeb64fc71ab2
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 12 17:19:45 2003 +0000

    remove files in "make distclean" instead of "make maintainer-clean"
    to match the distribution tar file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1256 c6295689-39f2-0310-b995-f0e70906c6a9

commit 512fb4469d7d9036ed52e85c1f0e81aee2dbb81c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jul 12 12:58:59 2003 +0000

    - Fixed OpenSSL detection (at least with Debian)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1255 c6295689-39f2-0310-b995-f0e70906c6a9

commit b093146578ad2f6cbc311cd4103c9b1bcc8bccbb
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 20:14:48 2003 +0000

    If C_SetAttributeValue() wants to change the CKA_SUBJECT, simply return OK. This is OK as we don't save the CKA_SUBJECT of a public key anyway, and it's needed for doing keypair gen + cert writing with Mozilla
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1254 c6295689-39f2-0310-b995-f0e70906c6a9

commit c83c8870d164afa8daf9ade9e934c7ecd5783846
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 18:16:12 2003 +0000

    Cleanups, fix --with-common-dir work with OpenSSL engine detection
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1253 c6295689-39f2-0310-b995-f0e70906c6a9

commit cde2543e4e6325912a8e1eac811f0932f33f792a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 16:33:30 2003 +0000

    Forgot this one
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1252 c6295689-39f2-0310-b995-f0e70906c6a9

commit c4d2611d123a47be00c29d8d718ed598a40da870
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 16:31:06 2003 +0000

    - Various build fixes for various operating systems and compilers
    - Add missing .cvsignore files
    - Remove tools/ and make configure to work again
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1251 c6295689-39f2-0310-b995-f0e70906c6a9

commit dbefbade41df2f73d001f683b5fe2e05d3b1c73b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 11:18:39 2003 +0000

    Changed libpkcs11.a to libpkcs11.la (by Ville Skytta)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1250 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b3239c69ad1c4849f88e6b6b3ceb0bd740f8b80
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 11:16:14 2003 +0000

    Fix: use strncasecmp() instead of strnicmp()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1249 c6295689-39f2-0310-b995-f0e70906c6a9

commit df89427bfb764e5f61e2504da03539a0d51ab024
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jul 11 09:40:49 2003 +0000

    Bug fix: let sc_transmit_apdu() returns a negative number or 0 (no positive number)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1248 c6295689-39f2-0310-b995-f0e70906c6a9

commit 473a701c8027a23cae9c3b5a2b1a13b915b8ce02
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 10 22:31:14 2003 +0000

    Forgot to init slot[0].flags to SC_CARD_PRESENT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1247 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4737789ede74fc393ffa5f7f223ae998f3255daa
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 10 11:38:02 2003 +0000

    Implemented the get_response card operation, is now explicitely called by sc_transmit_apdu()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1246 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b988af695661b0d836c020ad47f9584fe9062fb
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 10 11:13:18 2003 +0000

    Fix makefiles.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1245 c6295689-39f2-0310-b995-f0e70906c6a9

commit d94de46a598b2208ef7374305dc25c13b30a67af
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 10 10:44:23 2003 +0000

    remove old text files.
    new documentation is in opensc/docs/opensc.html (and .xml)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1244 c6295689-39f2-0310-b995-f0e70906c6a9

commit aee7119020f694b7bcb35eab2252f7ca73d4109e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jul 10 10:33:22 2003 +0000

    updated configure to newer init calls.
    set automake strictnes to foreign.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1243 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ee983fdbe625f39b15910e13e449371d94b9254
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 2 20:47:40 2003 +0000

    Some of additional documentation.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1242 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17cec0cd064e491cf2b041d2b387aaabf33a8c7b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 2 17:58:28 2003 +0000

    usbtoken is now obsoleted by openct. Update the documentation.
    
    This patch was made possible by the INKA e.V. ISP and the Hoepfner Brewery
    and Beergarden. Thanks for free Internet!
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1241 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44dbbffc70a716a04d4cae822c5581216036e92b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jul 1 17:34:58 2003 +0000

    disable usbtoken by default.
    put usbtokens readers behind openct readers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1240 c6295689-39f2-0310-b995-f0e70906c6a9

commit 694715e85ac55d62e3b63f86a08046c00317ecd5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 30 18:25:34 2003 +0000

    Xander Soldaat <lists@b-yes-d.net> reported this ATR,
    the card works for him "like a charm."
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1239 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3669fa86e7c96b4e4651d7e28acf56c04341253f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 28 07:02:26 2003 +0000

    Increased the pkcs15 ID size from 16 to 255
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1238 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f979cf880cb1b3867c0baf423849dd14df9f196
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 23:01:10 2003 +0000

    attached is patch for card-starcos.c This patch generalizes
    the handling of the driver internal extra data (for example this will
    be usefull to supply the card driver with the necessary information
    to create MF/DF/EF). I also added a workaround for certain
    profiles which require that the pin is only verified once (i.e.
    the state doesn't change after a signature verification).
    And finally I changed the order of some starcos function
    (at first the init/free function and then the rest).
    If nobody has objections it would be nice if someone could
    commit this patch to the CVS.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1237 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b7f2106f21392d2b3ffb277434de0329621e49f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 15:26:17 2003 +0000

    Implemented the C_VerifyXXX() functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1236 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7d92d3127f2dbedc399989d2cab919b5046bebc
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 13:29:51 2003 +0000

    Removed the CKF_WRITE_PROTECTED tokeninfo flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1235 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82c00d806c550f823a635a0ba5c49d1bb1e7b6e7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 12:59:22 2003 +0000

    Placing #include <windows.h> in wincofig.h causes compiler problems, better put it in each file that uses _MAX_PATH
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1234 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cb9a18963fda61c6c0acf466e2b71670e9cfc3c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 12:32:57 2003 +0000

    Some Windows fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1233 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fdecc39c2d44dd58572897c4730ea92c8137d04
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 12:11:19 2003 +0000

    Fix: register CKF_GENERATE_KEY_PAIR in a correct way
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1232 c6295689-39f2-0310-b995-f0e70906c6a9

commit 033e032820a32fa528740b2ca54bcefdea657262
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 12:02:39 2003 +0000

    Added test code for C_SetAttributeValue()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1231 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffadf4770cc47e417a16e0d6983e10aa075a8e0c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 12:00:43 2003 +0000

    Implemented C_SetAttributeValue() that can change the CKA_VALUE and CKA_ID
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1230 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ed3d17ad88880eaca928ec1550b8ac933963999
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 11:59:37 2003 +0000

    Added sc_pkcs15init_change_attrib() that can change the label and ID of a pkcs15 key or cert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1229 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b15d0aac41ae66a9c18ac00bd243569f929a610
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 27 11:32:58 2003 +0000

    Use a better notation for the -key option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1228 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7775154fa6d8ce3de178ae37b4522d59454c841a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 26 16:47:45 2003 +0000

    run tidy on html files (ignore if it is not available).
    tidy html files, so they are readable.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1227 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfaacaf52a0b865372408d750022f8e20ac6cb5c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 26 10:38:35 2003 +0000

    ssl engine update (key format), pkcs11.txt integrated.
    both done by stef, I'm only commiting (and updateing the html file).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1226 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1261a6c2e3d2db1dee4a79fba30bc38b6c78669
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 25 20:20:32 2003 +0000

    xml/html based documentation.
    This can replace:
    
    README
    README.Win32
    README.cards
    README.signer
    THANKS
    TODO
    AUTHORS
    src/openssh/README
    src/pkcs11/README
    src/pam/README
    src/sslengines/README
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1225 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dc226d05f8910058c1362028f51d08e415027aa
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 25 10:57:41 2003 +0000

    Added a little extra logging to C_GenerateKeyPair()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1224 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59da343eeafe90dd0b6f2ea4df3f952d00eb85fa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 25 10:19:08 2003 +0000

    PATH_MAX is defined via limits.h (I hope that exists on all
    systems). MAX_PATH is a typo. int r was never used.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1223 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7fcb2be88d6364fcf5447591dd280a696c4db32
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 25 08:42:37 2003 +0000

    make live easier for other developers:
    html file is now also in the repository, and I will update
    always both at the same time. So not even developers will
    need docbook dtd + xsl + xsltproc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1222 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2141d58230c2352f249deaab9380ddbf95a31ac5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 24 22:29:26 2003 +0000

    removed pkcs15-init.sh reference
    (oops, when did that creep in? shouldn't be.)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1221 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09650d29a30aa8c8361f78a00a3fd73af871759b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 24 11:31:02 2003 +0000

    Changed SC_PKCS15_MAX_PINS to MAX_OBJECTS in pkcs15_create_tokens()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1220 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11660330f42c1ad1486c5ab19add05831e74cabe
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 24 11:26:17 2003 +0000

    Added a safer locking mechanism, based on sc_lock/sc_unlock (Olaf)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1219 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8724bea785524be89407ce63f68a7244db52d3e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 24 11:11:49 2003 +0000

    In slot_initialize(): Bugfix in a memset and added a pool_initialize()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1218 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fb623d537f9844afea2ee32ec19f4ec48454341
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 24 09:14:57 2003 +0000

    Some fixes/improvements, e.g. an ID now has to be entered in the same way as in pkcs15-init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1217 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24b517cda5a7963f260588f813bb159bd03dc40e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 24 09:11:01 2003 +0000

    Added support for selecting keys by slot and by key ID; and added newlines to some error messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1216 c6295689-39f2-0310-b995-f0e70906c6a9

commit 127f94ad3773941c89945e9988ce9f92e63a3538
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 23 12:56:36 2003 +0000

    - added pinpad support for OpenCT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1215 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c50c4d4e01290df6bd59218c56b040b0294e088
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 18 20:49:20 2003 +0000

    Some improvements to gen_keypair() and write_object()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1214 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb4bdd529dce4dd3306b249911587736f2f23a40
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 18 12:38:27 2003 +0000

    Let sc_profile_locate() behave about the same way under Win32 than under Linux
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1213 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97da0b6149df3393aa27c21bba4a4ba0f24f59c2
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 18 08:07:12 2003 +0000

    Now you can specify your card profile for pkcs15init, both on the command line if you use the pkcs15init tool and in the opensc.conf file. Not specifying gives the default one, like before.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1212 c6295689-39f2-0310-b995-f0e70906c6a9

commit 79a5456b24d553a7808782686f21038f86e67126
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 17 11:31:48 2003 +0000

    Changed strcat to strncat
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1211 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70b17b36e535d33267519d1213729de984df19ac
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 16 09:45:23 2003 +0000

    The code now asks for the passphrase.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1210 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6cc4820d5f1c271fc52bcac6082578244c5e0f88
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 16 07:40:43 2003 +0000

    - when loading a profile, check all variations of <profile>.conf before <profile> itself
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1209 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98d12f121055dd6169f965c72f8c96c64ab23af4
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 22:22:31 2003 +0000

    added makefile so regression files will be included in tarball.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1208 c6295689-39f2-0310-b995-f0e70906c6a9

commit b511ae284dc099f98601b458233d3a0293bb2bc7
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 22:21:37 2003 +0000

    current patch for openssh. does not work.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1207 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2aaa70cadfcd1458641d91b1a0e0aff2cba6fb3
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 22:20:21 2003 +0000

    makefile fixes, so the tarball will contain all files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1206 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf527eb70b4af61ac847e1ee94ef8cb771001e22
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 22:19:41 2003 +0000

    Doesn't work, but added current openssh patch anyway.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1205 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7021fcb5a56289da0442a2aa5263534627c038f3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 12:56:07 2003 +0000

    - iso7816_logout now invalidates the path cache
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1204 c6295689-39f2-0310-b995-f0e70906c6a9

commit afe999d3ece4b022285c1ec6d8dc7d6f1d295fb4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 11:56:10 2003 +0000

    A small fix in OpenCT detection.
    Bumped the version number up to 0.8.0-rc2.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1203 c6295689-39f2-0310-b995-f0e70906c6a9

commit d7640a432e1a153dfd77f0636814914f2e3dd194
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 11:55:19 2003 +0000

    - put HAVE_DOCBOOK conditional around %.html rule
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1202 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fd1ceefb52edd63d9b46b1956ea31f1e750fd5a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 15 11:54:40 2003 +0000

    - added --without docbook
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1201 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b85e180d7853cbc72a113c753763b75dc81b874
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 14 12:31:30 2003 +0000

    Add AuthID for pkcs15 data objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1200 c6295689-39f2-0310-b995-f0e70906c6a9

commit c0b8b08e9c3a4836e0ad4c58075604d7fe53ce34
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 13 12:45:11 2003 +0000

    Also compile the sslengines dir under Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1199 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd3eab81e41f3b45ddfa34e3a5962e72ff900ee3
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 13 06:51:26 2003 +0000

    Added #include <openssl/rsa.h>, this is needed for openssl 0.9.8 and higher where openssl/evp.h wont include the algorithms anymore (Nils)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1198 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d2a15c29b09f8109eaf0ef99a6b774dc7fbd4ca
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 12 21:35:20 2003 +0000

    Added support for a new cryptoflex profile, where the user (CHV1) is in charge of the pkcs15 DF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1197 c6295689-39f2-0310-b995-f0e70906c6a9

commit 694a649ab80f09d338949e45c2a0ac6255910f1d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 12 21:23:01 2003 +0000

    Add the AuthID when writing pkcs15 data objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1196 c6295689-39f2-0310-b995-f0e70906c6a9

commit aecd987286911385b11a6c8e22a53582716d0dda
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 12 21:14:04 2003 +0000

    Add support for non-optional ASN.1 object that are empty
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1195 c6295689-39f2-0310-b995-f0e70906c6a9

commit de20691dd482e1c3bf5708bf97719ecbf5f8a411
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 11 11:03:40 2003 +0000

    Added some info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1194 c6295689-39f2-0310-b995-f0e70906c6a9

commit d86e7fbd522bb1416dfb66a0bb1dbe2aac24894d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 11 10:56:18 2003 +0000

    - starcos fixes from Nils
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1193 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cfd6319bfc80923f0fb00b2d6a523e70fac388e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 11 10:56:04 2003 +0000

    - New public function sc_add_padding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1192 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c4e6ef581fa4c6330dfa10f592e82d8518482d4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 11 10:54:02 2003 +0000

    - another fix for --without-openct
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1191 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20ac705c0739927bacd6bd4f4acf122386fa98ce
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 11 10:53:19 2003 +0000

    - dont fail if we dont have xsltproc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1190 c6295689-39f2-0310-b995-f0e70906c6a9

commit da8a49569c8f5cd2bbcd818fdd4163045ba4c016
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 10 16:45:38 2003 +0000

    added flex_so.profile,
    moved list of all profiles to PROFILE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1189 c6295689-39f2-0310-b995-f0e70906c6a9

commit df9d7a6484c97fe844df57e854178f6cb1c6716a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 10 12:54:39 2003 +0000

    makefile fix by Robert Bihlmeyer:
    include usbtoken.html in distribution tarball.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1188 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51100d16f1c2a9c5988ed7cd7c7d3585441bf6ed
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 10 06:32:31 2003 +0000

    - prevent excessive calls to logout
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1187 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6575a4adbf0b80a02c74e64228fdd6c91b665a2f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 10 06:31:48 2003 +0000

    - iso7816_logout should call driver specific select_file function, not the iso7816 generic version
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1186 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2871cd82692294113422f1872f01efcc96e3743f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jun 7 07:17:26 2003 +0000

    Add support for a new cryptoflex profile in which the SO (CHV1) is in charge of the pkcs15 DF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1185 c6295689-39f2-0310-b995-f0e70906c6a9

commit c85913c5c7072e3c9b65e85797719b4f56c4d2e2
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 4 19:17:51 2003 +0000

    Fix in pkcs15_gen_keypair(): labels didnt work
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1184 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5716f100cc5f51e85bcacc5f2a32129b68f38a47
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 4 18:37:52 2003 +0000

    Fixed a type in previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1183 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20053af948392324ac885997719f6b1446a5210d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 4 12:30:02 2003 +0000

    A first implementation of write_object(), mostly for testing purposes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1182 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe3cb3de3fcf12dd3303b662ebc9eef220d4f16b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 4 12:26:06 2003 +0000

    some fixes to pkcs15_create_object() and pkcs15_gen_keypair()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1181 c6295689-39f2-0310-b995-f0e70906c6a9

commit e3262c5fcd6d6c09ff30bf7ff04b4e89970e3339
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 4 12:24:19 2003 +0000

    added a check for CKA_CERTIFICATE_TYPE to attr_extract()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1180 c6295689-39f2-0310-b995-f0e70906c6a9

commit c8c2cf725b929d4e7d64d3f95ff54a8f7f6ad298
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 3 13:57:52 2003 +0000

    First implementation of C_GenerateKeyPair()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1179 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7fe0ba8749a81989d0c8663bd8e36e7d32628f7e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 30 09:54:14 2003 +0000

    - fixed typodef in sc_pkcs15_*_info_t (spotted by Nils)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1178 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6027179e79814db6730606698601f53f8f7b6c0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 30 09:45:26 2003 +0000

    Compiler warning (result of malloc not casted)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1177 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2abc5040517ab1e9bd950dda6a8f36e3637e2170
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 30 08:54:42 2003 +0000

    - remove signedness warnings printed by new gcc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1176 c6295689-39f2-0310-b995-f0e70906c6a9

commit 81f2b7fe7d78761be9565aafcf6d61aa17a2c7b1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 30 08:33:19 2003 +0000

    - added --name option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1175 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b5e98e56a75102117cc665cafadb4743954df3b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 20:52:46 2003 +0000

    - added function skip_if_card to allow tests to be skipped for certain cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1174 c6295689-39f2-0310-b995-f0e70906c6a9

commit 48a61e95c0bbe4ee0b1bfa18dd959db91c938f81
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 20:52:33 2003 +0000

    - added card name to struct sc_card to allow upper level apps to identify
      card type more precisely
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1173 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3791a686afeba35580268da8135ad91a26d4abb0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 18:05:18 2003 +0000

    - added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1172 c6295689-39f2-0310-b995-f0e70906c6a9

commit 580b9c45a66359a471d7c25719828f65c9509e5c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 13:36:55 2003 +0000

    - specify user pin when erasing card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1171 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59b07de3d42f99b812ff6cd2cad01d01f84300bc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 13:36:25 2003 +0000

    - better handling of failures
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1170 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b5e8d2ba3725b8a6bb2e753c1d6138bc64c6205
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 08:30:03 2003 +0000

    - allow specifying the list of tests to be run on the command line
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1169 c6295689-39f2-0310-b995-f0e70906c6a9

commit e76a0dd60bca60d5d870d0d9b1f6d2f9670115f0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 05:25:10 2003 +0000

    - fixed crypt* tests to work with cryptoflex
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1168 c6295689-39f2-0310-b995-f0e70906c6a9

commit afe01d753276ce19bbd1b2e525aa6ac47827e146
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 28 05:24:40 2003 +0000

    - added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1167 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f421d23b9f368f480358047113f348a70213894
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 27 15:58:03 2003 +0000

    moved main() function into it's own file,
    killed duplicate compiling,
    made older autoconf/make/libtool happy.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1166 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d6227ec64b66b93a1411223fd6b996326a6f923
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 27 09:58:39 2003 +0000

    - return value of pkcs15_login was ignored
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1165 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf718b675f404e3bfb914357e98b783ccce90c1c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 26 09:30:48 2003 +0000

    move autoconf helper files to tools/ subdirectory.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1164 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9da55fc26253d6df39749d78e51464fe8714ceb5
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 24 19:31:12 2003 +0000

    configure now accepts a path with --with-openct,
    and that directory is searched, and variables
    OPENCT_CFLAGS, LIBS, LDFLAGS are set (and used in src/libopensc/Makefile).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1163 c6295689-39f2-0310-b995-f0e70906c6a9

commit 890e8a75a611e84f6156a982a9447b9a52e0892a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 23 10:10:45 2003 +0000

    - erase card using --secret
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1162 c6295689-39f2-0310-b995-f0e70906c6a9

commit cce7ef1b81ba9d1199f7cb39f77afff7f7f7ae21
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 23 10:05:54 2003 +0000

    - fixed pin handling in generate key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1161 c6295689-39f2-0310-b995-f0e70906c6a9

commit 484fca5308ce592216fce4e0378cc1350a53f033
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 23 10:05:12 2003 +0000

    - in pin_cmd, dont assume the caller has properly initialized max_length and encoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1160 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24107c26f8a913c100a9a5cf49731a6502a26b31
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 21:04:31 2003 +0000

    - fixed cryptoflex keygen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1159 c6295689-39f2-0310-b995-f0e70906c6a9

commit 795915e1463f6d94bf0ad23326c90f52425a347f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 20:53:15 2003 +0000

    - added cryptoflex RSA key generation (not yet functional)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1158 c6295689-39f2-0310-b995-f0e70906c6a9

commit e6864b5897f5d9e9dd58d8db0bdb261af479a5a6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 20:51:45 2003 +0000

    - less verbose debug messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1157 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4d1147224167c103b3a41539473b6298134c990
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 19:34:45 2003 +0000

    - change debug level for sc_lock/unlock
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1156 c6295689-39f2-0310-b995-f0e70906c6a9

commit 296a9cc54b4100fe4b474fa2ff75e74d588017b7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 22 13:59:25 2003 +0000

    - fixed the hang with logout()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1155 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4873e125d121410f26f774a80ad4ccc506fa4b3d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 20 10:53:41 2003 +0000

    libtool.m4 is not required, and a version too old causes problems anyway.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1154 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc31b65a88fe5ed8cc5bed3ed7956db4bebcb497
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 20 08:30:46 2003 +0000

    added sc_logout() functionality
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1153 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6d6a1f628a986afa43b57a1fe785353ac9153e2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 18 10:08:26 2003 +0000

    - added option --secret
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1152 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e30e87cbd286aeaa472193c4097b8b75635ba4c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 18 10:05:14 2003 +0000

    - do_get_any_verify_pin: try to look up p15 pin info from card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1151 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a91780f7b936a8a8956d4b6ede48cac41f96040
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 17 13:30:09 2003 +0000

    replaced it with a newer version.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1150 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4bfc94caed23db5572269ecddaaec6eb1edd896b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 17 10:55:23 2003 +0000

    always create and use a pin.
    removed --split-key, cardOS users have to specify it.
    three new tests.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1149 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43931de9930e2cc52077c07df3a9ef9e16644870
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 17 10:54:27 2003 +0000

    Added --pin option to pkcs15-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1148 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31c95778dd51ac4ce8159c4567cad4e2ad81aee8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 17 09:18:38 2003 +0000

    - Disable colors for now
    - use --assert-pristine to ensure card is pristine
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1147 c6295689-39f2-0310-b995-f0e70906c6a9

commit a496e8e42be0484ea15353ae5c21fcf5594a0e10
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat May 17 09:10:32 2003 +0000

    - added sc_pkcs15init_set_secret
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1146 c6295689-39f2-0310-b995-f0e70906c6a9

commit 705103d4d85a12ebe4d732214a3287f230440eb9
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 22:08:41 2003 +0000

    fix include paths.
    include files are supposed to be in opensc/ and opensc/rsaref/.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1145 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0070307a04240046c100e8dd7fbd496d30bd1271
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 19:12:54 2003 +0000

    - redid option handling (you can now call it with -ECPa 01 -G rsa/1024 - except
      there's a little bug that prevents this from working properly)
    - implemented --assert-pristine
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1144 c6295689-39f2-0310-b995-f0e70906c6a9

commit da8dfa9e6679f5806f403fcec339de4bd3585dcc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 19:11:38 2003 +0000

    - fix for previous change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1143 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35a12ea8680d9929505efed929daa52e8941fed9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 16:41:53 2003 +0000

    - print_usage_and_die: skip hidden options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1142 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0d3948ed427b8971ac4814665d9be791475aa212
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 16:33:42 2003 +0000

    - in test_signature: check CKA_SIGN before doing any signature tests
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1141 c6295689-39f2-0310-b995-f0e70906c6a9

commit f75ffc57d9776776dbec9cf0aeb18992dc4a2128
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 15:30:42 2003 +0000

    egate cryptoflex 32 card can generate key. updated the flags.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1140 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54f12273ed517395f81007a8cf5091f795ccdf63
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 14:25:13 2003 +0000

    - display LIST_FILES and CRYPTO ACs as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1139 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4104cb19d56c10ae3da560261997f80e651e1491
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 14:24:50 2003 +0000

    - minor fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1138 c6295689-39f2-0310-b995-f0e70906c6a9

commit aeb84dadbc31058012a8be4995adadb12766cb4a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 14:16:15 2003 +0000

    - make sure CREATE/DELETE are protected
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1137 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67747f45e157d8311c7234530284485810e7e7ff
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 14:15:36 2003 +0000

    - select file: do not interpret INVALIDATE/REHAB AC bits for DFs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1136 c6295689-39f2-0310-b995-f0e70906c6a9

commit f41586b731aab6198e79dd476178a0eebefa209d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 09:51:59 2003 +0000

    - added some color
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1135 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3bc3b4f6d59e287438bd718fc065b92133071fe6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 09:34:09 2003 +0000

    - bump the CDF size, as we now put the subject name in the label
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1134 c6295689-39f2-0310-b995-f0e70906c6a9

commit 684ceef2cf7c3f1be4e30706a9e3ecf496e9f953
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 09:27:38 2003 +0000

    - added pkcs15-init pkcs12 test case
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1133 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5713d2f1fc90b7ef796ede0e056ee4cce53378b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 09:14:10 2003 +0000

    - updated test scripts
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1132 c6295689-39f2-0310-b995-f0e70906c6a9

commit d34eb0e3b5d120b947c08fa89d19dc9c95705a78
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 16 07:42:26 2003 +0000

    - test set didnt abort if p15_validate failed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1131 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30c094395aeea1cfc20b4c0a25dd8107ef809fd3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 15:42:45 2003 +0000

    - it seems the upper limit for r/w binary is 244
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1130 c6295689-39f2-0310-b995-f0e70906c6a9

commit e396ff5c95a8c8566da52d788f8422ad912bb664
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 15:30:34 2003 +0000

    - more tests
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1129 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa123c4b75ce862aad1b9689658ee0b3bc60893f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 15:29:42 2003 +0000

    - Allow "pkcs1-init --erase" without further options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1128 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e673aead6e4b5d0d6a24dbb8eaeaa35c6034a43
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 15:28:35 2003 +0000

    - Do not try to C_Login if the token doesn't require a login
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1127 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f29e7543e248124aea6fc3f1fc5d86bda4661d5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 15:27:33 2003 +0000

    - allow full access to keys not protected by a PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1126 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4356c7d9c981a9499ee62310fb1bf93fe0736a06
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 15:26:29 2003 +0000

    - increase size of PrKDF, so that we have room for 2x2 split keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1125 c6295689-39f2-0310-b995-f0e70906c6a9

commit 383f1b13a12afd23feb64e005f387402e3b2de08
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 13:33:31 2003 +0000

    - added --no-prompt
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1124 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c7e571c89539e2083f2eada475d342968884ab3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 13:33:04 2003 +0000

    - erase card fixes: forget cached secrets, and use sc_free_apps
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1123 c6295689-39f2-0310-b995-f0e70906c6a9

commit b68cb1e0b3e6613820dfa9dbb1c4b4ba856abd57
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 13:32:17 2003 +0000

    - added sc_free_apps to undo sc_enum_apps
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1122 c6295689-39f2-0310-b995-f0e70906c6a9

commit e85ebc6a9d986956dff931825968a6f1379e69bf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:41:43 2003 +0000

    - fixed card_ctl error message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1121 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99c1bf0da30a1502a4688c7fb4ab75d309ca3118
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:39:02 2003 +0000

    - keygen: when --split-key is given, try hardware keygen if usage permits
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1120 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8fddbdb3b6030ff7a3efa9c69c01f97e9401c617
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:33:28 2003 +0000

    - improved test cases slightly
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1119 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf5c0fb3a8d5689719eada4c6a1b8aaf47440ca0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:32:21 2003 +0000

    - added --slot-label option to find slot by label
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1118 c6295689-39f2-0310-b995-f0e70906c6a9

commit 992fb077d9c93c5ab19512ab181b4bd716ee214b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:31:46 2003 +0000

    - get_pin_callback takes an additional label argument
    - add split key support to key generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1117 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b34c2ecf7b11ce70efd8f6adcf134db2bfd0ad7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:30:46 2003 +0000

    - get_pin callback now takes additional label argument
    - call get_pin for ALL pins, not just those listed in the profile
    - add split key support to sc_pkcs15init_generate_key
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1116 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3d81aa980a311bd10d493b51d5d4ea9940ba3c7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:29:29 2003 +0000

    - etoken_erase don't assume PIN 0 is always the SO PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1115 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27e105540e01f50db4f6e7f3ea6197561b52f964
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 11:27:38 2003 +0000

    - added sc_pkcs15_find_pin_by_reference
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1114 c6295689-39f2-0310-b995-f0e70906c6a9

commit 053b10e2bf0b343358a8e54f4cb3904131e23b6c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 15 10:34:03 2003 +0000

    If signing/decryption fails because the card lost its security status, try to log in again and then do another attempt to sign/decrypt
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1113 c6295689-39f2-0310-b995-f0e70906c6a9

commit 059d37757d08998af8e58cffad4b03b7b87de8bc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 19:13:40 2003 +0000

    - dont say all tests were successful when we failed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1112 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4be5cbd6c899e11d6590996f5a79bbf0f3dde1a3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 19:13:13 2003 +0000

    - show output of pkcs15-init commands
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1111 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a3992a4db5b20fee3217ba70d661d022502a6d8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 16:29:47 2003 +0000

    - bumped buffer sizes for EF(TokenInfo) labels
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1110 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77b22f1626405d02be1389d554412ef0cbeecc09
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 16:22:14 2003 +0000

    - minor usability updates
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1109 c6295689-39f2-0310-b995-f0e70906c6a9

commit 209681d43e4fe5bc82a2d7862226dbe405660aa5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 16:21:02 2003 +0000

    - some tests for pkcs15-init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1108 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6aeb544fd96548f3b81d7c40c6453a139dd43836
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 13:13:38 2003 +0000

    Ported to Win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1107 c6295689-39f2-0310-b995-f0e70906c6a9

commit 877423b7ec6bd9b1ce14d19c883f3188a1ae4d53
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 12:25:13 2003 +0000

    - restrict max read/write size to 128
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1106 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ed0c2f5b10be541f0a9a1df2b742b14456b548e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 12:00:57 2003 +0000

    - do not mess with Case 4 APDUs unless we're doing T=0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1105 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c198d7b959c8bf006353d22e17116891384decf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 14 08:47:04 2003 +0000

    Some typos fixed and fixed the algos for use in OpenSSH (Nils Larsch)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1104 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41a9e6ff2f1420a69d7e41953182c1e93795287b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 13 20:24:24 2003 +0000

    - sc_pkcs15_compute_signature(RSA_RAW): zero pad input if shorter than modulus length
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1103 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1bfe075ccd5ade5c299dd7fc91d852c2610a0a3f
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 13 14:29:59 2003 +0000

    OpenSC header files are included as
    	#include <opensc/opensc.h>
    Thus it has to be -I/path/to/opensc/include
    and not -I/path/to/opensc/include/opensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1102 c6295689-39f2-0310-b995-f0e70906c6a9

commit d416f2fe485b326eae72506d338039a1b9a8cf43
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 13 14:06:25 2003 +0000

    added #include <string.h>
    killing warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1101 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7cbe523cc4465c4a59940317bd0bdf985484ef42
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 13 13:43:09 2003 +0000

    At least the rainbow ikey 3000 need bigger labels.
    Label size should be 255, as per pkcs15.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1100 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fae230794d5ab22b48ccc2b69a51c42845f6125
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 13 07:06:29 2003 +0000

    Make sc_pkcs15_read_file() work if the pkcs15 files contain only FIDs instead of file paths (Nils Larsch)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1099 c6295689-39f2-0310-b995-f0e70906c6a9

commit 167dea46de42c6ab666569b2240c36b5bd8e716c
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 12 20:37:07 2003 +0000

    libpkcs11.h was missing from EXTRA_DIST
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1098 c6295689-39f2-0310-b995-f0e70906c6a9

commit 496232d9b96bbf65c2c5fd8d3bcb2067cfa24e10
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 12 20:21:08 2003 +0000

    new sslengines implementation with pkcs11 and opensc backend.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1097 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1e4c88aec98cd10dfe6e649728e8a4f49984a16
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 12 20:18:31 2003 +0000

    Add sslengines.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1096 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20fa07c022b454b40fc2168ba7ec5df1cc81c79f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 12 11:51:22 2003 +0000

    Added decryption functionality
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1095 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55e8c31b1297a0a398e4005a0b3735132cfc5c09
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 11 07:22:27 2003 +0000

    Fixed: support for X.509 V1 certs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1094 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9e7db89c715c4c193aac3691f92577f0417a334
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 8 10:42:36 2003 +0000

    Fix of the previous Win32 patch related to the assumed absence of OPENSSL_cleanse(): this function does is present on OpenSSL 0.9.7 but not on the beta4 version
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1093 c6295689-39f2-0310-b995-f0e70906c6a9

commit c79e42d82e691410afdc63cbf80070ee638c5531
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 8 07:54:30 2003 +0000

    Added support for Mac bundles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1092 c6295689-39f2-0310-b995-f0e70906c6a9

commit c4e49486b9dbee7c5460eda4804da131e8a3b94b
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 15:12:02 2003 +0000

    oops, didn't remove reference to sslrandom.c. fixed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1091 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99d3289ecd2ea681f8018c80e60bca4cb1a96e32
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 15:03:02 2003 +0000

    this should fix the libscrandom issue:
    the obvious solution is to create libscrandom.la (not .a)
    and link with ../scrandom/libscrandom.la (not -lscrandom).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1090 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67530577b18166d8ba73dd33d398181cbfc7b15e
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 15:01:18 2003 +0000

     - added a "nofork" parameter
     - changed the initialization order to fix a race condition
    	where the first usbtoken uses the id 1 and not 0
     - fixed a bug where all tokens always used id 0. now several
    	tokens work at the same time.
     - fixed a bug: pid files were empty.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1089 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd81cea09322cc72c216a5e80ceb086d5c813192
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 15:00:34 2003 +0000

     - indent (maybe not such a good idea?)
     - improved some error messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1088 c6295689-39f2-0310-b995-f0e70906c6a9

commit a58e5e5d1991fe360d3b89cb84ca4ab7c044fb77
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 14:57:44 2003 +0000

    improved "get" function:
     - path is now by default like 3F00_5015_5031 instead of "3F00"
     - the final message shows not only number of bytes but also the filename.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1087 c6295689-39f2-0310-b995-f0e70906c6a9

commit 782f5d39e66ec04d04dcc12ea0ebd3f7d2a5d292
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 14:33:02 2003 +0000

    Fix for Win32 where there's no OPENSSL_cleanse()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1086 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc6e5f856a9ffab8a1f6d8cf069a416d7ec7bf1d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 13:38:05 2003 +0000

    Little update on how to add OpenSSL support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1085 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67dd35f435146e3c8a5843d8bf706f818ea78a22
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri May 2 08:01:23 2003 +0000

    Added info about the pkcs11 lib
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1084 c6295689-39f2-0310-b995-f0e70906c6a9

commit 683b946c5202e74778a384166491773782b6bc1a
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 1 14:09:11 2003 +0000

    Patch by Robert Bihlmeyer:
     - remove liscrandom
     - use scrandom.c directly (list as part of the SOURCES)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1083 c6295689-39f2-0310-b995-f0e70906c6a9

commit e437a38c9875cb7961b45952d5880decb59bb41c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 30 12:24:40 2003 +0000

    Dont give errors with -t option if the private key doesnt support key unwrap
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1082 c6295689-39f2-0310-b995-f0e70906c6a9

commit a70954d2c2e7473c6189032f557f187e96c2259f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 29 11:37:11 2003 +0000

    - Yet another test commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1081 c6295689-39f2-0310-b995-f0e70906c6a9

commit dcf4a948478a097c0b4805293362a6fa14fabbcf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 29 11:10:06 2003 +0000

    Build libscrandom in both .a and .so versions (by R. Bihlmeyer)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1080 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9213f6c5ccc0f44155470959d5f444b029fbdfc5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 29 09:27:36 2003 +0000

    Removed some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1079 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0d4f0670398aa05838999bd674b0d1b3a6d9c05
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 16:34:38 2003 +0000

    - Renamed card->chopsize to max_le, which is more descriptive
    - Changed a few checks to asserts
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1078 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6e7fa3af9888d8e288283976cfab5795c0bbe70
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 16:29:57 2003 +0000

    Nils fixed asn1 code to detect two byte "file name" versus
    longer real paths.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1077 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5bed52c763de0af640929f3ffac7740c5c6572d
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 16:29:13 2003 +0000

    Comment fixed by Nils: should be 0x80 or 128, but not "80 bytes".
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1076 c6295689-39f2-0310-b995-f0e70906c6a9

commit f417883e154f6484e098951d6ed5a7e39e7a28dd
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 28 09:55:36 2003 +0000

    Avoid an Assertion Failed (ctx!=NULL) in log.c if sc_establish_context() fails in C_Initialize()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1075 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6efa1e9a1d095407e04923e43222acbaaf142b6
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 27 19:08:23 2003 +0000

    create card->chopsize, init it with SC_APDU_CHOP_SIZE,
    allow cards to change that value, and add code to
    starcos_init to set chopsize to 80.
    
    chopsize is used with read_binary and friends to chop
    the data into small requests, read/write them, and reassemble.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1074 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c121b1430640d5591af2d6c3287b74801c2f942
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 27 15:05:03 2003 +0000

    Only look at first byte for end of data detection.
    That way not only 0,0 and ff,ff is recognized
    and 0,ff,ff,ff... will not cause trouble.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1073 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07668a30ff27cb34f89941515237d2fd8a328c58
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 25 10:03:09 2003 +0000

    Nils Larsch:
    
    here is a patch to remove a bug in card-starcos.c and two warnings:
    
    card-starcos.c: fix apdu.le value
    pkcs15-pin.c: remove unused labels => avoid compiler warnings
    pkcs11-tool.c : remove memory leak (a RSA_free() was missing)
    	and simplify code (+ remove warning).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1072 c6295689-39f2-0310-b995-f0e70906c6a9

commit fecf9f5e15c024fb168e3ae15ec29ca467fcaed9
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 25 07:51:05 2003 +0000

    Allow empty key file paths in compute_signature and decipher
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1071 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2698dc6cec32120758de1b2a79da68d6bceecce9
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 24 07:03:48 2003 +0000

    Have a compile option to enable PTHREAD locking at the pkcs11 level
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1070 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8ef40512b478d2ad3d4fae03a12de05b9601050
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 23 11:46:07 2003 +0000

    Extended caching for single-user Windows OSes (Win98)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1069 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54aaf365a1b0c5bb115b6569c0d4356d24dd3c01
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 23 10:40:07 2003 +0000

    Changed Roberts email address as requested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1068 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9692c9c4619def8cfbe3dcba404ac17b4d203d0
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 23 09:52:09 2003 +0000

    Disabled OS thread locking on OSes with PTHREAD due to closing problems with Mozilla
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1067 c6295689-39f2-0310-b995-f0e70906c6a9

commit 870efbf2c02e0d6a729e67bece5b8f58ae9bfa84
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 23 08:47:57 2003 +0000

    Added SC_PKCS15_PRKEY_USAGE_NONREPUDIATION as a valid signature usage
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1066 c6295689-39f2-0310-b995-f0e70906c6a9

commit 189a692012ccb72fa428334fda2c9f71e5d099bf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 22 20:43:02 2003 +0000

    Fix in case no OpenSSL is present
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1065 c6295689-39f2-0310-b995-f0e70906c6a9

commit c0ea6e9554a3ee28f410499467be0c8e565c2f58
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 22 17:02:28 2003 +0000

    remove references to SCIDI
    sanitize pkcs11 include header references
    (now they are installed in rsaref/ subdir,
    and pkcs11.h is *not* overwritten).
    
    remove automake 1.5 requirement
    (automake 1.4 on debian stable/woody works fine)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1064 c6295689-39f2-0310-b995-f0e70906c6a9

commit 131719b8c63d722548d6a600fe0c68b1337b78aa
Author: aj <aj@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 22 17:00:38 2003 +0000

     - add robert to Authors as contributor of bug fixes
     - configure code finally working.
       engine is detected and path to libcrypto.a is also set.
     - roberts fix for reader-usbtoken.c
     - card-gpk.c migraton to DES_ routines with #define for 0.9.6 openssl.
     - man pages: do not ship pkcs15-profile.5 (.in is in the tarfile)
     - assuan: replace "strcpy(stpcpy(.., ..), ..)" with
       "strcat(strcpy(.., ..), ..)" which looks good, but nobody uses
       assuan I guess ?
     - declaration of sc_pkcs15init_set_lifecycle kills a warning
     - #include <openssl/bn.h> kills a warning (or compile problem?)
     - removed unused txt[256]; from p15_eid (kills a warning)
     - now "ln -s" the signer plugin to the plugin directory.
     - moved key_out direction to the beginning of a function (kills
       a warning or compile error)
     - changed pkcs11-tool option "quiet" to "verbose" to conform to
       other tools.
     - made algo argument to wrap_unwrap a "const" (kills several warnings)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1063 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2de518de2dae61e88c69917cc346554ad1039033
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 22 12:41:03 2003 +0000

    Moved win32/readme.txt to README.Win32, and updated this file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1062 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0523e1d1fba99ea69c636fb9708fc94ef31db2d5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 22 12:26:47 2003 +0000

    Fixed an OpenSSL issue with MacOSX
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1061 c6295689-39f2-0310-b995-f0e70906c6a9

commit a02b233a6c29643f7c5ca6d4eb3e70fe40cc48d5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 22 07:51:45 2003 +0000

    Correction of the previous insert-remove fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1060 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e46905b41a28feb0af0655d51be836310c830a9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 15:02:57 2003 +0000

    - added missing win32/Makefile.am
    - added usbtoken.html to docs/.cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1059 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0aea6fcba55e897458ccc615e39ccb4696215816
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 15:01:55 2003 +0000

    - applied build fixes from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1058 c6295689-39f2-0310-b995-f0e70906c6a9

commit 686a78e34e0e9c4eb5434ba745fd10b260918398
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 12:52:42 2003 +0000

    - fixed Olaf's e-mail address in AUTHORS =)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1057 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c555ef6047e2ec0b744e97dbdb18f0b4f52e3fb
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 12:45:16 2003 +0000

    - trimmed bootstrap script a bit as suggested by Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1056 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c4370dd3b680b8851f6fbd7640b0b8f6ca26556
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 12:39:18 2003 +0000

    - fixed a typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1055 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ddbeaaf85e2d0a9e8c0ed0fefc925d0e50ab8e7
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 12:36:40 2003 +0000

    - Do not install openscd for now
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1054 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed0ffac09bba88153e06a631a9c98e14dd70c07b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 12:29:03 2003 +0000

    - fixed add_padding() in the case where padding is request, but input
      isn't a hash.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1053 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae19782ea8cd52f83de57ef05dbbed4a4661885d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 12:01:07 2003 +0000

    - NEWS entry for 0.8.0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1052 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ae13b64a46c38014e6fc6a67734a1fd624bff55
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 21 11:40:51 2003 +0000

    - fixed CHV changing with a CryptoFlex
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1051 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb417772fb6f8f9b3c0c1d03bfa6a36edcbc4e30
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 18 15:42:04 2003 +0000

    Allow non-repudation as a signature usage
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1050 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01896a8f2e7cc51fa6288183fcc136e2268ff6da
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 18 14:57:50 2003 +0000

    Added some files to ignore, also for Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1049 c6295689-39f2-0310-b995-f0e70906c6a9

commit b05aadce59f2f711c9778a91cb16f4af5239eb0d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 18 11:58:11 2003 +0000

    Have a sec delay in C_GetSlotInfo() per reader instead of a global delay
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1048 c6295689-39f2-0310-b995-f0e70906c6a9

commit a85d6d7aa49697b6bbfd3582f643af99d601c0c7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 18 11:55:16 2003 +0000

    Added code for MacOSX
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1047 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f4c706e3bcae8a5578e3fa4a20d861a159f2f90
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 14:39:44 2003 +0000

    - added tests for key unwrap
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1046 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41a22174dc485fae14f7929d78e6a57b2d76544e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 14:38:00 2003 +0000

    - bugfix for unwrap
    - support getattr(CKA_VALUE) for public key objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1045 c6295689-39f2-0310-b995-f0e70906c6a9

commit b531527169aa18bdbad827a4ebae0951425d28bf
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 14:35:58 2003 +0000

    More robust detection of removal/insertion events
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1044 c6295689-39f2-0310-b995-f0e70906c6a9

commit aa4c60c4bd3c8840c0571e738dd06c984c51d9a9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 13:25:20 2003 +0000

    - another fix to the engine test
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1043 c6295689-39f2-0310-b995-f0e70906c6a9

commit e384675fcec15ed195642510c517bb7dff7c0322
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 13:23:22 2003 +0000

    - fixed test clause
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1042 c6295689-39f2-0310-b995-f0e70906c6a9

commit c94d72f3ea72359b4cfc14955105f4d320e6e373
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 13:13:48 2003 +0000

    - fixed signing and hopefully unwrap for split keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1041 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fae9999ea033171aded4aec32ee457fc68047b6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 13:03:49 2003 +0000

    - fix for the previous change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1040 c6295689-39f2-0310-b995-f0e70906c6a9

commit f169b5c8915f450920a7e978eb795b3dc2e50069
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 12:47:48 2003 +0000

    - only build sslengine if OpenSSL supports it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1039 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2075b2c1389f986eba7ea3ea893d5c2f2751387
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 12:38:08 2003 +0000

    - implemented split-key support for CardOS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1038 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6faee57a95817706248a25dfeb52342244a5acc5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 11:04:28 2003 +0000

    - fixed compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1037 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93edc07115b3cf7fccd89c10d807a8883a1eff65
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 09:39:09 2003 +0000

    - Allow command line --key-usage to be more restrictive than the
      usage given by the certificate (pkcs12)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1036 c6295689-39f2-0310-b995-f0e70906c6a9

commit f08a12f10849486fe1c01514a5ef15fa150dfb64
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 17 09:37:31 2003 +0000

    - when no specific reader is required, just select the first one that
      holds a card
    - when computing RSA signatures, don't assume the card supports raw RSA -
      the it the challenge is a sha1 digest instead.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1035 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98907b68f107936e83fa2b24ba4e4a6d536bd0e2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 20:52:26 2003 +0000

    - fixed endianness problem with encoding/deconding of bit fields
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1034 c6295689-39f2-0310-b995-f0e70906c6a9

commit 897e4a87ca40c43089c357ef93b8c13ce0236c70
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 19:50:30 2003 +0000

    Added debug.obj
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1033 c6295689-39f2-0310-b995-f0e70906c6a9

commit 005590ab8f959c23a8cf088876e8f19e04afe04d
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 19:49:50 2003 +0000

    Added card-starcos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1032 c6295689-39f2-0310-b995-f0e70906c6a9

commit 192e140fd37e612f9f35ea7ee10620cc8808f433
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 19:03:11 2003 +0000

    - merged SSL ENGINE patch from Kevin Stefanik
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1031 c6295689-39f2-0310-b995-f0e70906c6a9

commit fcd5ddfa55202b8979db7082f2dd4c6c576f3022
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 17:00:02 2003 +0000

    - removed SCIDI stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1030 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1aaa62c2be1e0ed9d551448d24c2554e5ae7157
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 16:59:34 2003 +0000

    - integrate starcos driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1029 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7dd987d6cd34512a1b1060132a9e19b3129c95b4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 16:01:22 2003 +0000

    - fixed some compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1028 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5abf1b898e1c8e481a398b1d8fedf6166f51c337
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 15:58:57 2003 +0000

    - added SC_SEC_OPERATION_AUTHENTICATE for starcos driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1027 c6295689-39f2-0310-b995-f0e70906c6a9

commit f8a7fecf7869e54c9f9441e6c42ff9eff6aeb67e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 15:56:40 2003 +0000

    - get rid of warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1026 c6295689-39f2-0310-b995-f0e70906c6a9

commit 095db2b907107bed6e1306b6929f639e1a2de098
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 15:53:44 2003 +0000

    - getting CKA_LABEL would not 0-terminate the string
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1025 c6295689-39f2-0310-b995-f0e70906c6a9

commit f81929eb161bf9494263852de1564a72eabceab7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 14:38:35 2003 +0000

    - moved the lifecycle stuff to libpkcs15init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1024 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac1c926cc828f577950d46b872763f6a4b45b3fc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 14:27:33 2003 +0000

    - Added starcos driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1023 c6295689-39f2-0310-b995-f0e70906c6a9

commit 138346a0184ee13aff9a2a213066bfc6c06f9230
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 14:20:40 2003 +0000

    - backed out AM_LDFLAGS change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1022 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1714b3147c807a67c71fa6c426d9c87984b5b97e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 14:18:07 2003 +0000

    - improved debugging output of CK_ATTRIBUTE data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1021 c6295689-39f2-0310-b995-f0e70906c6a9

commit c53043a97e4169b84c2ab38667bfee8251440b77
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 14:17:02 2003 +0000

    - in getattr(CKA_LABEL), do not include trailing NUL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1020 c6295689-39f2-0310-b995-f0e70906c6a9

commit be09dc97f3a7192269cc243c5cc7db7bccc9bc1f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 14:16:08 2003 +0000

    - when getting certs from a p12 file, put the subject name into the cert labels
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1019 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7cb99011136ec5d530c15d4aa967b10f3e6ffddd
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 12:01:08 2003 +0000

    Correction of the previous patch for MacOSX
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1018 c6295689-39f2-0310-b995-f0e70906c6a9

commit aa6e626a794bafbae4913938725d2a3b69a860ef
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 11:50:49 2003 +0000

    - import all certs from a pkcs12 file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1017 c6295689-39f2-0310-b995-f0e70906c6a9

commit 90598ef590e86ec2ef3831dbd374789959abe3e4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 10:20:22 2003 +0000

    - new error code SC_ERROR_CANNOT_LOAD_KEY
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1016 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44995d388d97ee6385447c897bbb0e654ca5b714
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 10:19:20 2003 +0000

    - don't complain about read/write/update binary with a length of 0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1015 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c173451fc9c981b0c85f29af188dca5fb5ff97f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 16 08:33:37 2003 +0000

    - dont return error in detect_card_presence if there is no reader
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1014 c6295689-39f2-0310-b995-f0e70906c6a9

commit e04b90f5b29122274bdd6d53740e1bbb6387925e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 15 20:06:19 2003 +0000

    - a few more changes from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1013 c6295689-39f2-0310-b995-f0e70906c6a9

commit 088a346bddd7a921aadc740c9f45ed7e3ba1d418
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 15 17:10:25 2003 +0000

    First thing written in the debug log will be ==========
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1012 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4545fc2ab6963c2d6474bdb82d34ea234906fdf7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 15 15:59:32 2003 +0000

    include for MacOSX added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1011 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92c5e24572633b6e23554c420c873bed465ef12b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 17:29:19 2003 +0000

    Have allways a label in CK_TOKEN_INFO
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1010 c6295689-39f2-0310-b995-f0e70906c6a9

commit 46ddaa903dec28d5bf936a1423261a802e0811b4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 15:19:53 2003 +0000

    - fix pkcs11 signatures with etoken
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1009 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b36593adab927b3f626cf8963dc9ae8d20053c6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 14:51:42 2003 +0000

    - added pkcs15 unblock functionality
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1008 c6295689-39f2-0310-b995-f0e70906c6a9

commit bdb71c7f9575b40b466c04398074bf1b382d329c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 14:49:06 2003 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1007 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b4ee79dc1b57f8744bc478dc3e712957c016ac1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 10:57:11 2003 +0000

    - changed version to CVS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1006 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b333129d95766c00c747d0f99bd7fe2dbe6ee90
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 10:33:07 2003 +0000

    - explicitly mention we do raw RSA
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1005 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91b7b3c7a6d85baa1491afd9efea74b582da4e12
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 08:17:53 2003 +0000

    - suppress "not supported" error messages from sc_card_ctl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1004 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2b5c08857ab040c46e7d3d32719d6a171947095
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 14 07:44:27 2003 +0000

    - fixed unblock command when puk given in hex notation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1003 c6295689-39f2-0310-b995-f0e70906c6a9

commit a9a766fafbfff36b63f80c43b55e6d8d6c3686b5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 15:29:29 2003 +0000

    - more fixes from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1002 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91deef3734d6a06533b8a147115743d302169c49
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 15:26:05 2003 +0000

    Added cardos-info.exe
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1001 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc269cea3ef383364c96612e871bbb9db670f1b3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 14:48:54 2003 +0000

    - reverted previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1000 c6295689-39f2-0310-b995-f0e70906c6a9

commit 99dc52d8755691dc4ad6ff25a3056c3184452e3f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 14:42:45 2003 +0000

    - try to deal more gracefully with hotplug events
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@999 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4b866c1ea783f9d35a8367b19fa5ad00d3bf297
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 14:42:29 2003 +0000

    - include config.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@998 c6295689-39f2-0310-b995-f0e70906c6a9

commit e052e6956d745f1700dace32a9e52244df53e5f5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 14:42:16 2003 +0000

    - added hotplug errors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@997 c6295689-39f2-0310-b995-f0e70906c6a9

commit f801d14ffd6322dabf041d5c3fc5763f965c8e57
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 14:22:52 2003 +0000

    Removed some errors that occured with unsupported cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@996 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04b52edbb819b1a0dbdda87542a86497974c5ecd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 13:55:22 2003 +0000

    - added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@995 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56e2e70e07bec868253419c1ba1f5a3fbf3226e0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:48:57 2003 +0000

    - new tool cardos-info from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@994 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0eecac13bb14ededc5ed006ed644ccb17e2c41e4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:47:41 2003 +0000

    - support for lifecycle cardctl; cardos lifecycle support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@993 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ca228f7b8d6f7b3d5ffa0a5d89c5d31df73a735
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:46:57 2003 +0000

    - usbtoken fixes from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@992 c6295689-39f2-0310-b995-f0e70906c6a9

commit 87a0cc51a1685b1bf086145ac9e5a54bd3987e9b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:46:02 2003 +0000

    - build fixes from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@991 c6295689-39f2-0310-b995-f0e70906c6a9

commit a89ab6477c8e066d88d2f8d5e9f9337ff5276bb3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:42:12 2003 +0000

    - added --enable-usbtoken
    - added --with-openct
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@990 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9437f109ec458f5bbcba1cac0971dce90a3536fe
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:41:31 2003 +0000

    - Added OpenCT reader support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@989 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e1eec0d8a7eff63749f88df7e7993d0fd669766
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:28:09 2003 +0000

    - getopt cleanup from aj
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@988 c6295689-39f2-0310-b995-f0e70906c6a9

commit 632dc7dfc8339b2c318c493995ad7b99a7ff8edb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 11:19:04 2003 +0000

    - fix for newer flex versions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@987 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89edb55ead225e9dab25706d3ffd61513305821c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 10:32:50 2003 +0000

    - Textual representation of PIN encoding instead of "Type: 1"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@986 c6295689-39f2-0310-b995-f0e70906c6a9

commit f29ce046e723e5b407a9be1f1606aa4c32ec1deb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 10:32:15 2003 +0000

    - Don't set PIN defaults until after we've parsed _all_ cardinfo blocks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@985 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f60d849c6ad68e380b12983827dba076fb9c537
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 10:31:33 2003 +0000

    - fix for 2048 bit keys on cflex
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@984 c6295689-39f2-0310-b995-f0e70906c6a9

commit c07de5157ad7645144033be0cd090b9ef644acc6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 11 10:30:25 2003 +0000

    - added SC_PKCS15_PIN_TYPE_* defines for weirdo encodings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@983 c6295689-39f2-0310-b995-f0e70906c6a9

commit 340aad07a0a800c781a3e5cd2112867acfe3f5d7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 10 09:16:05 2003 +0000

    - fixes for le=00/lc=00 problems
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@982 c6295689-39f2-0310-b995-f0e70906c6a9

commit b00a91c8afab47c3fb8fe1d5ba9c8b9487491529
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 9 20:19:42 2003 +0000

    better fix then the previous for the assertion failed bug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@981 c6295689-39f2-0310-b995-f0e70906c6a9

commit af89c9b3fd8c8c5eb76be52cc180335161904633
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 7 10:44:18 2003 +0000

    Dont include DllMain in the exports
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@980 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae700e318bb7180806a9454f2881bb10b233039c
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 4 09:52:39 2003 +0000

    Fix: assertion failed (lock_count>=0) in sc_pkcs15_bind()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@979 c6295689-39f2-0310-b995-f0e70906c6a9

commit fabb271b6de956614aa22997f68762f8335c08cf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 18:19:22 2003 +0000

    - fix sc_transmit_apdu to properly deal with le=00
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@978 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97ed6f3d9ea4262b60e7f1af62fb745265b1cf3b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 14:38:44 2003 +0000

    - added *.3 manpages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@977 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34b5c87399a11d99c4bd41e06ce38082bfd54d7e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 14:34:20 2003 +0000

    - wrote a bunch of manual pages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@976 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa2e617cd1ae98ddd18fd0a84253c0e8c70c638a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 13:18:00 2003 +0000

    - added sc_reader_t
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@975 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ae2b2fa07a2962f154e0a9960e5ab298c8efdd9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 09:53:32 2003 +0000

    - usbtoken fixes from Andreas
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@974 c6295689-39f2-0310-b995-f0e70906c6a9

commit 35a5cdd78042d8d75230597f81d5795b41e9a007
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 09:53:06 2003 +0000

    - changed description
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@973 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ea0ce2ac93adb36aa3ef948f70c26c106548e9a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 09:52:41 2003 +0000

    - opensc-tool -f: don't crash on large or record structured files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@972 c6295689-39f2-0310-b995-f0e70906c6a9

commit 00d2d7ce4c68a635ca5994091b3986b2a11f3be1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 09:51:46 2003 +0000

    - minor printf fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@971 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7962eeed6a4acf91dd2dbfc671e7a5d566a6ed7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 3 09:46:26 2003 +0000

    - stubs for "synthetic" pkcs15 tokens
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@970 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac4b6dc45fb4c2e13d3cd4d52f402da226aeaf72
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 2 06:59:19 2003 +0000

    Fix: card detection in C_GetSlotInfo is done at most once a second
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@969 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9d3b5a3941d51ea11593270fd07952e87c7b8648
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 2 06:58:20 2003 +0000

    Added sc_current_time
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@968 c6295689-39f2-0310-b995-f0e70906c6a9

commit 909b917694b22ffc4163dabd27b1cf1c5dac17e7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 28 13:28:44 2003 +0000

    - opensc-tool -f should handle files > 2K gracefully
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@967 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0a80576e6901574890180213b0853e7af9eb01d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 28 13:26:55 2003 +0000

    - Remove workaround for t=1 bug in etoken driver.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@966 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0abafd0e9aaac2d71191197b57e2d200ac2f30d4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 16:08:10 2003 +0000

    Fix: root certs could be shown more then once
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@965 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d38b2a72e90101fb8139cd0cde3a0bcdfd72869
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 12:40:39 2003 +0000

    - add usbtoken.html to dist files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@964 c6295689-39f2-0310-b995-f0e70906c6a9

commit a279abd2bcf2db7b44a27d1c8a5f7023fb3928b5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:20:35 2003 +0000

    - usbtoken.html was listed twice
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@963 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ca1db07327d943e7f48003dc3abb40928d37396
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:20:10 2003 +0000

    - autoconf fixes from Andreas J
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@962 c6295689-39f2-0310-b995-f0e70906c6a9

commit d21d3bf8ba2fabfa939592acaa3a54fadc8ed901
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:19:44 2003 +0000

    - added usbtoken docs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@961 c6295689-39f2-0310-b995-f0e70906c6a9

commit da172fd4c5242669107f3443ee5324a20de85f22
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:14:22 2003 +0000

    - added reader driver for usbtoken
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@960 c6295689-39f2-0310-b995-f0e70906c6a9

commit 995bcfa2dfaad91a326c7f1bd3e65b585cbea68b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:12:02 2003 +0000

    - added missing win32.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@959 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86d486c6021bbac7ceac9d5c64048a081e4b5ec9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:08:27 2003 +0000

    - top_srcdir/top_builddir fixes (aj)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@958 c6295689-39f2-0310-b995-f0e70906c6a9

commit bdb9163a8f6723e02c91ef8537449391b0532e7e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:06:53 2003 +0000

    - added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@957 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd8f50465a4dee4f7dc6db28331e01fc7070bc58
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:05:44 2003 +0000

    - properly set max pin length attr
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@956 c6295689-39f2-0310-b995-f0e70906c6a9

commit 944a5534875b8d4f59b2dfc4ac8c924a43da5ec0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 27 10:02:55 2003 +0000

    - Merged Andreas' usbtoken code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@955 c6295689-39f2-0310-b995-f0e70906c6a9

commit 556c216c4bd34ef00b66035f8c6940220a9a3e5a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 25 11:19:49 2003 +0000

    - make sure all APDU fields are zero when processing -s option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@954 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4aef09109bcb774c6f4a18655eaadc8dc2453221
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 20 12:52:39 2003 +0000

    card remove/insert dection for Win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@953 c6295689-39f2-0310-b995-f0e70906c6a9

commit c816a1f4619ea4e28b44d52c0f4d2389078f7aae
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 12 10:20:46 2003 +0000

    - use OPENSSL_cleanse instead of memset to zap DES key (Nils Larsch)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@952 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4690cc5e6215246bcac4ff19d7822e96855911c4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 11 12:41:18 2003 +0000

    - libdir -> pcsc_libdir to avoid name clashes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@951 c6295689-39f2-0310-b995-f0e70906c6a9

commit 489401a9b3f398c7d7148d07b064cda3ef1de7be
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 11 11:00:02 2003 +0000

    - changed HAVE_LIBPCSCLITE -> HAVE_PCSCLITE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@950 c6295689-39f2-0310-b995-f0e70906c6a9

commit 496b30d30e1b10971f56131309afba9994f97343
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 11 10:59:38 2003 +0000

    - Updated PCSC test code; allow building --without-pcsc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@949 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec6c86512e2ee34d364d6c4c3ba91da2ff31dd55
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 11 10:52:09 2003 +0000

    - abort on errors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@948 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6717b4224b4ce8ad72e7d6807081e5eed66a6874
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 21:35:47 2003 +0000

    - dont install rsaref/{unix.h,win32.h}
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@947 c6295689-39f2-0310-b995-f0e70906c6a9

commit aab6ebd1e73fd6c4b0d487328e83e3a76a82ed97
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 21:23:08 2003 +0000

    - minor cosmetic change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@946 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5d1fb395c4a6ed1e392144aa31014e55c762388
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 21:22:42 2003 +0000

    - bump SC_MAX_READERS to 16
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@945 c6295689-39f2-0310-b995-f0e70906c6a9

commit faf95af4604d0b707e6f3bc6793c72425dba9f9b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 10 11:44:16 2003 +0000

    - makefile cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@944 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca6a27e4290aa2daa1a84e4820e2266279e14131
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 7 14:18:55 2003 +0000

    remove/insert fix: restore the slot->reader in slot_token_removed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@943 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4dd322f82a5d63fdbb1fb019c238df872b11a28b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 6 12:13:48 2003 +0000

    Corrections/additions for compiling with OpenSSL on Windows
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@942 c6295689-39f2-0310-b995-f0e70906c6a9

commit bca885ff86c550dbf0f50140be2063f9cc689eaa
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 6 12:08:36 2003 +0000

    Compile with /MD (multithreaded) instead of /ML
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@941 c6295689-39f2-0310-b995-f0e70906c6a9

commit faa73e582703835067cca79fde9c44b89866bec7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 4 15:47:05 2003 +0000

    bug fix in sc_connect_card: only the first ATR in a config file was accepted
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@940 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5ac3cd8ab986504197fab30e7e1e92869bd04d0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 4 09:38:23 2003 +0000

    - fixed ATR
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@939 c6295689-39f2-0310-b995-f0e70906c6a9

commit c097704149d8f88b5261d56f9f9df656c8e7da44
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 3 21:07:42 2003 +0000

    added error msg SC_ERROR_KEYPAD_TIMEOUT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@938 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66a8076baa9835e55685008e890925d0bbbc3f76
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 3 13:07:28 2003 +0000

    - more robust handling of concurrent WaitForSlotEvent vs Finalize
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@937 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32f532a782ac303c43215d0b8cb56a85a5cda7ee
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 3 13:03:59 2003 +0000

    fix: clear the CK_SLOT_INFO flags in slot_token_removed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@936 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2ff6d66b47b99c25f21dc1a02578c07db104798
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 28 15:16:56 2003 +0000

    take the last 8 bytes of the card as the pkcs11 serialNumber
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@935 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0036545ffa0dd0af7da7ce03ad7eee7fd6093813
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 28 12:47:32 2003 +0000

    fix in C_GetSlotInfo that previously cleared the slotDescription and didnt clear the CKF_TOKEN_PRESENT flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@934 c6295689-39f2-0310-b995-f0e70906c6a9

commit e13720e391d96bf6a528b8fe5303c14f0d7b74e4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 28 11:07:37 2003 +0000

    - renamed connect() to open_reader_and_card()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@933 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fe5baa4b75dfc4b06b14323ddac9c7966cd5666
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 26 07:27:42 2003 +0000

    added error code CKR_PIN_INVALID
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@932 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c1ae16ac8bfb42279b3e613948a6bc8166ef200
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 23 20:10:24 2003 +0000

    fixed wrong return value in C_Finalize
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@931 c6295689-39f2-0310-b995-f0e70906c6a9

commit 49760f9cfb7962b00f5a77dfaec893e99eaf6aa7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 23 19:38:50 2003 +0000

    fixed some thread dead-lock bugs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@930 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9173c9934e937dc6b0186bcd9bd74d6c7f9785b5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 23 17:50:33 2003 +0000

    - new pkcs15 object creation stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@929 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0529d27e3f4405ed8eaf358b9b7c0eedaf991a39
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 22 21:27:35 2003 +0000

    buf fix in sc_connect_card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@928 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9e99b0e17a376d246f7f9e2ea4dd29ec4df2297
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 21 15:40:06 2003 +0000

    little fix in C_GetInfo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@927 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33133a8d5a796679530edbd55bb1b3888daebfe4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 21 12:47:30 2003 +0000

    - prevent compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@926 c6295689-39f2-0310-b995-f0e70906c6a9

commit b0a8b1a26a8e03c228f40e96900dc378e3f8a365
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 21 12:29:14 2003 +0000

    extra check in C_Logout
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@925 c6295689-39f2-0310-b995-f0e70906c6a9

commit 252cbd51d2a2b586d49e7b0a07b1a84192cdbd22
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 21 12:27:24 2003 +0000

    login should return CKR_ARGUMENTS_BAD if wrong pin length
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@924 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66f7de93786f75b21489d964dc40eda57e1516e4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 20 23:20:08 2003 +0000

    removed unnecessary debugging
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@923 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7a5701e0c73e7f6266900525e7fdef2e76c617b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 20 23:19:01 2003 +0000

    added support for max pin length
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@922 c6295689-39f2-0310-b995-f0e70906c6a9

commit a69a309c6e849a1c45a42f848f32c132ac91a367
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 20 18:55:35 2003 +0000

    NULL_PTR check added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@921 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d4920b6617a9203e864974835dca0b59153746b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 20 18:54:52 2003 +0000

    Let C_FindObjectsInit return correctly
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@920 c6295689-39f2-0310-b995-f0e70906c6a9

commit 213941af28c4708b6fa4b442e3a17891bd249e49
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 20 13:03:15 2003 +0000

    little fix of the previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@919 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9631ef363681bc497553f0fa43e11602a078e5f7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 20 12:51:07 2003 +0000

    removed const in sc_card_driver (caused win32 crash)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@918 c6295689-39f2-0310-b995-f0e70906c6a9

commit b75ea0a0b26258b041624baf9e8cae3bd0a859f1
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 19 21:10:39 2003 +0000

    more parameter checks + fix in previous checks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@917 c6295689-39f2-0310-b995-f0e70906c6a9

commit 958658102d7636f5958111a6964cda54e6df6d8b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 19 13:44:36 2003 +0000

    added check for NULL pointers and uninitialized pkcs11 lib
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@916 c6295689-39f2-0310-b995-f0e70906c6a9

commit 57954682fdb25e8a19121b9034966eeb690ad402
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 19 13:36:58 2003 +0000

    added error: unresponsive card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@915 c6295689-39f2-0310-b995-f0e70906c6a9

commit c05cef967808e8899f5aa399af769b343ad12940
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 17 16:53:49 2003 +0000

    correct behaviour of C_GetSlotInfo at empty slots
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@914 c6295689-39f2-0310-b995-f0e70906c6a9

commit 870d9d9f666db706c8c767cdd6282af644e01e61
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 17 14:57:51 2003 +0000

    - made card_detect() available to everyone
    - C_GetSlotInfo now always does card detection, but only for the
      reader which which the slot is associated
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@913 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf6037314fd73df23e9582269086bf9b97f03c82
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 17 14:21:38 2003 +0000

    - Introduce locks around all pkcs11 operations, in case the caller
      is multithreaded and wants to access us from different threads.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@912 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5265456cabc8e073035779a20c9b4affc002f25b
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 17 11:09:24 2003 +0000

    some cleared messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@911 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ffba35b5e499437d82c0a7d0244db2da578ff29
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 16 20:25:41 2003 +0000

    - fixed change/unblock pin for GPK
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@910 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1f4108c33fa3549ee8fc991ec2244324ac62ae5
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 16 18:09:10 2003 +0000

    added error code CKR_USER_NOT_LOGGED_IN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@909 c6295689-39f2-0310-b995-f0e70906c6a9

commit 58985e51c2431232b463f9acf0475f7b621817a8
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 14 16:59:23 2003 +0000

    reset first_free_slot during C_Initialize
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@908 c6295689-39f2-0310-b995-f0e70906c6a9

commit d944d917140bf1a7e6a270932e188e77b7f3b16f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 12 14:20:53 2003 +0000

    added the CKR_DEVICE_REMOVED return code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@907 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b9c44172dd94ac0f41526d2c56e66664131b5a7
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 12 14:20:00 2003 +0000

    get the right error code on card removal
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@906 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7dcf350d7b0b421993007fedbcfeab5c663678f4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 11 10:38:43 2003 +0000

    added p11 error CKR_PIN_LOCKED
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@905 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23d686576e01f95cdc146d05f3d07cfa99138f67
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 10 14:08:54 2003 +0000

    - fixed minor compile warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@904 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c660257986a8a463cc9101e0bcc1b0e95c9f378
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 10 14:08:29 2003 +0000

    - Each reader now gets a fixed range of slots
    - Each slot now shows the reader name in the description field
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@903 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2b9838bb1c5217a90f5241cb922e3fc77bb485f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 6 14:46:57 2003 +0000

    added locking to sc_pkcs15_decipher and sc_pkcs15_compute_signature
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@902 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8160bf64a1b05ecc3c4fae3d20ba7196f1caf55f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 5 15:43:51 2003 +0000

    - fixed typo in previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@901 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1a122ce3b9cbf237c69701f2fd032fe6b5af7a5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 5 15:39:44 2003 +0000

    - fixed typo in previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@900 c6295689-39f2-0310-b995-f0e70906c6a9

commit af6cfb5537476c92e74132968c8449d0259487e1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 5 14:45:48 2003 +0000

    - Support Belgian eID - be less pedantic about the AID listed in EF(DIR)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@899 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e691fb13eded967b893eb204d1854d7e50a306a
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 5 13:55:22 2003 +0000

    added support for pin pad readers + change pin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@898 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ff3821a0a9d4206fab727127a7a7470a1c4ef22
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 3 12:32:43 2003 +0000

    - suppress bogus insertion events
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@897 c6295689-39f2-0310-b995-f0e70906c6a9

commit f71e2b0c5eb98116637e87a28262ffd7f66c4e98
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 3 12:23:05 2003 +0000

    - Added test for WaitForSlotEvent
    - fixed a bunch of compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@896 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5276bbb1c4410e33dd062fbc9eb85ddffb1a2897
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 3 12:20:54 2003 +0000

    - merged Stef's WaitForSlotEvent patches
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@895 c6295689-39f2-0310-b995-f0e70906c6a9

commit 76e7ce90e40b23c181d72d814ee3c1804660c9f7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 3 12:20:24 2003 +0000

    - fixed compiled warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@894 c6295689-39f2-0310-b995-f0e70906c6a9

commit 542e12deb327b12dbc5791811cc0c09698c5aff3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 3 12:17:12 2003 +0000

    - pubkey asn.1 encoding fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@893 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b84c49f9a0cb6fa1f0dad6f4783f802ae1554e2
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 1 20:26:12 2003 +0000

    now also caching if file->size differs from what sc_read_binary() returns
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@892 c6295689-39f2-0310-b995-f0e70906c6a9

commit e8e738aac425299b4087e9960bf1dbd8320b65c4
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 31 15:32:27 2003 +0000

    added signature test for all keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@891 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6a343712e697348f801fb8838775e7cd9c9a7c6
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 31 12:50:26 2003 +0000

    added: opensc SC_ERROR_KEYPAD_CANCELLED -> pkcs11 CKR_FUNCTION_CANCELED
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@890 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7dab6baeeecd18d646831b36b2cae8cdd477401e
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 30 09:45:13 2003 +0000

    file size fix + removed unnecessary code from previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@889 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16dfb55118ab1cc50bd6b9247a0b0c53ff091e92
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 28 15:39:47 2003 +0000

    the slot's slotDescription is now the reader name
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@888 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c1b8d9411215351f2eafe41b6f547393faca02f
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 28 15:37:54 2003 +0000

    selection between SHA-1 and RIPEMD160 sigs when 35 bytes supplied
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@887 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20ad65a85894a48ee751ea00e6b27bef4bdff443
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 28 15:36:08 2003 +0000

    made buf[1024] dynamic (malloc)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@886 c6295689-39f2-0310-b995-f0e70906c6a9

commit dfc01ab7ed6876ecc96345cf8d89a7fc5e0a4576
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 27 13:43:06 2003 +0000

    typo fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@885 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8871d9a46372b4100fb54815c12153786f079db
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 27 13:33:28 2003 +0000

    some fixes + added cert viewing for -O option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@884 c6295689-39f2-0310-b995-f0e70906c6a9

commit a383ed91d51caf2b7d1145d397734c34863ab082
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 27 13:17:08 2003 +0000

    added return value + fix (needed if hide_empty_slots = true
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@883 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d6837321f528c99a340aa8e57fd54916e961436
Author: sth <sth@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 27 13:01:17 2003 +0000

    Fixes for Windows, who's PC/SC has more events that interfere with insert/removal events
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@882 c6295689-39f2-0310-b995-f0e70906c6a9

commit 039363bffe3b79d800663a87d9fa946bc2e59fe0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 24 15:24:40 2003 +0000

    - Remove openscd for now
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@881 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3a83fca45237b2448acce569c9489d572a0436af
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 22 08:34:44 2003 +0000

    - cflex 32k v4 supports keygen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@880 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9c3ec2ec45466099ceef425a8d4da9948959f54
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 21 15:29:17 2003 +0000

    - fixed two minor issues in p11 test code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@879 c6295689-39f2-0310-b995-f0e70906c6a9

commit 733f6d1fb9e3243630e292c2a4eae13e9bc4bb1f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 12:09:30 2003 +0000

    - fixed previous %windir% change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@878 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7eef2f81a27236ab4de459396e5770d7ba86dc9a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 11:40:38 2003 +0000

    - new ATR for eToken PRO 32k reported by Kevin Stefanik
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@877 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5f5557367ce0d02e3eedac6a3b0937892ec3e9f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 10:22:41 2003 +0000

    - sc_pkcs15_read_file: gracefully deal with short reads
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@876 c6295689-39f2-0310-b995-f0e70906c6a9

commit 501cdbd7e092ab28769c472fce523ba7630bc770
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 10:12:28 2003 +0000

    - Get opensc.conf from %windir% rather than hard-coded C:\\WINNT (Stef)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@875 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a994ef76006362538fb570a2b8db8e4957d269c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 10:02:07 2003 +0000

    - a few minor changes from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@874 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c6896ad736a627bbddc8b40871b95e6dc9f8ca7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 09:57:23 2003 +0000

    - link against libscrandom.a, no libscrandom.la
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@873 c6295689-39f2-0310-b995-f0e70906c6a9

commit c83a6468ac9a4420a9b483a1a7b8bb1f0e92f9ad
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 09:56:53 2003 +0000

    - fixed typo in previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@872 c6295689-39f2-0310-b995-f0e70906c6a9

commit a5492a32a8a06f83b1c9e77e53c093156d482d6b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 09:56:27 2003 +0000

    - slightly more verbose error messages when ASN.1 parsing fails
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@871 c6295689-39f2-0310-b995-f0e70906c6a9

commit 693c5e6b8ba7dca3fe4e7fbd9495f20064ee0bb6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 09:53:10 2003 +0000

    - do not encode zero length sequences
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@870 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4867251671aad340962f5db54a6dd5aace62513d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 09:52:05 2003 +0000

    - fix sc_pkcs11_signature_size to return modulus size in bytes, not bits (Stef)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@869 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69f8588f47e13b86d0e50c92c40d0ac224558c0e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 20 09:50:33 2003 +0000

    - added card_detect_all
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@868 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b1eb43b933e66743f0792098e6394d215cc38e4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 19 17:47:07 2003 +0000

    - add some support for card removal in pkcs11
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@867 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7551e1822c13bcabe43be9b2c23d910efeacf92
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 16 20:10:28 2003 +0000

    - Patches from Stef implementing PKCS11 RNG related functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@866 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98e9561b5c09275087c77ebfadf6fd9e9f1e79ae
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 15 13:20:22 2003 +0000

    - added command "random"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@865 c6295689-39f2-0310-b995-f0e70906c6a9

commit e69517941f4307c36c89c8deb8fbc126b9e1607b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 15 13:20:02 2003 +0000

    - added SC_CARD_CAP_RNG
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@864 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1eff6686762861c94808d6bcb9d6f378c7fff9d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 14 19:55:45 2003 +0000

    C++ warning fixes (assuan excluded)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@863 c6295689-39f2-0310-b995-f0e70906c6a9

commit a89e65bfb38cbbd7d5fd414dc337e58e6a0a584b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 14 16:49:54 2003 +0000

    - mask out additional flags in the card type byte when asked for the AAK
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@862 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2f6c247163e2536b8a3478985b988d9f9b03c81
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 14 16:44:34 2003 +0000

    - added ATR for Cryptoflex 32k v4
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@861 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6532461cf350251385fa8573a15bf3376cec9818
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 14 14:26:23 2003 +0000

    - win32 fixes for mutex change
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@860 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6346fd0fcdc719be60b1fa07d2302b785a72f21f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 14 13:31:55 2003 +0000

    A small warning / compile fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@859 c6295689-39f2-0310-b995-f0e70906c6a9

commit baf8393a8a8c18e76f99a6a4c8d562d5b560a6e7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 14 11:22:33 2003 +0000

    - merged mutex patches from Serge Koganovitsch (Zetes)
    - created new file portability.c and moved the whole mutex stuff
      there (so we don't pollute public header files with #ifdef HAVE_XXX anymore)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@858 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0af2a35b9c68268427f139fedaa114bd46b9185d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 13 21:38:43 2003 +0000

    - Another go at the empty slot/empty token issue
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@857 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41ee6a61ba5e60b1dabe14e4d17b4066435fbca0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 12:33:41 2003 +0000

    - fix to previous patch: if use_cache is given in both the default and the application conf block, use the latter
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@856 c6295689-39f2-0310-b995-f0e70906c6a9

commit 373de3ed8728d2696fb997875e4298b7d6a5bf1b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 12:31:03 2003 +0000

    - actually honor the use_cache config option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@855 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1aa5e6161c976671999662c6a36d67ec315d6e92
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 11:41:04 2003 +0000

    - PATH_MAX fix for win32 (Stef)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@854 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2d83a47ffd533bd80fd95a23b5526709d3294c2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 09:18:02 2003 +0000

    - when caching pkcs15 files, transparently create the cache dir if not there
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@853 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7be0774cf280a6c07976883a3e75bbf229b84420
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 09:14:15 2003 +0000

    - learn_card: the cache directory is now created by libopensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@852 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a14b41dca7ea13babdc3e3f244dd105bf425080
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 09:09:25 2003 +0000

    - reordered options for help message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@851 c6295689-39f2-0310-b995-f0e70906c6a9

commit e60c9d705e1a1bdcb3b2b9da8a9648e55c397fbf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 09:09:01 2003 +0000

    - fix the help message for --very-long-options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@850 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b1b8b14f583b52a58bf8452f975f8bbf996af10
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 08:46:11 2003 +0000

    - use "wb" rather than "w" in fopen (Stef)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@849 c6295689-39f2-0310-b995-f0e70906c6a9

commit e13804aa32fa19f7221f4d1098dca3e9298e893b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 08:45:27 2003 +0000

    - fixed message in --learn-card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@848 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4749a40e5b7d8c1d2450133a7027564d7ed50399
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 9 07:31:58 2003 +0000

    - prevent segfault in opensc-explorer create command
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@847 c6295689-39f2-0310-b995-f0e70906c6a9

commit d13155a9e356dd21ba57455e42b46290b1237598
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 23:47:04 2003 +0000

    Add pkcs11-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@846 c6295689-39f2-0310-b995-f0e70906c6a9

commit 037dbdfa13dda6ad53506ee30f2812867410a676
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 23:46:24 2003 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@845 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12bfb8ba64903631f8ed99739130274e5cd9e951
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 21:46:46 2003 +0000

    Cleanups and logging improvements for non-GCC compilers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@844 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e417f3d8d4cb82997c296a19099bd294077a00a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 19:52:56 2003 +0000

    Update from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@843 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67608feffb659383e673c65d30cdf91b1b19d78a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 19:52:11 2003 +0000

    - Win32 fixes in case openssl is not present (Stef)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@842 c6295689-39f2-0310-b995-f0e70906c6a9

commit 144bb23a7c1e52d5d635e0030dcd01f8f527fef1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 19:37:37 2003 +0000

    - fixed minor pin pad bug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@841 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92651f0595580c5cc1158d81a876a8e4693e3657
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 19:36:23 2003 +0000

    - sc_pkcs15_change_pin: small pin pad change from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@840 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c5782e2b21492632c6dec1e41d8dfaba832dd5c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 19:28:48 2003 +0000

    - pin pad changes from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@839 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8229351cce3517f3a9ab162665299796100fd405
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 17:45:06 2003 +0000

    - DEF_APDU_FIX wasn't used unless you install a config file.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@838 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4384423879789e75ad65e781888547d3c08d7762
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 12:06:50 2003 +0000

    Add missing case 'w' to handle_option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@837 c6295689-39f2-0310-b995-f0e70906c6a9

commit 608debfc1533184af8e84595645ecf0810b80b5c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 11:03:17 2003 +0000

    - Tools did not work unless -w switch was given
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@836 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8b659eb3d3419b3fc1b9c30d117b0b56a4439ff6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 10:53:37 2003 +0000

    Minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@835 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9f97a9f31d7f16c5a0d3b248d0b555e9cd98ac6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 6 10:48:37 2003 +0000

    Add .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@834 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b330f340849d9bf81845bba2a2daa0d2965d005
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 5 18:06:35 2003 +0000

    - vertain platforms need time.h to understand time_t
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@833 c6295689-39f2-0310-b995-f0e70906c6a9

commit bb7708335bfdce37c445a6cb12aa860f552034d3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 5 17:59:43 2003 +0000

    - fixed comment before sc_wait_for_event
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@832 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04c00ef5ef04dc0e075298ecd543fa6f753033be
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 5 17:59:24 2003 +0000

    - fixed problem with infinite tiemout in sc_wait_for_event
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@831 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86039021af7c99a6adc29e7b986ef569440c6924
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 4 13:17:40 2003 +0000

    canelled -> cancelled
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@830 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad7fb4ee05fb5219cd08349302b0353405ca253f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 17:07:56 2003 +0000

    - fixed help messages broken by previous patch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@829 c6295689-39f2-0310-b995-f0e70906c6a9

commit 269967076216a75c2c91310d0f7a87c6576eb0da
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 17:07:42 2003 +0000

    - instead of calling sc_connect_card, use new function connect_card from util.c
      This function will take care of the fine print and optionally wait for
      card insertion too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@828 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1064f44172de2a2dc39f71481ac4e2cca08a091
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 16:58:32 2003 +0000

    - instead of calling sc_connect_card, use new function connect_card from util.c
      This function will take care of the fine print and optionally wait for
      card insertion too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@827 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65ead88908f39837172ed8ea5740752e0b2cfe68
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 16:57:46 2003 +0000

    - New function connect_card() - this does all the work of connecting
      to the card, optionally waiting for card insertion using sc_wait_for_event
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@826 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21fe5ef918a47745a3293556ac987732a68e4919
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 16:32:06 2003 +0000

    - Patch from Stef to implement sc_wait_for_event, slightly enhanced by
      yours truly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@825 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d7fd40e8049879a9bf5f87307a4e9afb547e856
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 16:30:28 2003 +0000

    - new error code (wait_for_event timeout)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@824 c6295689-39f2-0310-b995-f0e70906c6a9

commit e01554814b52057fdd08739f6b54289e0ccac67a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 14:33:17 2003 +0000

    - Patch from Stef: add support for --pin and --test
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@823 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd96ae9be3a0b1516cd7dd4e2723951ce50863fc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 14:28:50 2003 +0000

    - C_Sign* and C_Digest* now return the proper codes when the output buffer
      is too small, or when the caller is doing and output buffer size query
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@822 c6295689-39f2-0310-b995-f0e70906c6a9

commit 675ef650739842bafe0207a268aab557d4043b9c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 13:27:19 2003 +0000

    - default apdu_fix=1 on win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@821 c6295689-39f2-0310-b995-f0e70906c6a9

commit 939d78a72dba4fc772fdeea326b21e91f4ba72ae
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 13:26:58 2003 +0000

    - allow hard-coded config options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@820 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dc71272a5a099ecb50407258b8e89f1b2bfbb00
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 11:54:02 2003 +0000

    - added support for parsing a static configuration string
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@819 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1c22c55655e0fbf2288f10e317e7799aaace5152
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 11:40:11 2003 +0000

    - Try to fix pkcs11.hide_empty_slots
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@818 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ffa466eabd3a42aef879159b78c931281c14790
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 11:39:59 2003 +0000

    - sc_pkcs11_slot_t typedef added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@817 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36930668fbbf08f1c684ea91eeb45c325687e10b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 11:09:45 2003 +0000

    - Added run-time option pkcs11.cache_pins, default false
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@816 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e6dc966b5aeb39c82ced8abf28c66c34da6b324
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jan 3 10:49:07 2003 +0000

    - Added run-time option pkcs11.lock_login
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@815 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93c0cab7b9f380014f96c9e9e850a3d356372ce7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 2 15:31:53 2003 +0000

    - win32 fixes from stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@814 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8abb5fa801b318e33a9dfca45eec154477411333
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 2 15:23:08 2003 +0000

    - Getattr(CKA_MODULUS_BITS) would fail for keys w/o certificate
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@813 c6295689-39f2-0310-b995-f0e70906c6a9

commit c010358bbc6b13f353105934f0171e040cbf8d46
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 23 19:17:44 2002 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@812 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9acca0e7244d83bf0ffa955c765dac74bfa3d9fc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 23 18:47:27 2002 +0000

    - Implemented new PIN verify/change/unblock framework. All PIN operations
      are routed through sc_pin_cmd(), which builds the APDU and either passes
      it to the card directly, or to the card reader along with a request to
      read the PIN(s) from the reader's keypad.
    
      Currently, entering PIN in the standard way (i.e. via the application)
      should still work - I have verified GPK and eToken; Cryptoflex verify
      should work as well. Anything else needs additional testing, and support
      for keypad input in particular (I cannot test this at the moment for
      lack of a suitable reader).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@811 c6295689-39f2-0310-b995-f0e70906c6a9

commit 604e9cd3187cfcc0f337112de58e03a71271a35e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 23 18:43:04 2002 +0000

    - the AC CHANGE condition of the PIN objects we created referenced the
      PUK, rather than the PIN. This caused the standard sc_change_reference_data
      operation to fail.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@810 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44195746089b1e1f39fd20e7495a2a978a727a69
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 23 17:02:05 2002 +0000

    - NUL-terminate strings returned by getattr(CKA_LABEL)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@809 c6295689-39f2-0310-b995-f0e70906c6a9

commit 079821b8c48e8343739bd6b0f0cab53ad6e78bc7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 22 23:16:47 2002 +0000

    - Added --hash/-h to hash data (Stef Hoeben)
    - Added function to translate CKR_* error codes to strings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@808 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c7bfd1a3d63ae48dc0f5b730fb0bb54521a9cd4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 22 20:50:25 2002 +0000

    - define enough reader slots
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@807 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ddde4e8996c98833be322231a33f5f1e58950b2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 22 14:43:13 2002 +0000

    - Add access, mkdir and getpass wrappers into winconfig.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@806 c6295689-39f2-0310-b995-f0e70906c6a9

commit d1fa35e1d026fa82d84aa23589442841306f9185
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 22 11:50:41 2002 +0000

    - slightly changed previous patch; new flag hide_empty_slots
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@805 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0babb9119472aaee51d5f6bc192c865a7ef3b96d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 21 16:45:37 2002 +0000

    - Allow the admin to configure how many slots are used per card
      (opensc.conf; pkcs11.num_slots)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@804 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b7ebc7c025fe9ee9a5e41927fd1ed7f95e0ec50
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 21 14:10:36 2002 +0000

    - clarified use of conf_blocks in process_config_file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@803 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c28f0dad8a707f245fc3baeb6c3a4610341f299
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 20 14:55:17 2002 +0000

    - prevent buffer overflow
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@802 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34d45b2210d3a875ae73ef485447951c3dc1c309
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 21:17:06 2002 +0000

    - minor signedness issue
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@801 c6295689-39f2-0310-b995-f0e70906c6a9

commit 882c5b9ed313236de30e4ae0310242babdb9b692
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 19:42:51 2002 +0000

    - implemented unblock command
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@800 c6295689-39f2-0310-b995-f0e70906c6a9

commit 098082579691bb8a8a47951b102f0ed0249bf07a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 16:16:42 2002 +0000

    - get rid of warnings when calling load_card_driver_options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@799 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7615abdeb9ac5123da57580ba440f5f6534b920
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 14:26:54 2002 +0000

    - attempt to fix DODF encoding/decoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@798 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6d324715da4e162d9ecaa5989b19b5cd709a1bb4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 10:49:28 2002 +0000

    - add missing help message for --module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@797 c6295689-39f2-0310-b995-f0e70906c6a9

commit a16772681c55962133ef832c702909a3b66e43b6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 09:34:19 2002 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@796 c6295689-39f2-0310-b995-f0e70906c6a9

commit d22d1b13a43c5abca54e282d866d3d1246a775e0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 09:27:08 2002 +0000

    - Another fix to mechanism handling: ripemd160 signatures should work now
    - Got rid of get_mechanism_{list,info} in framework_ops, as they're not
      needed anymore.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@795 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a472d4e653303ba1b98545171401da7a0bae8d1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 19 09:24:58 2002 +0000

    - fixed rsa-ripemd160 signatures
    - Added new option --module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@794 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1dab7bb7b6fb840ff5bac8c712b9cbaae3622c72
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 19:28:47 2002 +0000

    Compile fix from Serge Koganovitsch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@793 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc26b49ee594b3d10d4a1eed81df19ce8329402b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 19:26:18 2002 +0000

    - Values of CKA_SIGN and similar attributes now based on the pkcs15
      usage flags rather than on some hardwired defaults.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@792 c6295689-39f2-0310-b995-f0e70906c6a9

commit d37c1ff58c46480a15652fdb2d19be9ffdb105c7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 12:15:04 2002 +0000

    - fixed pkcs1-ripemd160 signature header
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@791 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f57fdf2cf1fe3493980b2a94195e038fac2740a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 11:40:02 2002 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@790 c6295689-39f2-0310-b995-f0e70906c6a9

commit 337674d65a6de08cb534c21b7a084bebbb52bc41
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 11:34:35 2002 +0000

    - Added helpful comment about --use-default-transport-keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@789 c6295689-39f2-0310-b995-f0e70906c6a9

commit b86d2e994b85316122a892c9d614b855a7cc7e86
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 10:17:01 2002 +0000

    - First shot at pkcs15 data objects from Danny De Cock
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@788 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca82169e63d43323a32b248cfd50255f731368d7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 18 09:23:10 2002 +0000

    - removed some dead code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@787 c6295689-39f2-0310-b995-f0e70906c6a9

commit aef2a271603ef5aba49408282ba92fe34ccb57e3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 22:13:54 2002 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@786 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e4f640c2dbce22c96907c10da99844c08846e02
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 20:44:48 2002 +0000

    - More win32 fixes from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@785 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7bc0d11c4e6930b0bc128f54fa8b427ab130ff64
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 20:20:26 2002 +0000

    Update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@784 c6295689-39f2-0310-b995-f0e70906c6a9

commit 647d4bcdefaa9f69de6f5c9fb1dcff00b356e529
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 20:16:31 2002 +0000

    - Register only those mechanisms the card actually supports
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@783 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c16b3d887e46d721b5e510afe2ea795a3e5438a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 20:15:56 2002 +0000

    - Added shorthand rsa-ripemd160
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@782 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5ef34fc7bc5635d5033cb73c74bfe3db77f6007c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 20:15:32 2002 +0000

    - Added support for SC_ALGORITHM_RSA_HASH_RIPEMD160 in sc_pkcs15_compute_signature
    - rewrote add_padding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@781 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f584dbb1fecb2a62c000ec8cc6a7d318b118516
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 20:14:41 2002 +0000

    - Added SC_ALGORITHM_RSA_HASH_RIPEMD160
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@780 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29dd06ba9f278137c3d30d5f6da52686e51be3a1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 16:00:40 2002 +0000

    - more win32 fixes from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@779 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96c953c5a3b7dbbee3cb90eb3dfbaca92f3f19a4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 12:37:44 2002 +0000

    - generate header symlinks for libpkcs11
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@778 c6295689-39f2-0310-b995-f0e70906c6a9

commit d584e80d712899df18a8f4b2f02c800b7a4ec2f1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 11:51:07 2002 +0000

    - build pkcs11 before tools, as pkcs11-tool needs libpkcs11
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@777 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffd4773e200bc1d67b7f99270fbcc1ef99330eeb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 11:50:11 2002 +0000

    - New application: pkcs11-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@776 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21dfabee2730b59c3986895f84f808f51528d283
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 11:49:12 2002 +0000

    - New mechanism framework
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@775 c6295689-39f2-0310-b995-f0e70906c6a9

commit a01b8d0b2442472a34fdb24802cca40ff0a4ec6c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 11:48:54 2002 +0000

    - New mechanism framework
    - New libpkcs11 utility library
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@774 c6295689-39f2-0310-b995-f0e70906c6a9

commit 317a0663c9a79cf868a121c669a7491ade19d9a8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 17 11:48:14 2002 +0000

    - New utility library libpkcs11 - supposed to provide easy loading and
      unloading of modules, and possibly a few other features in the future.
      Needed by pkcs11-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@773 c6295689-39f2-0310-b995-f0e70906c6a9

commit d997440546a7ac5d714ca4b387b2624fbbe33362
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 12 10:08:23 2002 +0000

    - more Makefile.mak fixes from Stef
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@772 c6295689-39f2-0310-b995-f0e70906c6a9

commit 87fc4815d94ae5a1645e72b6d6567743d4d8ed16
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 11 08:54:16 2002 +0000

    - do not segfault when we fail to parse a pkcs15 DF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@771 c6295689-39f2-0310-b995-f0e70906c6a9

commit f984a3fd977f1b1bcdc7abc659e11fffe003de52
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 17:53:58 2002 +0000

    - win32 patch from Stef Hoeben
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@770 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23158d7a9693f22e7d5657bef3186dac55e31d4b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 17:47:19 2002 +0000

    - win32 patch from Stef Hoeben
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@769 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2e6af762c376b1a64df95337466fdb9feab2b379
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 17:47:10 2002 +0000

    - Added support for CKM_RSA_X_509 (Stef Hoeben)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@768 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a8c3b2b20b529dc4bdd6b05863d5a028e3e10f0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 14:44:42 2002 +0000

    - Added support for separator characters in sc_bin_to_hex()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@767 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3acb5728decbae5fa117318734922ab8c87e7062
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 14:31:08 2002 +0000

    - rm -rf autom4te.cache - it's a directory
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@766 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc06b5f70231c85e0375dc7e5ae49efc8c8ae5cf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 14:22:26 2002 +0000

    - When exporting the public key, fall back to the certificate object if
      there's no public key with the given ID.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@765 c6295689-39f2-0310-b995-f0e70906c6a9

commit 717cb0cccec837c13f0467e054f97e641c1ace0f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 14:14:55 2002 +0000

    - Modified base64 test so it actually tests base64 stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@764 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b6074b95118e8124a7ef7b9ce22eeab0b02f31e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 13:43:23 2002 +0000

    - Added openscd and Assuan
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@763 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0b8853a1a68a2fcc42239eafd07dc35c0723ef78
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 13:41:36 2002 +0000

    - Small bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@762 c6295689-39f2-0310-b995-f0e70906c6a9

commit 79b5672edc6f1761deae17fd5957e0fe402b2495
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 13:27:17 2002 +0000

    - Keep the DER encoding of each PKCS #15 object in memory
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@761 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3bced8aeae6d271806cd44a3438df6c96611930b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 10 13:26:31 2002 +0000

    - Changed sc_bin_to_hex() prototype a bit and removed the ':' characters
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@760 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a568eeb7589c956ef8ce35527ee48939be0838e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 9 13:33:39 2002 +0000

    - translate SC_ERROR_WRONG_LENGTH to CKR_DATA_RANGE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@759 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6217b4adf5eb5b87b63b13d09f1508b5c4fa1346
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 6 21:40:41 2002 +0000

    - changed pcsc_detect_card_presence to call refresh_slot_attributes. This
      eliminates duplicate code, and that we also pick up the new ATR if another
      card was inserted in the meanwhil.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@758 c6295689-39f2-0310-b995-f0e70906c6a9

commit 868d1d7a20cfbbed87d33fe6a2c5984eacd32ea3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 6 12:49:19 2002 +0000

    - added sc_bin_to_hex
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@757 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59ca2a4b0f420b5ef3f0272917927fbd18a93d1c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 5 09:34:24 2002 +0000

    - sc_parse_atr: initialize slot->atr_info.hist_bytes even if the ATR is bad
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@756 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f35b0a753dbd2e8ee63f44fde654a45c720b3ca
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 5 08:58:54 2002 +0000

    - we expect an RSA key, so better make sure it _is_ RSA
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@755 c6295689-39f2-0310-b995-f0e70906c6a9

commit c83fa88ca86973fbb4fbd30e05f8d546b1c8f8ed
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 15:36:33 2002 +0000

    - Parsing pkcs11 IDs and paths with an odd number of bytes would scan past
      the end of the string. Made sc_hex_to_bin more robust and change various
      place to use it rather than doing it on their own with scanf(%02x)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@754 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96ba7bf4d353f368dbb736c9074dd0f3376d269a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 14:56:50 2002 +0000

    - pass the --label argument as the token label when creating the pkcs15 app
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@753 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9c8806c7574698a56a81e84cc5c68aaa919a3ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 14:56:17 2002 +0000

    - properly set the TokenInfo label from user input
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@752 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22fd834ec441e49c5fa5239456227e50e69b432e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 14:28:08 2002 +0000

    - added comment on pkcs12 files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@751 c6295689-39f2-0310-b995-f0e70906c6a9

commit c55b8d83779360ed0a7d308d70d0e5bc48c8ffcd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 13:50:23 2002 +0000

    - Fixed CKM_SHA1_RSA_PKCS: if OpenSSL is available, use it to hash the supplied
      data.  If OpenSSL is unavailable, CKM_SHA1_RSA_PKCS is not advertised to the
      user.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@750 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27c2369cee2a5eb5e9fa96f59b07e79509cd4ef3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 13:25:31 2002 +0000

    - make sure we don't assign the same ID more than once
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@749 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8a318902656f427f6b5fbfde8676089d28f5295
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 13:24:40 2002 +0000

    - Added sc_pkcs15init_get_secret so that the GPK driver can get the
      MF secure messaging key.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@748 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c280fe3514ab0aef17520641941d6e2c79751a5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 12:33:43 2002 +0000

    - updated pkcs15init error codes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@747 c6295689-39f2-0310-b995-f0e70906c6a9

commit 92adeef9a6c01469cadf07f78e470a6080744ebf
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 12:09:07 2002 +0000

    - fixed ATR for Cryptoflex 32K e-gate
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@746 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ba7b370e4a0ed1719dcf9ff28b1da58a981c876
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 11:57:32 2002 +0000

    - got rid of default transport keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@745 c6295689-39f2-0310-b995-f0e70906c6a9

commit 946824dfe53f64ff04b2a8674de588f33ffaea12
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 11:56:51 2002 +0000

    - implement get_key callback
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@744 c6295689-39f2-0310-b995-f0e70906c6a9

commit eaebdec8b0f8e648299a662a3ebea2820b4fbf6c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 11:56:34 2002 +0000

    - Change the way we handle default transport keys, attempt to reduce the
      risk of users entering the wrong keys and locking their cards. Here's how
      we do it:
       - ask the card driver (via cardctl GET_DEFAULT_KEY) for default key
       - invoke the front-end's get_key callback. If the card driver gave us
         a default key, pass it as default value
       - front end is free to use default key as-is, or prompt user
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@743 c6295689-39f2-0310-b995-f0e70906c6a9

commit 555f612166bac391dd09ea388927c6c1a314eaa8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 09:59:33 2002 +0000

    - implemented SC_CARDCTL_GET_DEFAULT_KEY for the flex driver; will return
      the default AAKs for Cryptoflex and Cyberflex Access. Hope I got them
      right.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@742 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3168c8ea26551eb35def9c2879adec990902b452
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 09:26:40 2002 +0000

    - added new cardctl SC_CARDCTL_GET_DEFAULT_KEY to get default transport keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@741 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6df8dbbed36fa3fd2827de1ed7502d92ddae3f05
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 4 09:24:49 2002 +0000

    - fixed asn1_encode_path - include length value if given
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@740 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98e0f2d7204b32b65a423606c5b110707abc86e4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 3 15:40:53 2002 +0000

    - "document" new card_driver.atr feature
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@739 c6295689-39f2-0310-b995-f0e70906c6a9

commit d635d53771dea906f9633f9c006d230d443993fd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 3 15:40:40 2002 +0000

    - support ATR maps in /etc/opensc.conf, e.g.
    	card_driver flex {
    		atr = 11:22:33:44;
    		atr = 55:66:77:88;
    	}
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@738 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e8a76d6dad427931dcc3777113c41459c1d5f1a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 3 12:44:02 2002 +0000

    - disabled default AAK for now
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@737 c6295689-39f2-0310-b995-f0e70906c6a9

commit f44247070f0b75a08d90536a71eec64709e48ab1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 3 12:27:29 2002 +0000

    - added Cryptoflex 32k e-gate
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@736 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08f4d67cecbb7bccbbaed363a6bc4339efab7be5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 2 14:40:30 2002 +0000

    - Avoid segfaults: if we cannot parse the certificate, do not create a
      cert object.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@735 c6295689-39f2-0310-b995-f0e70906c6a9

commit 021ea9c0c323b675879852d2b58749650c649f06
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 2 13:42:03 2002 +0000

    - added length value to sc_path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@734 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f16e04a8f5ac15bae34f474ca6a0abb59e57dd9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 2 13:39:36 2002 +0000

    - sc_pkcs15_read_certificate now uses sc_pkcs15_read_file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@733 c6295689-39f2-0310-b995-f0e70906c6a9

commit d3c6bfd10fb97e070e6ac0206957f8a41eaa3562
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 2 13:38:50 2002 +0000

    sc_pkcs15_read{,_cached}_file now honor the index/length parameters from Path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@732 c6295689-39f2-0310-b995-f0e70906c6a9

commit fcfbeb184516f7db1780c97da400e6ae2601ade9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 2 13:38:09 2002 +0000

    - When decoding Path, decode "length" value as well (if present)
    - a few int -> size_t changes to suppress gcc3 warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@731 c6295689-39f2-0310-b995-f0e70906c6a9

commit d4ac1aabaaf7450c764d1d3863634c36a4df54de
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 29 10:54:12 2002 +0000

    - do not crash if the application tries to log into a token w/o PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@730 c6295689-39f2-0310-b995-f0e70906c6a9

commit 38280e479e6a7d1d88bfeb0ef4056204125e4a58
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 29 08:56:32 2002 +0000

    - use @libdir@ instead of ${exec_prefix}/lib - some platforms (such as
      s390x and ppc64) put libraries into /usr/lib64
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@729 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a01ceb81c7b8918580cfecb74e365621fd72397
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 28 16:38:26 2002 +0000

    - fixed typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@728 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96c291470428b40789e1f8b2b20c2351b46ca89d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 28 15:58:52 2002 +0000

    - lots of new manpages from Joe Phillips
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@727 c6295689-39f2-0310-b995-f0e70906c6a9

commit b00579d40d31259a0cc9e77facc8e6c5c4dd673f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 28 15:44:32 2002 +0000

    - Fix from Joe Phillips: fix help message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@726 c6295689-39f2-0310-b995-f0e70906c6a9

commit 09faf83bd03225849ba27a10c2942d76dcdc80ae
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 28 15:43:54 2002 +0000

    - Fix from Joe Phillips: option mismatch in --help message
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@725 c6295689-39f2-0310-b995-f0e70906c6a9

commit 718aa6e3618d6ae59ef4fafb1e80e901973812ed
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 28 15:38:55 2002 +0000

    - Fix from Stef Hoeben for win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@724 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51d8983b99dc0c729adb70c080449bf15937d6cc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 27 14:27:53 2002 +0000

    - Fix from Stef Hoeben to get the eid-cache stuff working on win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@723 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34ba5b223cabf12feebb228de146b42386ffbe4b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 25 09:03:48 2002 +0000

    - --card-driver was mapped to -D, but should have been -c.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@722 c6295689-39f2-0310-b995-f0e70906c6a9

commit c3b479fc825595429a06d1b8d31dac1659c1379b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 22 09:10:10 2002 +0000

    - in case of an invalid session/object handle, return OBJECT_HANDLE_INVALID
      or SESSION_HANDLE_INVALID instead of FUNCTION_DAILED
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@721 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f4587f61252d97d53e17042f28ab43bb116b17a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 22 09:09:04 2002 +0000

    - Return correct error codes in GetAttributeValue in case of
      ATTRIBUTE_TYPE_INVALID and ATTRIBUTE_SENSITIVE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@720 c6295689-39f2-0310-b995-f0e70906c6a9

commit 828819a1ecc06569893cf008073425d225fa8239
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 22 09:07:43 2002 +0000

    - get_mechanism_list now reports correct number of mechanisms
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@719 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4e61af2b57cbfdc3bd62d7f3c84fb618f49edbd1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 18 09:05:06 2002 +0000

    Duh, revert previous patch.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@718 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c4844ede7d308192ce9543098b4e14025ac698b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 17 20:26:25 2002 +0000

    Build PKCS#11 module for win32 port.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@717 c6295689-39f2-0310-b995-f0e70906c6a9

commit df6dd39e2bb5254df7edacea5f29c989026f8894
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 17 20:23:35 2002 +0000

    Add usage of __FILE__, __LINE__ and __FUNCTION__ macros
    for non-GCC compilers too, where available.
    
    (Based on patch by Stef Hoeben)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@716 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ca5922274f96054194926616c1cabd476ef379b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 12 14:32:17 2002 +0000

    Merge with dvbsak.sf.net
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@715 c6295689-39f2-0310-b995-f0e70906c6a9

commit 705b498a2a22ad5fa27c7976c5d28161db8e93b0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 12 11:35:59 2002 +0000

    Free yy_current_buffer since lex doesn't do it, take 2.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@714 c6295689-39f2-0310-b995-f0e70906c6a9

commit de9e4916ff938dd11095dc6a346e858ecc020027
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 12 10:33:53 2002 +0000

    add HAVE_GETOPT_H
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@713 c6295689-39f2-0310-b995-f0e70906c6a9

commit d03d5511c79bde7b41d06511e07b0522ce03f752
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 11 22:40:54 2002 +0000

    Add @GETOPTSRC@
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@712 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8a9bd1272e731b6e7ea5d9ca4deb7266d1a6eec5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 11 22:26:06 2002 +0000

    Added new functions:
    scconf_put_{str,int,bool}
    scconf_write_entries
    
    TODO:
    - Cleanups, add more sanity checks
    - Rewrite parts of the API for LDAP support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@711 c6295689-39f2-0310-b995-f0e70906c6a9

commit da615f3eea2ffd7c1b9f14c07924eda9fe4af16e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 11 14:27:48 2002 +0000

    Oops
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@710 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9cd213345c325bf3eec874746b613a25e6ddb4e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 11 14:08:45 2002 +0000

    Checkpoint commit. Added new functions:
    
    scconf_block_{add,copy}
    scconf_item_{add,copy,destroy}
    scconf_list_copy
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@709 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3837299e1e61e94540470d01818e279336a0ac52
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 11 08:22:11 2002 +0000

    Updated win32 port for recent updates.
    Noticed by Stef Hoeben.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@708 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78d2160f469e251d4bfe21a579ef6b4f3166e611
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 14:14:42 2002 +0000

    - added SC_ALGORITHM_NEED_USAGE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@707 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ee38b9567bec9f365aafc0dcd63a9a55d3a00c3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 14:14:28 2002 +0000

    - handle SC_ALGORITHM_NEED_USAGE flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@706 c6295689-39f2-0310-b995-f0e70906c6a9

commit a10fe0876a0bea4cb5dfef489228b511a8cdb4a5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 14:14:05 2002 +0000

    - set SC_ALGORITHM_NEED_USAGE flag in algo info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@705 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45892e686fdb4a0506fd0dcba11a7717fcb2c6e6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 13:50:33 2002 +0000

    - detect when a GPK card is already personalized
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@704 c6295689-39f2-0310-b995-f0e70906c6a9

commit dd740e9f8c253a2403f050bc1cfe6d09da6662c5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 13:04:47 2002 +0000

    added
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@703 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3852705d47c6ff87d10231f18e662e426396259
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 13:04:00 2002 +0000

    - make sc_get_driver static
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@702 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac43fede3119a006bacc7b3ab706fd6b9d55192e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 8 12:10:55 2002 +0000

    - GemSafe cards have a directory 0200 with an AIDF file in it, and
      will return a 0x6F file info block when selecting this DF. Try
      to parse it, as far as we understand it.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@701 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d3c61349ed2703ea80a78385e9366f94870991c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 7 14:48:03 2002 +0000

    - fixed segfault in mkdir/create
    - minor cosmetic change in do_verify
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@700 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1881beb01a3bcf7382d1abfc5a6aa83fa349076
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 5 13:47:23 2002 +0000

    - added getopt option parsing (-r reader -c driver -dddd)
      What's a test app when you can't enable debugging?!
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@699 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4811eeca8d92065bf9c648de023974b31fd3e46e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 20 09:20:21 2002 +0000

    Another build fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@698 c6295689-39f2-0310-b995-f0e70906c6a9

commit 148f4051f672916e7665758232d19b97da9a9132
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 19 16:51:37 2002 +0000

    Various build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@697 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d2c9e4c487996ca26defb4dc303deb8801f4b0b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 19 14:04:52 2002 +0000

    Cleanups for initial win32 port, untested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@696 c6295689-39f2-0310-b995-f0e70906c6a9

commit 172d86b31a35a440c208d36336c726a2e2cfcf23
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 2 10:55:52 2002 +0000

    - fixed typos in help output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@695 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ffcfcf110957e7567c9e8a8693f0aae1a98f344
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 2 10:50:53 2002 +0000

    - added --reader, --key-usage command line args
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@694 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2379d40d530e8e76cf5314b787b04cb3a545e4a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 2 10:50:15 2002 +0000

    - allow to generate/store decryption keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@693 c6295689-39f2-0310-b995-f0e70906c6a9

commit fe27ed651e4873ab0e9f598583ae62702083c8b8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 2 10:49:07 2002 +0000

    - fixed deciphering (apdu.le was not set)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@692 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3eab911651378741c3020dd241e5e6842db86964
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 30 20:24:16 2002 +0000

    - during card initialization, allow to enter SO PIN interactively
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@691 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8db1dcf49b1efe398e71bb806de3c7ca0e47b84d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Sep 30 20:03:10 2002 +0000

    - when entering new PINs on stdin, make the user re-type the PIN to avoid typos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@690 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0d73785fb56fcb3ee62b77607ab3341d312fe3d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:34:29 2002 +0000

    - Also removed the ref variable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@689 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2569daf4313e857cd7faeb1c7d8a7669bea1f1ec
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:34:08 2002 +0000

    - Removed the last goof I made
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@688 c6295689-39f2-0310-b995-f0e70906c6a9

commit d38851b9e4aa81fa1a763b4d0d63281a144c4e21
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:22:48 2002 +0000

    - Fixed prototype for sc_pkcs15_card_new()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@687 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c36cb96419a809d7e500b3342cd9b45a4e87993
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:22:13 2002 +0000

    - Used cert->key instead of key in parse_x509_cert()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@686 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25931fe3e501a9104299c103f9bf9e01ccfb134b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:20:30 2002 +0000

    - Set bit 8 in key reference, if PIN_FLAG_LOCAL is set
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@685 c6295689-39f2-0310-b995-f0e70906c6a9

commit 00a2a0defd97603f11e470f0f0153c6f1ab0ab14
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:16:42 2002 +0000

    - Brown paper-bag fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@684 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0810ccf4af0b832e63ac4fa59807d9e87f4c6696
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:15:58 2002 +0000

    - Removed error list
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@683 c6295689-39f2-0310-b995-f0e70906c6a9

commit df4b9620e39bc08c25d724113b4dad5f1662c35a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:14:37 2002 +0000

    - Added card-mcrd.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@682 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8bbcb933a484f1a06453494f7aa0b33e4d694526
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:13:28 2002 +0000

    - Added driver for MICARDO 2 cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@681 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82fabceeae8faf1ba867225f8d4299fe1a30bd71
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:06:59 2002 +0000

    - Added some new error codes to sc_iso7816_check_sw()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@680 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21a82c17b89d26c6f7e7dcffa7adb0dc3b4d1b6d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Aug 21 10:02:55 2002 +0000

    - Renamed read_tag to sc_asn1_read_tag and made it a
      non-static function
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@679 c6295689-39f2-0310-b995-f0e70906c6a9

commit a14aaedef73c321d8eceb3d1ffeea0c6b18aaea9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 20 08:59:58 2002 +0000

    - Merged GPK patches from Steve Henson (signing fixes)
      and Joe Phillips (GPK16K ATR matching code).
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@678 c6295689-39f2-0310-b995-f0e70906c6a9

commit fa04f5e4ad10d2bcdf348237830c386874089d2b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 20 08:39:11 2002 +0000

    - Accessed file->type after freeing file (S. Henson)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@677 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97119f75e8be74941eb12cd7864fe70a61855b03
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 20 08:28:47 2002 +0000

    - GPK16K: wildcard RSA exponent is 0 not -1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@676 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1556f98ba579d283aa57cdfca43f190bfeb4ec62
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Aug 19 17:13:46 2002 +0000

    - put the definition of USE_PKCS15_INIT into a place where it can actually work
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@675 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fc23576393db6236afa9494ac7633b2332eb7d0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Aug 8 20:53:40 2002 +0000

    - Fixed functionality when pkcs15init is not compiled
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@674 c6295689-39f2-0310-b995-f0e70906c6a9

commit b18d893764f15f1dc6f5c06141304fd4bec3b82d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Aug 6 13:51:08 2002 +0000

    - certificate version is optional (v1)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@673 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0aa31a913da20953058b7889dbbcc0565fa3883
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jul 28 18:22:37 2002 +0000

    - Added ATR for GPK16000
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@672 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c6e11fd51eb06a99f769fcb770a8369b9188031
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jul 10 06:28:52 2002 +0000

    - PKCS#11 module definitions; not PKCS#11 application. Removes compiler and
      linker warnings.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@671 c6295689-39f2-0310-b995-f0e70906c6a9

commit e2af6a1c8e1d9ba8c76eb9788caa26a5759ccc4c
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 20 13:16:22 2002 +0000

    - Ported pkcs11 module to win32.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@670 c6295689-39f2-0310-b995-f0e70906c6a9

commit e4540f826a6670ca12a35dfaec3663aa00522580
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 20 12:14:18 2002 +0000

    - Win32 build fixes. Should work now.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@669 c6295689-39f2-0310-b995-f0e70906c6a9

commit c656d839aee29d80fd53a2e4cb957ae873001e8d
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 20 12:08:05 2002 +0000

    - Added missing getpass.c for win32 compatibility
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@668 c6295689-39f2-0310-b995-f0e70906c6a9

commit 638a5b307c47945902bd9e6f9787dee1134ccf58
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 18 18:18:21 2002 +0000

    - implemented generic erase_card functionality
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@667 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c44cb8710519b973ce30bd401ccef3e612fdb71
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 18 18:18:05 2002 +0000

    - implemented erase_card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@666 c6295689-39f2-0310-b995-f0e70906c6a9

commit eeac475aa394f8b53486ae9d45d3a2b79a1b6b34
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 18 15:17:15 2002 +0000

    - error message fixup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@665 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0573ae7d3036d6dff432e5acc6516f75ce330cd5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 18 12:20:26 2002 +0000

    - fixed compute_signature for gpk8000
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@664 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4b79f4e68e87d8fcff404069ac8d62c396f42aff
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 15:26:36 2002 +0000

    - fixed pkcs15init for GPK 8000
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@663 c6295689-39f2-0310-b995-f0e70906c6a9

commit d26637455ea34889e61ed8b50c73ddc34ef484bb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 15:24:21 2002 +0000

    - added cardctl SC_CARDCTL_GPK_VARIANT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@662 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc8f55f318a389973e6e0de1db8af97e9cd2bf39
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 11:18:07 2002 +0000

    - more tests
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@661 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86a97c7e84578c11623777623bf4b361619aac8b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 11:17:46 2002 +0000

    - allow output of signature to stdout
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@660 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5b40de43eda340d7fd8c5cf94cddaf43364a58cd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 10:58:04 2002 +0000

    - various changes for on-board key generation
    - key download and key generation for eToken works now
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@659 c6295689-39f2-0310-b995-f0e70906c6a9

commit aad6a7fe1d77e49febf83afcfa10e9fab5e744d6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 10:55:58 2002 +0000

    - more eToken fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@658 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10c5a041bea08b36f0b5d74dfc97c8244865ec15
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 17 10:54:10 2002 +0000

    - RSA padding header for sha1 was still broken
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@657 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d70c9090a2ee1c5611991437832f663f04c66ad
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 16 21:19:37 2002 +0000

    - Renamed sc_transceive_t0 to sc_transceive to avoid confusion =)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@656 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32ec1978d4b700af03128c2e09177d69815463eb
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 16 21:18:05 2002 +0000

    - sc_pkcs15_compute_signature() and sc_pkcs15_decipher() now select
      the whole path specified in a private key object
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@655 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7635468ed975bc4417ff47f4ec0d4be279dfab9b
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 14 12:52:56 2002 +0000

    - Initial support for win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@654 c6295689-39f2-0310-b995-f0e70906c6a9

commit 523b680f32dbda77b5ed1f6f79df9161392cd23f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 14 12:29:19 2002 +0000

    - Fix apdu->le in sc_compute_signature()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@653 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0694da56e16ff40c89c4ee2d4b9f42c883ca888f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 14 12:18:28 2002 +0000

    - Reverted Olaf's patch in sc_compute_signature(). It breaks
      government issued (e.g. FINEID) cards.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@652 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd7f340a08499e794f326ebbcc6fed9a4c6429b7
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 14 11:52:20 2002 +0000

    - Added template for PC/SC 'apdu_fix'
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@651 c6295689-39f2-0310-b995-f0e70906c6a9

commit a94d1b26fbe943ede97eb29f117c7930a4a2bc8a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 14 11:43:22 2002 +0000

    - Fix for last commit. It now compiles, at least.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@650 c6295689-39f2-0310-b995-f0e70906c6a9

commit ed19095c71185cf8035d0d35c1b3ca227277afba
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 14 11:33:20 2002 +0000

    - Preliminary fix for Case 4 APDU sending on Win32
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@649 c6295689-39f2-0310-b995-f0e70906c6a9

commit 657bfa74e08d43287fb0dd02833b9aabc55e140d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 13 11:20:11 2002 +0000

    - added comment/question
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@648 c6295689-39f2-0310-b995-f0e70906c6a9

commit 85aeed256f7ece4c6829635957c970769f4f43f4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 13 11:18:31 2002 +0000

    - changed APDU base from 3 to 4 on sign/decipher
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@647 c6295689-39f2-0310-b995-f0e70906c6a9

commit 041b46f52c8d050b1288f74a55807c679f2cd11d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 11 18:17:16 2002 +0000

    - corrected info output for Linear variable TLV EFs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@646 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f7b81ffc2014166ec85d21e40d2d4a37b411266
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 11 18:16:50 2002 +0000

    - added switch to force software key generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@645 c6295689-39f2-0310-b995-f0e70906c6a9

commit 621ac8cbf8be7a233fe087c970470f3b3613a1b2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 11 18:15:41 2002 +0000

    - more code towards signing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@644 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a5c6d7faabe2068db4cd92877c1d8ead1076996
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 11 18:14:25 2002 +0000

    - support for security environment create/restore/set
    - support for signature computation (non functional yet)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@643 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f611fdb9f097050188d86181045006febfa2ae3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 11 18:13:48 2002 +0000

    - added support for PUT_SECI
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@642 c6295689-39f2-0310-b995-f0e70906c6a9

commit e877f1e27e18db0646164ff7d02bc2441f33387c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 11 18:13:23 2002 +0000

    - experimental: support for cards such as eToken that store keys in "objects" below the DF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@641 c6295689-39f2-0310-b995-f0e70906c6a9

commit 954cfb9f8e82f176c030bc6152c2e3f2b72a553d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 7 20:29:07 2002 +0000

    - first steps toward eToken key download
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@640 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04499ddb48d57cad71f626ab75bc7a89a85745e8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 7 20:28:11 2002 +0000

    - properly identify supported algorithms
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@639 c6295689-39f2-0310-b995-f0e70906c6a9

commit c967dd808ead8176dbe9407afa56e70465d6099f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Jun 7 20:21:11 2002 +0000

    - do not try to check PIN if key isn't pin-protected at all
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@638 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7977f48aa336f36bbf012ded8d54b505a382692b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 6 13:38:03 2002 +0000

    - Protected OpenSSL includes with #ifdef HAVE_OPENSSL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@637 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b79b017e393a5ebd361c1df46596fd0f697535b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 6 09:18:53 2002 +0000

    - started to implement on-token key gen support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@636 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8535127ba80ddf8f07c2b30117c1543232bc9d2c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jun 6 09:17:52 2002 +0000

    - started to implement eToken key generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@635 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdeff04e58afdb3c29525a64cc53b677b5d4842a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 5 17:51:44 2002 +0000

    - fix a few error messages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@634 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1f3d46e46292364ff84cf5179e67d2c781946e8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 5 15:08:33 2002 +0000

    - install etoken profile, too
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@633 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2d21baed90e653ee5449f3588d67b1ab2379e82
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 5 15:02:59 2002 +0000

    - implemented --erase for etoken through a recursive remove
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@632 c6295689-39f2-0310-b995-f0e70906c6a9

commit cc92443702ff3c3084dc01e2cc09b7fc2472bdb0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 5 15:02:29 2002 +0000

    - set ERASE=$SOPIN for AODF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@631 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d0614f2b84b4a7748bf1fcece0e0ac31980b59c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jun 5 12:53:30 2002 +0000

    - implemented setting of user pins; minor pin code cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@630 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47794dfff35a0c173bd95c19e3122d5dded22c4c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 20:11:40 2002 +0000

    - p15 PIN entries should now have a valid path
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@629 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9932c62b7cd697e91e92bca0009158b00f7f648
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 20:07:33 2002 +0000

    - whoops, forgot to check this in
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@628 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a9fdb6cb74280b3ab48c4b7b32f2a29551308db
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 20:06:33 2002 +0000

    - setting an SO pin works now
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@627 c6295689-39f2-0310-b995-f0e70906c6a9

commit f74e8bb71261b037104924176954729a6b3384cd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 19:43:30 2002 +0000

    - first stage of pkcs15 initialization sort of functional
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@626 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3eeaa8f0b831ee19cf25ccc1690f3ef5ae4b597d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 19:42:50 2002 +0000

    - fixed bad return value in do_init_app
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@625 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6a5018a4febe5080f7f7da99f373643efa5ba0a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 19:42:17 2002 +0000

    - pin verification works now
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@624 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7828d8242c418ddf329cf3c3d23d1cb44579f313
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 09:38:37 2002 +0000

    LDAP detection fix, require ldap.h.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@623 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c07f24de084e432713a4c92531fa75c7408591b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 08:51:03 2002 +0000

    - added some eToken code (not functional yet)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@622 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03559c47d0f79c82a9f9c637c9e969b32ecf92d4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 08:50:39 2002 +0000

    - added eToken specific cardctls
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@621 c6295689-39f2-0310-b995-f0e70906c6a9

commit f973a3d942302f8973bf96d43536bd21f34deaca
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jun 4 08:50:17 2002 +0000

    - fixed some minor glitches (potential buffer overflow in read_dir;
      missing SW check)
    - added card_ctl for put_data_fci
    - added some debug output
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@620 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5fba18d152a90318f1fe059b64c8ed607750b2f6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 3 15:28:43 2002 +0000

    Fix for previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@618 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2846d6ce3b7a04e8c777b8eb93599d7c4e4ead16
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 3 15:18:47 2002 +0000

    Preliminary MacOS X build support, untested so far.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@617 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28b4a1b9f85faaed0c4a76292375f8cc2bf10137
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jun 3 15:05:58 2002 +0000

    - iso7816_set_security_env now has correct values for P1
    - Improved detection of SetCOS cards
    - Changed the default CLA byte in card-setcos.c to 0x80
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@616 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82d7cf338cb1c220624836827b02c1b25f6d395f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 2 21:43:16 2002 +0000

    - Preparation for version 0.7.0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@615 c6295689-39f2-0310-b995-f0e70906c6a9

commit f49e681c921e0069f3f70b4f392bed0122545b5b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 2 21:39:07 2002 +0000

    - do our own chunking in read/write binary
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@614 c6295689-39f2-0310-b995-f0e70906c6a9

commit f9d33b1aa80f6c59d1a96e0e773c8bbf7018d722
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 2 21:04:50 2002 +0000

    Upgrade for the OpenSSH 3.2.x release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@613 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff1ce13862bec2388be54297db6579df777ade67
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jun 2 20:46:40 2002 +0000

    Disable pkcs15-ldap until it's working.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@612 c6295689-39f2-0310-b995-f0e70906c6a9

commit 836b1ada2d9f06061690fc50884668a972904a08
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 27 10:03:51 2002 +0000

    Minor build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@611 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b433941dd23e388f98f80331fe823e45b7e9321
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 27 06:41:21 2002 +0000

    Build fix for previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@610 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c94d7d8d38d4030f1697b1ee2149c239f34a5bb
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 26 12:31:23 2002 +0000

    - Several patches to fix behaviour on 64-bit architectures (by
      Jochen Friedrich)
    - Fixed one bug in sc_copy_asn1_entry(), one in
      sc_pkcs15init_add_object() and one in pkcs15-crypt
      (patches also by Jochen)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@609 c6295689-39f2-0310-b995-f0e70906c6a9

commit c181dabe3f221cf701d111f023b2f672b33450e8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 21 19:41:09 2002 +0000

    - Fixed parsing of AUT keys in pkcs15init (patch by Jochen
      Friedrich <jochen@scram.de>)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@608 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20da3e23d57f86b91f9d0b9e03e6c2bec96f9384
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 21 14:19:07 2002 +0000

    scidi merge
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@607 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25cf9756ede56b328e33cefd872ac86839a46de7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 20 09:19:41 2002 +0000

    Minor GCC warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@606 c6295689-39f2-0310-b995-f0e70906c6a9

commit 798915ab36ddcd0dac04777f8d419425e83483bf
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun May 19 22:50:00 2002 +0000

    AIX gcc fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@605 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0993d24fdea5d43cc4e7003f6c4695a0dfe0119
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 14 19:20:44 2002 +0000

    check readline.h fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@604 c6295689-39f2-0310-b995-f0e70906c6a9

commit 822e96a58e07f408abd205e05c919f190e794deb
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 13 12:23:28 2002 +0000

    Add comments
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@603 c6295689-39f2-0310-b995-f0e70906c6a9

commit e681dc41654225607b85a990f834fab52529a45d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 13 12:23:21 2002 +0000

    Warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@602 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9a788350ddc30d620cb5647ccc58bca7ece951d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 9 10:34:18 2002 +0000

    - Applied a patch by Werner Koch that brings the TCOS driver
      up-to-speed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@601 c6295689-39f2-0310-b995-f0e70906c6a9

commit 03d58e7956030115e244d92cde5deca8d95b9a07
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu May 9 10:22:42 2002 +0000

    - Applied a patch by Matthias Bruestle <m@mbsks.franken.de>:
    - Changed the case of GET RESPONSE in card-default.c to 2 short
    - Added ATRs to Flex, GPK and TCOS drivers
    - Changed value of maximum Lc in card.c to be 255
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@600 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5c2f1a5c862ae957177d24a0f1f6c9c2552e06a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 8 08:15:44 2002 +0000

    More cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@599 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7ffdbd7940e5c4c4b0d8aab3f18ae82e7ad8324
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 8 07:04:13 2002 +0000

    Add pkcs15-profile.5
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@598 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0820a4ccc435453d63f241837968f2d9e42416a2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed May 8 06:50:45 2002 +0000

    pkcs15-profile.5 $(pkgdatadir) fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@597 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33b5cf69a515cd76d34055c6c4575aed0ee6c2a3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 7 12:49:18 2002 +0000

    Minor ${prefix} -> ${exec_prefix} changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@596 c6295689-39f2-0310-b995-f0e70906c6a9

commit bbf3a8f730a207c8985a817c2a89917191483c60
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue May 7 09:35:55 2002 +0000

    Removed opensc-ssh
    Updated README
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@595 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3c63878fb363b42a33f665788c329dce7c028282
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 6 14:06:25 2002 +0000

    Add comments for previous fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@594 c6295689-39f2-0310-b995-f0e70906c6a9

commit de9cc2e67a671f0b1367158494428fddc238bb83
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon May 6 06:36:11 2002 +0000

    Reworked scrandom ugliness, no longer builds a shared
    library nor seeds OpenSSL internally, if available.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@593 c6295689-39f2-0310-b995-f0e70906c6a9

commit e1b6a03ccf130eb4a9cc90b860d694a498f0f350
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 30 13:35:15 2002 +0000

    - another linux-gnu* => linux* fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@592 c6295689-39f2-0310-b995-f0e70906c6a9

commit af83cde5c6386643260012728ec1290d49a6909c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 30 11:55:56 2002 +0000

    - make it compile on SuSE 8.0
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@591 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b22339795c8b320ef4b41c2d56e657460cb8d7e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 30 09:46:36 2002 +0000

    - work around brain damage in automake 1.6.1
      (shouldn't they change the name to autobreak?)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@590 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0bdac40f649df8925f238932b260f6f4409f927c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 26 07:56:39 2002 +0000

    Disable a sanity check that was needed at least with OpenLDAP 1.2.x,
    it seems to block certificate CRL fetches with more recent versions
    of OpenLDAP (2.x)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@589 c6295689-39f2-0310-b995-f0e70906c6a9

commit c85d42a523bff2f2bb2ff7b06d11831e48f9b019
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 26 06:35:57 2002 +0000

    Fix SSL/TLS support for OpenLDAP
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@588 c6295689-39f2-0310-b995-f0e70906c6a9

commit af8511ee3769f83db7fec6bf7028040d4931a729
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 23 09:17:24 2002 +0000

    API upgrade
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@587 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c7c2750b3d183a730c4486458207b0fd0d4453f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 23 08:18:12 2002 +0000

    - added two regression test scripts
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@586 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7f6453d715e77b9ef69d6da59c39b8aab93cf81b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 23 08:17:06 2002 +0000

    - sc_pkcs15_decipher now takes a flags argument, so we know when to
      strip off any pkcs#1 padding.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@585 c6295689-39f2-0310-b995-f0e70906c6a9

commit f618b754a27fa1db77d98486e3c46bbe5deec83a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 22 23:01:57 2002 +0000

    - Applied a patch to card-etoken.c that gives
      ACL support; patch by Markus Frield
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@584 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74b7e39263ebd8487fcf7b11cc0a340ca2243590
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 22 18:37:57 2002 +0000

    - allow setting the cert_info authority flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@583 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9b0a1f2ef3b06aae3ecc660940843a0849dbce8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 22 18:03:50 2002 +0000

    - fixed pkcs1 padding for rsa-md5 signatures
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@582 c6295689-39f2-0310-b995-f0e70906c6a9

commit c66dcb5f3317d576824257ba782fc008e4a31420
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 22 08:00:52 2002 +0000

    - changed do_select_parent per request from Juha. Hope this doesn't break
      anything... :)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@581 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7fcaee513186440014e2a5dfc7fc0c7ca673742
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 21 18:54:10 2002 +0000

    Extract certificate crlDistributionPoints and store it in sc_pkcs15_cert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@580 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c39ca7e617327b4b55fece879c82ce254051278
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 20:07:56 2002 +0000

    - Added 'force_card_driver' option
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@579 c6295689-39f2-0310-b995-f0e70906c6a9

commit 79bf099f0d02b3c7943d52a9b1bba0c9df576d46
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 18:01:49 2002 +0000

    - Small update to MioCOS pkcs15init driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@578 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68e6292c446146f9d26af120cd377b1355216e70
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 17:24:28 2002 +0000

    - Update TODO
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@577 c6295689-39f2-0310-b995-f0e70906c6a9

commit 728928401a718b225e73dcdf9de7ede701e60f09
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 17:02:49 2002 +0000

    - Some fixes to the MioCOS driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@576 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9251d131aeead5d8eca46bd752d723e174dd5d99
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 17:02:15 2002 +0000

    - Added support for extractable keys on the Cryptoflex
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@575 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dccd639899fdce44b14b7f4fa0e555ccc0acd46
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 14:23:31 2002 +0000

    - C++ support. Compiles with gcc/g++ for Linux, otherwise
      completely untested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@574 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b08ebf2eb5bcb74ea6f96c6491dfe8b0a08714c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 10:01:01 2002 +0000

    - fixed DF handling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@573 c6295689-39f2-0310-b995-f0e70906c6a9

commit 546f920fc145e5d24d30c1656401aead553effdc
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 19 09:22:44 2002 +0000

    - PKCS #15 objects and DFs are now stored with linked lists
      in struct sc_pkcs15_card; this way we can have 'floating'
      objects that don't belong in any DF, for e.g. generating
      public key objects from certificates
    - Removed some unused function prototypes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@572 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9a6b3452a2e8f1a904c8113e8026e0f706689ea7
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 15:01:02 2002 +0000

    - sc_pkcs15_find_prkey_by_id and sc_pkcs15_find_cert_by_id now
      return all private keys and certificates instead of only RSA keys
      and X.509 certificates
    - Removed some obsolete PKCS #15 initialization code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@571 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4af9ab16eab0258b70ff6b62a774623c7bdb4ff
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 14:59:12 2002 +0000

    - Added a missing SC_ASN1_CTX flag to DSA key ASN.1 entries
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@570 c6295689-39f2-0310-b995-f0e70906c6a9

commit aac9e6fdec603f8d08c5ddc4266be88e74b89bd7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 11:59:32 2002 +0000

    Minor warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@569 c6295689-39f2-0310-b995-f0e70906c6a9

commit f6c8cb4847a2756039334cee05c51008ba42c942
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 11:00:08 2002 +0000

    - DSA signature support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@568 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7cd061c91aa1bc6af226db312035b9bc765e7308
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 10:59:35 2002 +0000

    - added a bunch of prototypes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@567 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3cdde958481c14ab1164a34c45d3b3c5cd30f5fe
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 10:59:13 2002 +0000

    - sc_pkcs15_find_pubkey_by_id
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@566 c6295689-39f2-0310-b995-f0e70906c6a9

commit c9aba0d1cadaa36188565c2654d1fa7e9235278c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 10:58:48 2002 +0000

    - fixed bug with DSA pubkey de/encoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@565 c6295689-39f2-0310-b995-f0e70906c6a9

commit 939efa48a016121b206bb4400ae3f511599223cd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 10:58:11 2002 +0000

    - small fix for reading the private key file
    - added sc_pkcs15_{erase,free}_prkey
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@564 c6295689-39f2-0310-b995-f0e70906c6a9

commit 842ac8d59749403112eab2c7e86f4f4ccbe130da
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 09:13:18 2002 +0000

    - don't print modulus length for DSA keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@563 c6295689-39f2-0310-b995-f0e70906c6a9

commit 176e825130eaeb61a4276e9f641d4ef6cd54baac
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 09:12:54 2002 +0000

    - fix for storing DSA public keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@562 c6295689-39f2-0310-b995-f0e70906c6a9

commit b08c5ef702b6e91d2608676fc48fe9bf9f07e80f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 09:12:26 2002 +0000

    - bug in check_key_compatibility()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@561 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94cb1e0219106c136fbce2e67320a10fc950b313
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 09:11:18 2002 +0000

    - encryptedContent didn't have proper ASN.1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@560 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6d8fe463a47f4d49ec8dc587158b021e1e274115
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 09:10:54 2002 +0000

    - properly encode/decode DSA public keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@559 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b9ae3613b8d852ceb6a1bddcbb588bbf5dbcfd9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 18 09:10:33 2002 +0000

    - fix algorithm_id decoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@558 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a3e6e273d29523d4812aab14811cb2959d29607
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:47:18 2002 +0000

    - starting to support extractable keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@557 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0877a5da7462aceb740488e2fbb6acc7e2be74b0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:46:56 2002 +0000

    - display non-RSA keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@556 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b65c73cfb8068cf458dac33513e5b5f0f3f4502
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:45:15 2002 +0000

    - missing prototypes for {de,en}code_prkey
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@555 c6295689-39f2-0310-b995-f0e70906c6a9

commit f23480d491f82ae047f9aaaac6e04e8cac6424eb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:44:54 2002 +0000

    - return objects when searching for a generic type (e.g. all PRKEY objects)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@554 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c502889d41a99909f8358b6a0c8fa985f617f1f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:44:25 2002 +0000

    - correctly initialize PKCDF2 params
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@553 c6295689-39f2-0310-b995-f0e70906c6a9

commit 736d250c343a0d92870a040a46e8e9900b36f23c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:44:06 2002 +0000

    - fixes for PrKDF encoding/decoding for indirect-protected
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@552 c6295689-39f2-0310-b995-f0e70906c6a9

commit 79d0902155489c771d904306fcca0b4f19211a59
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:43:12 2002 +0000

    - fix for decoding CHOICE
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@551 c6295689-39f2-0310-b995-f0e70906c6a9

commit b7a22e2df67e893a2b19449eb360634867ed4f1a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 20:42:54 2002 +0000

    - new error code SC_ERROR_INCOMPATIBLE_KEY
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@550 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c5754e6efedbf78ae719fa3d70753415301aac8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 18:34:32 2002 +0000

    - handle non-RSA keys as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@549 c6295689-39f2-0310-b995-f0e70906c6a9

commit fcbbb6c3e5579ed743927496105b803f6e4c9fa5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 18:33:27 2002 +0000

    - eliminated RSA specific code to support generic pubkeys instead
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@548 c6295689-39f2-0310-b995-f0e70906c6a9

commit 95a7fafe31c941111dadf61482660000e7777bae
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 18:32:06 2002 +0000

    - use SC_ASN1_ALGORITHM_ID when decoding x509 certs
    - handle certificates with non-RSA keys as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@547 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d8b1000ca6e6d0e8142e7fa7698f8a84ea8a1b1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 13:36:35 2002 +0000

    - eToken patches from Markus Friedl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@546 c6295689-39f2-0310-b995-f0e70906c6a9

commit f87bbcee4ce51f8b6ebb6e07817cb6dd187fe662
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 13:34:40 2002 +0000

    - some fixes to the ASN.1 we generate
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@545 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0e24215b1f90c3383c4eb7b9e363924f5e2385a4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 13:13:44 2002 +0000

    Minor warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@544 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5fb2db70fef948ddd861a8b94a6b409d03b22804
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 12:20:31 2002 +0000

    - --read-public-key will work for non-rsa keys too
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@543 c6295689-39f2-0310-b995-f0e70906c6a9

commit a5dd0dbb9959d8e343bd5141ed538a4436456e30
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 12:19:57 2002 +0000

    - support NULL tag for encoding/decoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@542 c6295689-39f2-0310-b995-f0e70906c6a9

commit 228b6645c83da4947b2cdb9febf707149f0ee564
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 12:19:43 2002 +0000

    - correctly encode AlgorithmIdentifier w/o params as OID+NULL
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@541 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1424c838543da6039f194c8fb438a1f558ca84e1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 10:33:26 2002 +0000

    - minor bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@540 c6295689-39f2-0310-b995-f0e70906c6a9

commit b05cc1e5577dcfa4cd7e5ff81c32d4e6794d2139
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:06:55 2002 +0000

    - error out for non-native keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@539 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19132bea5959504ab3bdfdac8b9616a789a132de
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:06:42 2002 +0000

    - new error code SC_ERROR_EXTRACTABLE_KEY
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@538 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ef6b71bb605814d9c57e871c56bcf481d77e3f1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:01:54 2002 +0000

    - added new files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@537 c6295689-39f2-0310-b995-f0e70906c6a9

commit 56191b8d20842fd7cc9ea31df914561a42b3d1b3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:01:49 2002 +0000

    - functions for file content protection
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@536 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a458d66b910584d7da76b36bbe29c0834b1bb04
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:01:11 2002 +0000

    - new file path type SC_PATH_TYPE_PATH_PROT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@535 c6295689-39f2-0310-b995-f0e70906c6a9

commit af262521e7909608986458160bdf2260eb295da7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:00:52 2002 +0000

    - new generic function sc_pkcs15_read_file
    - structs and functions for data wrap/unwrap
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@534 c6295689-39f2-0310-b995-f0e70906c6a9

commit 29c7639bbdef745b6681380efdf1ad344298cde5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 09:00:16 2002 +0000

    - new generic function sc_pkcs15_read_file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@533 c6295689-39f2-0310-b995-f0e70906c6a9

commit 996f5b7f2e841005021dc6a92787bcb628c4d14c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:59:52 2002 +0000

    - renamed sc_pkcs15_parse_pubkey_rsa -> sc_pkcs15_decode_pubkey_rsa
    - added sc_pkcs15_decode_pubkey_dsa
    - sc_pkcs15_read_pubkey now uses sc_pkcs15_read_file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@532 c6295689-39f2-0310-b995-f0e70906c6a9

commit d248263d36ab65c71d48ca98fd565132be592985
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:58:57 2002 +0000

    - initial support for non-native keys
    - implemented generic functions sc_pkcs15_{encode,decode,read}_prkey
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@531 c6295689-39f2-0310-b995-f0e70906c6a9

commit b63cfcf70d468f1a69df79c5f38e16836d5a8076
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:57:29 2002 +0000

    - renamed sc_pkcs15_parse_pubkey_rsa -> sc_pkcs15_decode_pubkey_rsa
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@530 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4d224b5a1b034b0c20abfec376208c5b6e2cdf0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:56:58 2002 +0000

    - added SC_ALGORITHM_{MD5,SHA1,PBKDF2,PBES2} and corresponding
      AlgorithmIdentifier parameter structs
    - added params pointer to struct sc_algorithm_id
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@529 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5eb1921a641d3baf1efe63f7ab56e40db3bfc5de
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:55:39 2002 +0000

    - new error code SC_ERROR_PASSPHRASE_REQUIRED
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@528 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77a2db5f5e3356ed060286aa3a501f88a4e7631c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:55:06 2002 +0000

    - Moved ASN.1 handling of AlgorithmIdentifier to separate file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@527 c6295689-39f2-0310-b995-f0e70906c6a9

commit f49cb6b0f1b8574558453f0fccaac4d6df49b54b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 17 08:54:36 2002 +0000

    - implemented encoding of OBJECT IDENTIFIER
    - enhanced support for encoding/decoding of CHOICE
    - moved encoding/decoding of AlgorithmIdentifier to separate file,
      and added encoding/decoding of algorithm parameters
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@526 c6295689-39f2-0310-b995-f0e70906c6a9

commit 789d88fb1236e91e8d48891325959299d850aa98
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 16 10:33:28 2002 +0000

    Minor Solaris fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@525 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7c9e5d667ed495cf3fc7b995b4fda5f93735fa22
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 15 18:03:45 2002 +0000

    Add stdlib.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@524 c6295689-39f2-0310-b995-f0e70906c6a9

commit 596220e82116eccb4bbfb7065a369226223216f4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 15 13:42:10 2002 +0000

    - pkcs15-init does not require openssl anymore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@523 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ec7a85e51349d87c45a074bb245e35e0ca37d6b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 14 13:52:58 2002 +0000

    libsc -> opensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@522 c6295689-39f2-0310-b995-f0e70906c6a9

commit 43ecd78941adefb8e803eec8cfbc5eb5f00ce956
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 14 12:43:47 2002 +0000

    - Fixed ACL handling in MioCOS driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@521 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f7fbf2b8ccbf3d49cfba21f0f8723b76e61ddc0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 13 19:00:37 2002 +0000

    - C_CreateObject now understands X509 certs (untested)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@520 c6295689-39f2-0310-b995-f0e70906c6a9

commit f5dc78bf440b196f2035a22744d5e074000d96b1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 15:53:05 2002 +0000

    - minor fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@519 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b8b355992cfb4d42e38727920b92d050afd1747
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 15:17:33 2002 +0000

    - implemented C_CreateObject for public and private key objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@518 c6295689-39f2-0310-b995-f0e70906c6a9

commit 881de42ca0702a771d7e3936ccb2f856da9cbd4c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 15:14:40 2002 +0000

    - changed to reflext pkcs15init_store_foobar update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@517 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55a14b0ebf78c811dcc2e1c70545bcd810a2e235
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 15:14:12 2002 +0000

    - all sc_pkcs15init_store_foobar functions now take an additional struct sc_pkcs15_object ** argument
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@516 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6119fc92e4c565a122eaeaeaf1a7e979351ec4d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 15:13:09 2002 +0000

    - avoid unchecked memcpy
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@515 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34a3912fdfb8d29d9dbdd94cd47abcfa8f199052
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 15:12:41 2002 +0000

    - in set_security_env, select the PK file prior to read_record
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@514 c6295689-39f2-0310-b995-f0e70906c6a9

commit cfe585e4792ae708e8cec55d814a9624bda53794
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 11 14:31:32 2002 +0000

    Remove openssh-3.0.2p1-patch.diff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@513 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3ec97d981568ab3da153b9cb885284759628238c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 10 23:10:47 2002 +0000

    - Added a missing file from a previous commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@512 c6295689-39f2-0310-b995-f0e70906c6a9

commit 87e27b00a4a1c67de4dd01d44c1cc3e5998eb8a4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 10 23:00:38 2002 +0000

    - Changed an error code as per Andreas' suggestion
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@511 c6295689-39f2-0310-b995-f0e70906c6a9

commit 52c433a7ae523fb31ce945a957fe2d0675ed1c03
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 10 22:25:44 2002 +0000

    - Added support for Aladdin eToken PRO; patch by
      Andreas Jellinghaus <aj@dungeon.inka.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@510 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ab6d49be9cec20bc0e86f6d1c6e51c3e2341bc8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 13:26:51 2002 +0000

    Minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@509 c6295689-39f2-0310-b995-f0e70906c6a9

commit 321c81571a95166490c3ecec6d4bc138a829b53e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 12:32:56 2002 +0000

    - Update ChangeLog
    - Update src/openssh/README
    - Removed obsolete patch for openssh-3.0.2p1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@508 c6295689-39f2-0310-b995-f0e70906c6a9

commit e09a184f7135dd161dca8d5bcc1511282e612106
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 12:20:07 2002 +0000

    sc-ssh -> opensc-ssh
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@507 c6295689-39f2-0310-b995-f0e70906c6a9

commit 91609ed93c7fa796d83a517e21b0643003b7fdf0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 11:34:00 2002 +0000

    Free memory
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@506 c6295689-39f2-0310-b995-f0e70906c6a9

commit 644f4b0c7ef3dc17a15b6cc86eb9eeb4cec41867
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 11:24:33 2002 +0000

    - Revert previous patch since it leads to a sigsegv if we
      parse file multiple times. Damn it, so lex allocates a 16kB
      buffer that it won't free any time. At least this could be
      solved some other time by rewriting a separate line parser
      without lex.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@505 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9b2a5fe7272f31bc0220bb465a659be319bf2894
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 11:01:04 2002 +0000

    Free yy_current_buffer since lex doesn't do it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@504 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45e882f11fd0b73eac240444fcc0914c033646af
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 9 10:59:40 2002 +0000

    - Added a missing include file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@503 c6295689-39f2-0310-b995-f0e70906c6a9

commit 53a112eda223cb8f7f06269208238aac5bb3ab72
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:51:19 2002 +0000

    - implemented C_InitPIN (based on pkcs15init)
    - C_Login now understands the SO PIN.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@502 c6295689-39f2-0310-b995-f0e70906c6a9

commit 72856a7c04b4109291a2fad57c0a8df6d7de804c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:50:11 2002 +0000

    - cleanup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@501 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec35a9215a23f016ac4a9ada31cb50d1103c6bd3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:50:02 2002 +0000

    - free some more memory in sc_profile_free
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@500 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01d4f00dea49e4343d5fae28dd6f4b5208567a41
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:49:39 2002 +0000

    - SO PIN is now optionally: if you want to use it, pass a PIN to
      sc_pkcs15init_add_app. If you don't, don't.
    - sc_pkcs15init_erase_card checks whether the erase_card funcion ptr is NULL
    - check SO pin len in sc_pkcs15init_add_app
    - In sc_pkcs15init_store_pin, if the caller didn't specify the auth_id,
      select one automatically
    - added sc_pkcs15init_unbind
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@499 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e11f90b22e97c8a38c7d03ecfca78245065f8ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:46:44 2002 +0000

    - added sc_pkcs15init_unbind
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@498 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59cd95af2c31e5480eed2c3594fe83a442bc1d7b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:46:27 2002 +0000

    - SO PIN path was not propagated to the caller
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@497 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d47103692fb40df4a3060c7f187c73fae65b174
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:45:28 2002 +0000

    - implemented sc_pkcs15_find_so_pin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@496 c6295689-39f2-0310-b995-f0e70906c6a9

commit 01e506e5edb0cb1a8c2f5664e0ead5ddebeaa9e0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 15:45:13 2002 +0000

    - When the application selected the EF, then the container DF, all
      PIN info would be lost.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@495 c6295689-39f2-0310-b995-f0e70906c6a9

commit b504fa07202f1c7ef3c3353953eb8bc30268bc38
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 14:57:20 2002 +0000

    Remove scam_framework_ops->atrs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@494 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13ab0f59937b8f2d64cf25fc67c294acfc5d4160
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 09:29:37 2002 +0000

    - store SO PIN entry in AODF
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@493 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f8790e22ee8d5de0b0ec41ee87eaa24e3ef5b28
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 09:29:15 2002 +0000

    - textual pin flags; defer pin file lookup until sc_profile_finish
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@492 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24a45e2aad27e6422c9c68ce75e13d4e6b5a59df
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 09:28:26 2002 +0000

    - implemented SO PIN handling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@491 c6295689-39f2-0310-b995-f0e70906c6a9

commit c57272353ad0e2e1e1cb716a24b6517d2c921eb9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 09:28:02 2002 +0000

    - enable SO PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@490 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e3a42fba0144c4ff3c57be64d7302382268b57f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 09:27:48 2002 +0000

    - add pin descriptions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@489 c6295689-39f2-0310-b995-f0e70906c6a9

commit 517395b2eb45483eb515b94e04650898f0da2d81
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 09:23:17 2002 +0000

    - pin flags were not encoded correctly
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@488 c6295689-39f2-0310-b995-f0e70906c6a9

commit be9518e8a681fbf02cb1d48eb22ba5446adea019
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Apr 8 08:27:34 2002 +0000

    - Upgrade all modules to store method specific internal
      data to scam_context->method_data
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@487 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23fa9aeed49c5336abadbf78c903ba10e948d528
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 7 19:36:59 2002 +0000

    Started to rewrite parts of scam:
    - Combine lib{pam,sia}scam into libscam
    - Get rid of the need for handles, printmsg
      and logmsg in the scam_framework_ops
      structure.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@486 c6295689-39f2-0310-b995-f0e70906c6a9

commit 60fc3811ebf782b2f0ed3622df03488ff591e1d0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 7 13:15:31 2002 +0000

    - Added support for user-defined serial numbers in
      pkcs15-init and PIN flags in profiles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@485 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2936e46e129fdcb6f40dff530687fcc703655974
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Apr 7 10:21:00 2002 +0000

    Warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@484 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5259182d3efe18938b0fb3c67e8c17903d31547c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 15:04:14 2002 +0000

    - Changed CLA byte to 0xA0 in miocos_delete_file()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@483 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74d0b3d729e69c5a27611ee04dd4731c2978dbb5
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 14:52:50 2002 +0000

    - Added user PIN finding to sc_pkcs15init_store_certificate()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@482 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b344d3ee4b52ba8a346777acb2c4270294bca12
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 14:21:40 2002 +0000

    - Added certificate templates
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@481 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e9d1470ae67a753c757000ec1bbfbc7e1f5bcec
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 12:14:11 2002 +0000

    - Added PCKS #15 ASN.1 module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@480 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e0b7dea2c9a1b267be6acd8f29124d7910fa4e2
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 12:02:28 2002 +0000

    - Divided errors into different groups, added new ones
      and renamed some
    - Moved sc_strerror() to errors.c
    - Added a 'sensitive' flag to struct sc_apdu
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@479 c6295689-39f2-0310-b995-f0e70906c6a9

commit f781a14ae43ca0fa0e759f3ed0bcfb525f497d26
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 08:21:40 2002 +0000

    Fix some typos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@478 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6efa88796f15838606cd692e5cfac6e2989170b3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Apr 6 08:02:58 2002 +0000

    Add errors.h and types.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@477 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26d2f25b76e471aca7d80556972177582b2ac421
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 18:49:03 2002 +0000

    - include/opensc fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@476 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7e5af944550ecf9cf278a5289d9a6947061c100b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 18:19:53 2002 +0000

    - C_InitToken: after creating the application DF, switch to the
      normal pkcs15 framework on the fly and mark all tokens as initialized.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@475 c6295689-39f2-0310-b995-f0e70906c6a9

commit 11c937991bbe4b3bff2af5ae57ab5fdf6bcd26a9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 18:10:17 2002 +0000

    Change calling convention for sc_module_close()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@474 c6295689-39f2-0310-b995-f0e70906c6a9

commit ddb49064d649bcfcbd3edfeb17aef7b77a72ac41
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:51:34 2002 +0000

    Minor warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@473 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0875849c6115074348f174386bc5b531fe3b52e5
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:06:33 2002 +0000

    - Started to split opensc.h into smaller parts
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@472 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23ff14fb06fcb09de0d58071dbc6ae2b653a27fc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:04:35 2002 +0000

    - added erase command
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@471 c6295689-39f2-0310-b995-f0e70906c6a9

commit d4ee9df5ceb648f8447adfd89d61dd98bbbfe380
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:03:03 2002 +0000

    - added new pkcs15init framework that implements C_InitToken
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@470 c6295689-39f2-0310-b995-f0e70906c6a9

commit 829e7f67126f8e4bb0664907db8dd4879212e76c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:02:41 2002 +0000

    - added initialize() function to card ops vector
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@469 c6295689-39f2-0310-b995-f0e70906c6a9

commit d28bb6082ac416db8cbfa0c6c313ae2ed9952355
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:02:18 2002 +0000

    - Added C_Initialize
    - Minor bugfix in C_Finalize
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@468 c6295689-39f2-0310-b995-f0e70906c6a9

commit 84943898b9048f62428d96a0fd8fcc187de78472
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 15:01:43 2002 +0000

    - add CKF_TOKEN_INITIALIZED flag
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@467 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1a8dc8c23b07bc491bfd85784c7fdf599d86d87
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 14:56:21 2002 +0000

    - implemented sc_pkcs15init_get_{serial,amnufacturer}, fixed bug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@466 c6295689-39f2-0310-b995-f0e70906c6a9

commit 65d82412cb44b3642424273fa5f7d86ad045da39
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 14:55:37 2002 +0000

    - try to free all memory we allocated
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@465 c6295689-39f2-0310-b995-f0e70906c6a9

commit 93ee58e07eb64ac7d2bd0e4ff5968b53957e9a54
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 14:55:07 2002 +0000

    - during add_app, just complain about SO PINs but don't error out
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@464 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22636c2df9e57e71c19ccc8e8f1909de43b5117a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 14:46:44 2002 +0000

    - Added SC_ERROR_FILE_ALREADY_EXISTS
    - Changed call convention for reader finish()
    - CT-API driver now frees its resources correctly
    - Added year 2002 to some of the copyright statements
    - sc_pkcs15_decipher() and sc_pkcs15_compute_signature()
      now select only the parent DF of the private key file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@463 c6295689-39f2-0310-b995-f0e70906c6a9

commit a23faf7a8ae1dbf0793a9cc45041539a207f338b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 14:23:07 2002 +0000

    Symlink all necessary headers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@462 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41b184855b95b89f366c8f0ce72e016749b67c07
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 14:00:27 2002 +0000

    - Fixed a bug in sc_pkcs15init_bind()
    - Added PIN code padding in do_verify_pin()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@461 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3938287c7136d2ebbca5be43d95faa15ebb35d18
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 13:49:52 2002 +0000

    Add missing directory
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@460 c6295689-39f2-0310-b995-f0e70906c6a9

commit 076a26bbac49e7b3e0faa8e3f129ce6c48155569
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 13:48:00 2002 +0000

    Rework the header structure
    
    Currently fails to compile, unless you symlink
    all the necessary headers to src/include/opensc
    by yourself.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@459 c6295689-39f2-0310-b995-f0e70906c6a9

commit d81d10ba9013aa7ed9a733c7abb45ea7e578ee5f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 10:44:51 2002 +0000

    Upgrade sources to use new headers, part #1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@458 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97faef3c6f60dd1dbcbafb8dde8845b2f9b6d7e7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 10:37:29 2002 +0000

    Obsolete.
    
    opensc-emv.h, opensc-pkcs15.h --> emv.h, pkcs15.h
    sc-asn1.h, sc-internal.h, sc-log.h --> asn1.h, internal.h, log.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@457 c6295689-39f2-0310-b995-f0e70906c6a9

commit fbf86e6728fc34d7a1cc7f0346b1c251946b4651
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 10:25:14 2002 +0000

    Install headers to ${prefix}/include/opensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@456 c6295689-39f2-0310-b995-f0e70906c6a9

commit 10e95ba4b66df6101cc29105d4b05716367c30f0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 10:06:10 2002 +0000

    - don't include profile.h anymore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@455 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1b113614b33d18685c82312f56b416a39efc31ca
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 10:05:50 2002 +0000

    - miniscule API changes so that applications don't need to include profile.h anymore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@454 c6295689-39f2-0310-b995-f0e70906c6a9

commit 33890a1545b3dcfdd42d60ebbb54a6f2591fba73
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Apr 5 08:45:14 2002 +0000

    - file type is now also a struct map
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@453 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc444cde54b25b1f1b1ec74b0b4fa0ed173cbd02
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 22:10:36 2002 +0000

    - Cryptoflex now works with the new pkcs15init stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@452 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb2532c0d18d5e3904bca159cc320170697fcdcd
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 20:49:21 2002 +0000

    - Small typos corrected
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@451 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5496e9be9ebd42dbdba9948dd58c16705b3c7c8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 20:42:29 2002 +0000

    - Partial support for PKCS #15 generation on MioCOS cards
    - Some other small fixes to the pkcs15init code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@450 c6295689-39f2-0310-b995-f0e70906c6a9

commit e172e6678d06fe28c3f092d9bee2849bafacac7b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 20:40:40 2002 +0000

    - Cleaned up MioCOS driver and added PIN code creation
    - Added an error message in case ODF parsing fails
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@449 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b4912931199f71bf980fbb6d5c4bec7f9b63c9b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 20:38:09 2002 +0000

    - DER decoder now treats 0xFF tags the same way as 0x00 tags
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@448 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1446fc11e1f309cd6d4c21b50047fa13eb3b8554
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 20:37:27 2002 +0000

    - Made clearer the error message resulting from an incorrect PIN code entry
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@447 c6295689-39f2-0310-b995-f0e70906c6a9

commit 059813818bf9b59680bb69a2ec8931bd835964af
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 19:58:23 2002 +0000

    - the previous fix broke do_verify_pin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@446 c6295689-39f2-0310-b995-f0e70906c6a9

commit 984b5b2a2bf4c2ce4afd5f69e11a33997090b98c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 15:06:13 2002 +0000

    Minor warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@445 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1ef47d245b94ffed9830d04253b5459ba69cbd27
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 15:02:08 2002 +0000

    Workaround for a compiler problem (Sun WorkShop 6 update 2 C 5.3 Patch 111679-05 2002/02/07)
    
    Still lots of bogus warnings, but at least everything compiles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@444 c6295689-39f2-0310-b995-f0e70906c6a9

commit 218b784f0de498f87f8f1bbc325f67c3caafbf3e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 14:34:42 2002 +0000

    - added internal-ef for juha
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@443 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9e31eb6f74540ca6ad2783902fefdbc53d13d9f6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 14:21:04 2002 +0000

    Checkpoint commit for SIA support, doesn't work yet
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@442 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6f197a035d0826d52b70ba85daa458a02fcb4665
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 12:44:57 2002 +0000

    Fix minor compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@441 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d055a17a3ef7287c6807a92cfb41d6df9fafefe
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 11:14:07 2002 +0000

    Update TODO and Changelog
    'make dist' fixes
    Add missing README for OpenSC-Signer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@440 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ba3237c35835605aa0d90a4d2f79ff6b7432717
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 10:56:37 2002 +0000

    OpenSC-Signer merge complete.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@439 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c3c1638624aa3ba4fa8310eadc4b2e5565008ea
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 10:40:24 2002 +0000

    Merge opensc-signer to opensc/src/signer, part #1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@438 c6295689-39f2-0310-b995-f0e70906c6a9

commit d232bf29dd81addd32f30413f7148a255819a96b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 09:20:44 2002 +0000

    - ctapi_release() now calls CT_close(), as it should
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@437 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0fe85e656345fe93503996861519333c021d648a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Apr 4 09:20:19 2002 +0000

    - Added typedefs for the most common structs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@436 c6295689-39f2-0310-b995-f0e70906c6a9

commit 28fc4bc0cdc939672616dd97e62c822d2d4b66bf
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 14:16:19 2002 +0000

    - fixed a typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@435 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5cba842fdeeb744a7e249af40254470bee49a57c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 14:15:03 2002 +0000

    - shouldn't set key_reference
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@434 c6295689-39f2-0310-b995-f0e70906c6a9

commit fef2ac364c1f2973649df4b85f0dfcf01cdc9010
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 12:59:53 2002 +0000

    Minor warning fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@433 c6295689-39f2-0310-b995-f0e70906c6a9

commit b90104b1dee1f3d720f8830498565c0f3645f5e7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 12:53:14 2002 +0000

    - renamed PKCS15-DIR to DIR per juha's request
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@432 c6295689-39f2-0310-b995-f0e70906c6a9

commit 803124d55dbb4d41fb7346c5ad57d93e4605e370
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 12:46:26 2002 +0000

    - moved gpk specific MF ACL to the gpk profile, where it belongs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@431 c6295689-39f2-0310-b995-f0e70906c6a9

commit 966903811c64416a4e32055a89c3f755cd9aaf2e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 11:57:58 2002 +0000

    - updated TODO list
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@430 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d687de06fd81149e94fdd08b334f2cd585fc3e2
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 11:56:59 2002 +0000

    - fixed exit code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@429 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae8e3908c46726a941fd1c00facc1bfd73b68d28
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 11:55:21 2002 +0000

    - rewrote config files to match new parser
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@428 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3b16e35af139484c183786fb6dd4f10e464dc9fe
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 11:52:30 2002 +0000

    - rewrote parser to use Antti's scconf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@427 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0683b3463f5f2976092f1296e85d37796e57dcdc
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Apr 3 11:51:07 2002 +0000

    - added two new error codes for pkcs15init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@426 c6295689-39f2-0310-b995-f0e70906c6a9

commit 369889ace566ffaf2ef9cd68b2601e903fdf2be8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 21:26:42 2002 +0000

    - fixed a small bug regarding prop_attr in the SetCOS driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@425 c6295689-39f2-0310-b995-f0e70906c6a9

commit edfb4dd7f0f6583fba93341d80bdac8177d440b5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 20:58:18 2002 +0000

    Minor compiler warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@424 c6295689-39f2-0310-b995-f0e70906c6a9

commit 776fa9030c0d4e60418aac5afbaf9340a47750c1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 14:46:32 2002 +0000

    - support for SO pin during app initialization
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@423 c6295689-39f2-0310-b995-f0e70906c6a9

commit f4ff4f461794f5e51c217fe355034e958e0f523b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 14:45:55 2002 +0000

    pkcs15-gpk.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@422 c6295689-39f2-0310-b995-f0e70906c6a9

commit efa136e3cd3caeef8a1955c1b148e998698bfbf7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 14:27:00 2002 +0000

    - added sc_pkcs15init_present_pin for juha
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@421 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e6525539af1e165fdfcbc652e3f09000a482bc0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 13:43:37 2002 +0000

    Add .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@420 c6295689-39f2-0310-b995-f0e70906c6a9

commit d5100f065c2f2ba3c5a134a2ba6af78fc7e67410
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 13:38:57 2002 +0000

    Generate src/pkcs15init/Makefile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@419 c6295689-39f2-0310-b995-f0e70906c6a9

commit 517f19ca17e18b664e7e2e099b77d104e7c38773
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 13:30:01 2002 +0000

    - added new subdir pkcs15init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@418 c6295689-39f2-0310-b995-f0e70906c6a9

commit c90dfd18e995e5cc82f8f7a71ccf03cfec44eda4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 13:29:30 2002 +0000

    - moved most of the pkcs15init stuff to libpkcs15init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@417 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1f2403d61ff4fc919a24f7b27da9af114dc7a7f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 13:28:31 2002 +0000

    - rewrote pkcs15-init; much of the init stuff moved to separate library
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@416 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6bf368fd287d263d3331246c22a339fc66637ee
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 13:26:42 2002 +0000

    - rewrite of the pkcs15-init stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@415 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4c48335672878b1d52382d2c13896b12360f50ea
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 12:58:09 2002 +0000

    - sc_pkcs15_get_objects() now lets you search for generic types
      (e.g. SC_PKCS15_TYPE_PRKEY) too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@414 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a87a5c1567ac3f6d966cd9c16e3087cf9d5a0da
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 12:57:17 2002 +0000

    - added SC_AC_SYMBOLIC for pkcs15init support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@413 c6295689-39f2-0310-b995-f0e70906c6a9

commit 98c612fc25729c94ea1fa54ebb8eb18ef77de81f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 11:41:00 2002 +0000

    - indentation fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@412 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5a824f3fab7a498a52a863d633145f0916ade944
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Apr 2 09:38:06 2002 +0000

    Add maintainer-clean patch by Andreas Jellinghaus <aj@dungeon.inka.de>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@411 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2a10c12e7164a198b278d839d0c0a2842ecf766
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 31 19:15:04 2002 +0000

    Remove flag SCCONF_OPTIONAL, add SCCONF_MANDATORY
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@410 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fbf01e87d2dbf584ca3de1c942049068594b891
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 31 16:32:07 2002 +0000

    Remove #include "config.h", sc-internal.h already does that
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@409 c6295689-39f2-0310-b995-f0e70906c6a9

commit 70306822d260f69a5f02537968548930d62fdfbb
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 31 16:00:29 2002 +0000

    Include header stdio.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@408 c6295689-39f2-0310-b995-f0e70906c6a9

commit b308cabd5f8ea01555fe70bd74a96936c8e53f71
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 31 15:26:25 2002 +0000

    - Upgrade scldap to use scconf_parse_entries();
    - Fix compiler warnings for ct-api driver, untested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@407 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9f44ecde33030f65e1ac4ef429d618d49f87916
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 31 13:00:41 2002 +0000

    Upgrade test-conf to use scconf_parse_entries();
    
    NOTE: Handles ldap/card blocks for scldap.conf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@406 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb7b050a1d5e33fc964365efed1bc65b164a6a2b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 31 11:30:54 2002 +0000

    Add functions scconf_list_add and scconf_parse_entries,
    getting the values in user code is now pretty much the
    same as it is in ASN.1 decoder.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@405 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ddcb3d6922f870ac114e7169f739151e89a8143
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 28 14:13:36 2002 +0000

    - sec_attr and prop_attr are now dynamically allocated in
      struct sc_file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@404 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88530c8dbacf4ff8a9fa7a10c032e0034e2959aa
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 28 13:34:51 2002 +0000

    - Added sanity check for sc_establish_context.
      If no readers are found, fail and return
      SC_ERROR_NO_READERS_FOUND.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@403 c6295689-39f2-0310-b995-f0e70906c6a9

commit e589a94aac45c4a720a16550bf3b2926d8b096df
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 28 13:10:53 2002 +0000

    Add missing @LIBDL@ to libopensc linking
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@402 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f6ffee6a9e380169963d9899a13f0730038fcde
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 27 13:13:54 2002 +0000

    - Minor cleanups to build process
    - Add header check for dlfcn.h
    - Add internal functions sc_module_{open,close,get_address}
    - Use environ instead __environ for scldap_search, should be
      more portable.
    - Fix compiler warnings noticed by Tru64 / AIX cc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@401 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86a47efdec90e63f74fbe98e52b20abbb4917db9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 26 23:06:47 2002 +0000

    Reduce the scidi specific code to bare minimum
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@400 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d017e7f02e08e0329eab50a4fcd96a3ac23bf56
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 26 20:59:15 2002 +0000

    Add missing character
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@399 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19f7f1073a7e5ab9b7c40a2704feafd649a0d593
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 26 20:56:13 2002 +0000

    Rename scconf_init to scconf_new
    Rename scconf_deinit to scconf_free
    Add initial comments to scldap.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@398 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4502555bcc887e7d5cc19bd5a5c2ae416601b8be
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 26 20:05:28 2002 +0000

    - fix signing of raw md5/sha1 hash w/o pkcs1 gunk prefix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@397 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59d4e9b7bee8de5fa321d86d2c3b65a4a7fdc75e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 26 11:38:40 2002 +0000

    - Added support for CT-API
    - Improved config file loading
    - Implemented ATR parsing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@396 c6295689-39f2-0310-b995-f0e70906c6a9

commit b2d2bc77aee5ba3aa379e5bbb36b5251511ea9fb
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 25 22:39:22 2002 +0000

    Rename scconf_find_value to scconf_find_list
    Rename scconf_find_value_first to scconf_get_str
    Add functions scconf_get_int and scconf_get_bool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@395 c6295689-39f2-0310-b995-f0e70906c6a9

commit c69d1b59df32ec1588bea6bcb8c7407290a1c384
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 25 21:23:32 2002 +0000

    Always allocate scconf_list for block structure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@394 c6295689-39f2-0310-b995-f0e70906c6a9

commit aa5ec6bae1e578714e67faa3ec5ee0032ca95849
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 25 20:10:44 2002 +0000

    Add sanity checks and more comments
    Add new parameter for scconf_find_blocks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@393 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc170197d142387792895d4c419db3c7debb741a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 25 12:39:35 2002 +0000

    Add support for config.h
    Remove old, obsolete and dead code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@392 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfe2df234179cb43277b7130c83820a02f2fe223
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 25 11:54:10 2002 +0000

    Still changes for libreadline checks output
    Clear environment before calling ldap_init, as suggested by Olaf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@391 c6295689-39f2-0310-b995-f0e70906c6a9

commit 262b1d79d9f30b78f591dff43406479466bcfe1a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 25 10:19:57 2002 +0000

    - pick up -lresolv on systems with glibc 2.2.4 (needed by openldap 2.x)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@390 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0356c0363798cc47f6232c3aa009cd68594af570
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 23:20:59 2002 +0000

    - updated TODO
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@389 c6295689-39f2-0310-b995-f0e70906c6a9

commit c730a4dab7445f917ef495f9f6086edfa64c8bb8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 22:54:41 2002 +0000

    - fixed some memory leaks in sc_establish_context
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@388 c6295689-39f2-0310-b995-f0e70906c6a9

commit cd4e3650a4038f154a48c8da372f47516fa1d6df
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 22:47:35 2002 +0000

    - Moved functions from sc.c to ctx.c
    - Card and reader drivers are now configurable
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@387 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec6f8961b02f0afc28d4aefdb5987afedab4ef75
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 21:56:13 2002 +0000

    Don't hardcode initial debugging level and error/debug_file
    pointers to the code, get the values from opensc.conf instead.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@386 c6295689-39f2-0310-b995-f0e70906c6a9

commit 441bbb5265fd0c72b46cd0ab567b45dfaeecae73
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 20:30:53 2002 +0000

    Add missing AC_MSG_RESULT texts to libreadline check
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@385 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2142557bb84d144df0089500c06ed8d4b8c23b5c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 20:04:45 2002 +0000

    Allow user to specify input/output filenames
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@384 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8cc8ea1e6ea638eee98d179479609000a176baa0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 17:50:20 2002 +0000

    Fix syntax errors
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@383 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d27225e0ce2f11cdceb45dfe733b444b1b3464a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 17:09:47 2002 +0000

    Oops, scconf_parse was called twice. Fixed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@382 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21aae9c4d0330d348ff1fff0cadc60687ba15974
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 16:57:39 2002 +0000

    - Fix a potential segfault for the new sc_establish_context
    - Keep the variable names in opensc.conf the same as they
      are in code structs.
    
    Always try to parse app default { } first, then upgrade
    the settings with the application specific configuration block.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@381 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cad904c8633793a6a5503e3d89469e97cd966b2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 15:41:33 2002 +0000

    Move opensc/src/scldap/etc to opensc/etc
    SCLDAP_CONFIG -> SCLDAP_CONF_PATH
    Upgrade the rest of the programs to use new core API
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@380 c6295689-39f2-0310-b995-f0e70906c6a9

commit 22dd703c0b22cb0af6cd00bdcb766c6c0f321261
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 14:15:11 2002 +0000

    - second version of the default config file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@379 c6295689-39f2-0310-b995-f0e70906c6a9

commit f21926af0073534835631640bbe77e52593f26ed
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 14:12:38 2002 +0000

    - Started to add configuration file support to
      libopensc
    - Added typedefs for some basic structs (e.g.
      struct sc_card --> sc_card_t)
    - Added a second argument to sc_establish_context()
      to identify the calling application
    - Renamed sc_destroy_context() to sc_release_context()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@378 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffe0282a93bccd4a955767333d3f1f0948e9cde4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 14:06:40 2002 +0000

    - fixed a typo in one ATR string
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@377 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9ee0ff146e49bf51923418f5b2522facab12a6b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 12:14:19 2002 +0000

    - Fix compiler warnings for Solaris
    - Use of PAM_MODULE_UNKNOWN broke pam_opensc for Sun based
      PAM implementations, fixed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@376 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7400bb9ee3f61c1926ebd7bc654cf91cd7fe5c07
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 24 10:03:47 2002 +0000

    Make sure everything compiles even if we don't have
    an LDAP implementation and/or OpenSSL library.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@375 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69393c9bbee18b760e7257d34e38fa9fa5e9ac5f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 23 19:37:40 2002 +0000

    Restructuring and merges with scidi
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@374 c6295689-39f2-0310-b995-f0e70906c6a9

commit fc4025e90d6949cddb21be2adc55c82c1d6b60e7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 23 16:28:16 2002 +0000

    Strip off "opensc-" prefix from the p15 module names
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@373 c6295689-39f2-0310-b995-f0e70906c6a9

commit 77c94c2793ceda54e3ba29b4b210a4addbb8f960
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 22 13:56:44 2002 +0000

    'make dist' fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@372 c6295689-39f2-0310-b995-f0e70906c6a9

commit a7c5e4e9e29bbbe8229438270420789fc3335d41
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 22 09:50:04 2002 +0000

    Test if Makefile exists before doing make distclean
    Remove --gnu from autoreconf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@371 c6295689-39f2-0310-b995-f0e70906c6a9

commit 94feddd9f5c57d9c771af6a30d9ca45431ef1b12
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 22 01:14:20 2002 +0000

    Disable a debugging message that got activated because of
    log_messagex -> fprintf renames.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@370 c6295689-39f2-0310-b995-f0e70906c6a9

commit 50e266567aa5a81fc84f3d2b812a24cc0c637e07
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 22 00:13:25 2002 +0000

    Fix memory leaks
    Indent lines
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@369 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e3a09fa7b61571e45ed01b279e4619928ace2b9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 23:45:03 2002 +0000

    Remove bogus "len = len;" statement from pkcs15-cert
    Other minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@368 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b4a2fd5995325446d0c107525f40248e97b1a21
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 19:12:40 2002 +0000

    Merge bits of information from pam_pkcs15's README for opensc-pkcs15-eid
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@367 c6295689-39f2-0310-b995-f0e70906c6a9

commit dfb2e43cd560db89427166627b2f0c84331b902a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 18:37:27 2002 +0000

    Fix a typo
    Add missing conditional
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@366 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8628df17b55c89b8554a8cb01e20fb4b983cbf4c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 18:02:23 2002 +0000

    Move get_login() to pam_support.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@365 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0cfbcb8fd6377a71534aa8812a4aee169699ae8e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 17:41:32 2002 +0000

    Cleanups for PAM and SIA build process
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@364 c6295689-39f2-0310-b995-f0e70906c6a9

commit 504b0ae2b9d4b849385ef5283e8a97034047ed09
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 14:05:24 2002 +0000

    Merge configure.ac stuff from SCIDI, needs some cleanups
    Add missing functions
    Replace log_message{x}() calls with fprintf, for now
    
    Everything compiles with vanilla opensc tree, yet untested.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@363 c6295689-39f2-0310-b995-f0e70906c6a9

commit dc50994696a10f057f43842ccfdf74ecdd41400e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 13:11:21 2002 +0000

    Build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@362 c6295689-39f2-0310-b995-f0e70906c6a9

commit beb361fcb9d12a02a867cfa432be729e8c2d19af
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 11:56:01 2002 +0000

    Add preliminary version of SIA module for Tru64
    
    Compiles, doesn't work yet. To be finished when
    someone returns my development alpha. :)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@361 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20121316a7814faa5187a388cabc6792af360c72
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 11:35:06 2002 +0000

    Oops, indent fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@360 c6295689-39f2-0310-b995-f0e70906c6a9

commit b50a0c7bf773a9a87cca3cee209a4e948dea074f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 10:43:38 2002 +0000

    Build fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@359 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5006b0d15184f41533cf0dc12ffcd42df222926e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 21 09:36:38 2002 +0000

    - added some #include string.h statements for RH 7.2
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@357 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0f95c1c6de9b4079882aa3fe4ddd698da41dfa8e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 23:21:22 2002 +0000

    Start merging various sources from project SCIDI - smart card
    identification infrastructure by Helsinki University of Technology.
    
    Breaks current PAM build, lot's of stuff from configure.ac
    missing, some references to unknown sources and functions.
    
    Time to get some sleep, i'll continue merging tomorrow.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@356 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea57d9af7477e2be2c756331e16abab4c4686715
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 19:37:07 2002 +0000

    - Bumped up version number to 0.6.1
    - Wrote a NEWS entry
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@354 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34af339510991596e74a3c50f7c073d31a7dc532
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 19:33:52 2002 +0000

    #include cleanups to get rid of compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@351 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7b6371dae1ffe88d15c7e2721d0da9a10702100c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 19:31:56 2002 +0000

    - Added Olaf's ASN.1 wrapping magic
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@350 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac3c33d26c8fea93820302c74875d22c92339b42
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 17:17:48 2002 +0000

    - Fixed debug output in pkcs15_create_slot()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@349 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7952f81721278ffdf36e8789af8da5d8a797eab9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 15:04:14 2002 +0000

    - implemented C_ChangePIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@348 c6295689-39f2-0310-b995-f0e70906c6a9

commit 853d414fc34512143470b7de5cf6db9207d047e9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 13:08:51 2002 +0000

    - implemented CKA_SUBJECT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@347 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8f07d6706dfe09beeba531bf2c44b4a2400004ed
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 20 13:08:09 2002 +0000

    - now extracting issuer from certificate
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@346 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3fa7a056f15cf86511b25644dbedadfaea7f3b10
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 19 10:04:11 2002 +0000

    - Fixed a couple of memory leaks
    - Fixed a bug in decoding EF(TokenInfo)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@344 c6295689-39f2-0310-b995-f0e70906c6a9

commit e630a05dd5e5c3dabb0baa86c2aa47607a38fd01
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 18 13:24:06 2002 +0000

    - make it compile with readline versions that declare readline(char *);
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@343 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21911ebf4cf00a9ec9c531fdf4ec5185463fe56a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 18 12:49:46 2002 +0000

    - by default, the token is marked write_protected
    - fixed debug output when creating a slot with no PIN
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@342 c6295689-39f2-0310-b995-f0e70906c6a9

commit f82c470cb545082c8958fafc7175827a6fea0000
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 18 12:49:08 2002 +0000

    - do not enable the RSA flag n netscape
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@341 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51ccfe79f43e51fa677f7faf234d4d188ef54de0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 18 11:05:21 2002 +0000

    - made email decryption work in netscape
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@340 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6953286d016504abfae3dcb41f096422a5746512
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 15:22:41 2002 +0000

    - first stab at C_Unwrap
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@339 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d6cf8fa81c59924632aec7f3d5e299f82839a60
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 15:19:34 2002 +0000

    - extract certificate issuer and store it in sc_pkcs15_cert
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@338 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3b521a70478b8e9a9703a7eb5dd8a5ac632a63b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 12:48:06 2002 +0000

    - started adding support for DSA private keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@337 c6295689-39f2-0310-b995-f0e70906c6a9

commit 563515dc46db23074e0f0a5bfb7a05b84a4bb278
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 12:37:31 2002 +0000

    - email signing now works from navigator
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@336 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6d4988f12a31cc52287815667b7efdda65d6325f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 11:41:16 2002 +0000

    - set debug log file and libopensc debug level via environment vars
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@334 c6295689-39f2-0310-b995-f0e70906c6a9

commit c5e53429cde15ade3296a54e7d3f0c274db9b578
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 10:40:35 2002 +0000

    *** empty log message ***
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@333 c6295689-39f2-0310-b995-f0e70906c6a9

commit 67ffdfa2137b322c866265dfe17f1d7704c7d6a5
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 10:10:33 2002 +0000

    - Added support for big serial numbers in certificates
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@332 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3838af2bd76196f97a58465ae665d48e2d6a65a7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 10:05:20 2002 +0000

    - now uses sc_pkcs15_free_pubkey
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@331 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41cd4c4d2cca78a2537880d2aa0c1ca0df61db37
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 10:01:25 2002 +0000

    - implemented sc_pkcs15_free_pubkey
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@330 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ec8498962bb9d6b9f28d4b5198909fd9cf01d80
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 09:43:31 2002 +0000

    - removed SC_CARDCTL_GET_PK_ALGORITHMS card_ctl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@329 c6295689-39f2-0310-b995-f0e70906c6a9

commit ccb6bb1b1c3dd0f65ad803ecf7f466ed5148dca9
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 09:43:10 2002 +0000

    - implemented decipher() operation
    - removed SC_CARDCTL_GET_PK_ALGORITHMS card_ctl
    - minor signing fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@328 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6ca0cb108c7ebfa15238c8c9bdbc5bda3933df00
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 09:42:07 2002 +0000

    - moved sc_decipher implementation to iso7816.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@326 c6295689-39f2-0310-b995-f0e70906c6a9

commit c6a9091f67e73429f621be28cb76cdf6534070ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 15 09:01:11 2002 +0000

    - fixed PEM public key header
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@325 c6295689-39f2-0310-b995-f0e70906c6a9

commit 879690f6f470454fbedc3491874cad46cf4ada62
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 14 17:02:08 2002 +0000

    - add option --md5
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@324 c6295689-39f2-0310-b995-f0e70906c6a9

commit a42a47ea33916c255bee1ff93716bea13f49ba60
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 14 16:57:20 2002 +0000

    - list and extract public keys
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@323 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3161964a4b78f1daa75b6d8d5b8ce79b5c260681
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 14 11:50:48 2002 +0000

    Add missing static for parse_tokeninfo();
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@322 c6295689-39f2-0310-b995-f0e70906c6a9

commit bf5f0f6fe12b7ff0dfb809ea74b632c07aa986c0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 14 11:50:09 2002 +0000

    - fixed a typo that caused bad auth_id's
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@321 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04e929da00e4d5babcf2cc09c6e160c031c69ea4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 23:11:25 2002 +0000

    Fix minor compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@320 c6295689-39f2-0310-b995-f0e70906c6a9

commit f3b7c99e1a42ced1feef221642df8deb84a12fd1
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 20:25:37 2002 +0000

    - if the offset shift is 2 in update binary et al, make sure the
      application provided offset is a multiple of 4.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@319 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca2f725f053f1be784bd54bf634a5a678e118018
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 20:24:31 2002 +0000

    - make sure SC_APDU_CHOP_SIZE is a multiple of 4 (otherwise, update binary
      et al of large files will fail on the GPK)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@318 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55dd227587b2af9020bc54f3daf5dd9ee73bafd7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 20:23:18 2002 +0000

    - fixed certificate download
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@317 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1a3e6cfb33f6b81b1bd54895ca55c59c7db0a44
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 15:18:43 2002 +0000

    Add missing files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@316 c6295689-39f2-0310-b995-f0e70906c6a9

commit c17b3eb940f225114f8f1aa90e76a9f664a8f573
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 13:21:15 2002 +0000

    - added docs/Makefile to AC_OUTPUT
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@314 c6295689-39f2-0310-b995-f0e70906c6a9

commit 308bffc583c21b492ad5770c396ba3cc4be44a7b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 13:17:13 2002 +0000

    - removed README.Cryptoflex from EXTRA_DIST
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@313 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8448298519d7c1b823d4f0aa0148a29649888be3
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 13:09:51 2002 +0000

    - added docs subdirectory so that manpages get installed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@312 c6295689-39f2-0310-b995-f0e70906c6a9

commit 213586280284d63a549725290dfd62c2771dd902
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 13:09:31 2002 +0000

    - added Makefile.am for manpages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@311 c6295689-39f2-0310-b995-f0e70906c6a9

commit 47b1df15afa429e0f92822ee04c716aea2f7e143
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 13:09:15 2002 +0000

    - added a bunch of manpages
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@310 c6295689-39f2-0310-b995-f0e70906c6a9

commit c418eb91afda3a494c6e89bab8cf7151d0d3c18e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 12:42:11 2002 +0000

    - Ahem, decrease the version number a bit
    - assuan_transact is now API compatible with the latest
      version of Assuan (newpg/assuan)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@309 c6295689-39f2-0310-b995-f0e70906c6a9

commit b3e7235e30ebf56870946da15ea3d4692e51bee7
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 11:36:19 2002 +0000

    - fixed a small core-dumping bug
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@308 c6295689-39f2-0310-b995-f0e70906c6a9

commit 19e2a4787fe118b93181e7886ffbd408a37a179f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 10:51:31 2002 +0000

    - Preparation for release 0.6.0
    - Removed obsolete README.Cryptoflex
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@307 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8efe36617cbd284113350da7f8f0a7e1fe2da5b9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 10:48:07 2002 +0000

    *** empty log message ***
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@306 c6295689-39f2-0310-b995-f0e70906c6a9

commit e280d2f44480d2d907002c71dab004bbe2d1ab1e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 10:34:05 2002 +0000

    - some autodetection magic in pkcs15_prkey_sign()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@305 c6295689-39f2-0310-b995-f0e70906c6a9

commit 31e78a3acb83fae7795f670e6133c962b0ac8bce
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 09:51:49 2002 +0000

    - reverted a change in pkcs15_prkey_sign
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@304 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef4c142c477f7c9d285b7d447ffcebb0a9e376c0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 13 08:54:44 2002 +0000

    - Fixed signature generation
    - Assuan API is now compatible with newer versions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@303 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83686af7462537588d5a9535797da1705f81a2fb
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 16:27:21 2002 +0000

    - added pkcs12 support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@302 c6295689-39f2-0310-b995-f0e70906c6a9

commit b635539aa8cc36957d114ce918337dfb64bc35c8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 16:27:04 2002 +0000

    - Make the default size for DF files 128 bytes (FIXME: we need to be
      able to set this on a per card basis in $cardname.profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@301 c6295689-39f2-0310-b995-f0e70906c6a9

commit 252323e0db3d6a691d8ff4e23fe3f61360ea82ca
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 14:36:40 2002 +0000

    - add support for PuKDF objects.
    - lock the card in C_Login, and unlock it in C_Logout.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@300 c6295689-39f2-0310-b995-f0e70906c6a9

commit 66b00e06bb2e4b03b650d456da8827aa8c21260f
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 14:36:07 2002 +0000

    - keep track of number of sessions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@299 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5df7c9b8e9dbc06714cb8632e47979c47910de0e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 14:35:50 2002 +0000

    - keep track of the number of sessions per slot, and do a C_Logout
      when the last session is closed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@298 c6295689-39f2-0310-b995-f0e70906c6a9

commit c287088275344e950ddef87d5432f09652b81292
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 13:41:58 2002 +0000

    - Make sure profiles get installed in $(pkgdatadir), and propagate this
      directory name to profile.c (icky automake stuff)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@297 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23e956cf9b869997c13a859a50388ab812256fb6
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 13:00:57 2002 +0000

    - Fixed PKCS #15 structure generation on Cryptoflex cards
      and implemented a default profile
    - Cryptoflex now reports its supported PK algorithms
      correctly
    - Various pkcs15-init fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@295 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2c7a0ac27b79266dec9d61e93eecac86ac3907dd
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 12 10:08:18 2002 +0000

    - Implemented download of public keys and X509 certificates
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@294 c6295689-39f2-0310-b995-f0e70906c6a9

commit f7ce196a66633d5e4da38f76c90fab0415e98613
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 14:13:11 2002 +0000

    - now creating EF(DIR)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@293 c6295689-39f2-0310-b995-f0e70906c6a9

commit cf795aa7b8debf7355e890ab6f5324dc26ccc5c6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 14:12:46 2002 +0000

    - exporting sc_update_dir to applications
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@292 c6295689-39f2-0310-b995-f0e70906c6a9

commit f84f5e58259bb32af266c92e740535978a71e454
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 12:41:18 2002 +0000

    - we cache just the DF portion of the currently selected file path,
      excluding the EF's FID
    - when sending the hash to the card (as part of compute_signature),
      revert the sequence of hashed bytes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@291 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5bc6d74fd2340714f38147df558efbde42b5174
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 11:52:04 2002 +0000

    - When storing a private key, always store the public portion as well
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@290 c6295689-39f2-0310-b995-f0e70906c6a9

commit 52dac164babf0912fcaa01b2da1efec98b4fd3dd
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 11:40:30 2002 +0000

    *** empty log message ***
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@289 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fb78b7bdca92e782f0a7757d7e8ae8999839cf5
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 10:18:59 2002 +0000

    - forgot to add DFs to the profile's file list
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@288 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3dd0c64f6ac1d61b59108124928c4541d41e5e29
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 11 09:14:10 2002 +0000

    - Implemented Parent/FileID stuff according to Juha's proposal
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@287 c6295689-39f2-0310-b995-f0e70906c6a9

commit ae306cf06f8948bab831e5cdd7fcdba875eb9734
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 10 11:48:57 2002 +0000

    - GPK now reports it's PK abilities correctly
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@286 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a4afb8319a595f553ae4c8ba8a5d1ab7a435b76
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 9 17:54:16 2002 +0000

    Include stdlib.h where needed
    Warning fixes for various OS's
    mcheck.h is not portable, so remove it
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@285 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0d4252ea0f42596f8364323424ff87890e0fba5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 9 17:27:04 2002 +0000

    Standardize the first header comment a bit
    between various profiles
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@284 c6295689-39f2-0310-b995-f0e70906c6a9

commit 427801c755cc8b469998f56af47bb521232efbc7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 9 17:21:10 2002 +0000

    Add flex.profile to EXTRA_DIST
    Rename miocos-rw.profile to miocos.profile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@283 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7d2171c1d25d6f19e3ce737076b28c9f168ac6d1
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 9 15:11:46 2002 +0000

    - Improved support for MioCOS cards
    - Removed PKCS #15 creation from cryptoflex-tool
    - Added PIN pad character option to profile.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@282 c6295689-39f2-0310-b995-f0e70906c6a9

commit c94fb9a1d562a1dcf1b6895fa20ef6d18fdad9c6
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 8 19:47:26 2002 +0000

    - added sc_pkcs15_read_pubkey to retrieve public key from a public key file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@281 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fcf38e98efaccc41b7aa31834ac92a51b9c2272
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 8 19:46:33 2002 +0000

    - specify sc_algorithm_info
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@280 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6264f03148f6cc3c95a14e2b607f4853e3623eee
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 8 16:06:10 2002 +0000

    'make dist' fixes
    Minor cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@279 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7803649f256163f816c11371bbd92d96ed2b9016
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 8 15:18:48 2002 +0000

    SC_PKCS15_HASH_SHA1 -> SC_ALGORITHM_RSA_HASH_SHA1
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@278 c6295689-39f2-0310-b995-f0e70906c6a9

commit 346be7d7a1498fd48286ea93cdfb10cb5e8bc799
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 8 14:47:34 2002 +0000

    Fixed opensc-ssh to work with recent p15 API changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@277 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3416461c4bcf29dc9f32688bad8f7f46e7a93424
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 8 05:59:57 2002 +0000

    - Added X.509 algorithm id decoding and encoding to asn1.c
    - Implemented a generic ATR matching helper function
    - Made signing much smarter (should even work now)
    - Added info about supported crypto algorithms to struct sc_card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@276 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7477cb3c01c7f97bafee7e852d9dd0ca0de6295e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 13:06:54 2002 +0000

    - fixed attributes etc of PuKDF entry
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@275 c6295689-39f2-0310-b995-f0e70906c6a9

commit cdd735e36d215e8f6e8bdfcd1a1af8dc8a895b1e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 13:03:23 2002 +0000

    - moved object printing stuff to separate file
    - dump public key info if present
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@274 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6cd852ba45e711cdcccbe28dbb92e9f3e744bc31
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 13:03:00 2002 +0000

    - moved object printing stuff to separate file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@273 c6295689-39f2-0310-b995-f0e70906c6a9

commit 30a5233d3bea786f28dc8059d6fced7ba609a884
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 13:02:30 2002 +0000

    - fixed pintest to work with p15 API changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@272 c6295689-39f2-0310-b995-f0e70906c6a9

commit 364328212b5633a45f86f8050521a54e4864d3b4
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 12:33:42 2002 +0000

    - sc_pkcs15_parse_df now understands PuKDFs
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@271 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6827556f5d09f48f9b8965e847dd3fee0337d9ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 12:26:17 2002 +0000

    - fixed error code handling
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@270 c6295689-39f2-0310-b995-f0e70906c6a9

commit 23678d069523e6ea3b1aadada9aad7c91a39ae57
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 12:25:54 2002 +0000

    - fixed memory corruption problem
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@269 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9419b353f6b4610a4660c11b58e78cb58bb5caf3
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Mar 7 11:57:49 2002 +0000

    - Patch from Olaf Kirch to implement of RSA exponent
      and modulus retrievel in pkcs11 code
    
    - Fixed the checking of PIN length in pkcs11 login
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@268 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2fda14ebf51f701f90c7ea3aad8f8ce156ec5193
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 6 17:49:47 2002 +0000

    - Rewrote large parts of pkcs15-init for greater flexibility, and with
      an eye towards separating some of the stuff into a library that can
      be used by pkcs11.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@267 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f0ce4228a3b53e45099b16c6101cbf880a4c320
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 6 13:22:08 2002 +0000

    - in sc_select_file, remember the file path in the returned struct sc_file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@266 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17316de130ee964ccf98c79446e2f8bcda3ec058
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 6 13:21:22 2002 +0000

    - another buffer overflow
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@265 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8c478132279eb6b6befaa8d724a9d3eb761af7e8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 6 12:33:33 2002 +0000

    - Added {read,write,update}_binary handlers that shift the offset
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@264 c6295689-39f2-0310-b995-f0e70906c6a9

commit f39f2244bb5f4e9e7d2bc780917c87a827db040d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Mar 6 12:32:42 2002 +0000

    - SECURITY: Fixed buffer overflow
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@263 c6295689-39f2-0310-b995-f0e70906c6a9

commit 88553f6bfcd1cdc8ff81c2dea3954267d883b625
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 5 16:52:39 2002 +0000

    - now works with the new API
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@262 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd9e7ef7cabf707426212b484956c85fad4b8d76
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 5 13:26:00 2002 +0000

    - make sure HAVE_OPENSSL is defined even when reading openssldir from config.cache
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@261 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fec8c46716a65167f7aa5424030bc9b5450d58c
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 5 13:16:54 2002 +0000

    - make sure HAVE_LIBPCSCLITE is defined when using --with-pcsclite
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@260 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9f43b3b0f3e0dcabb690cb01b7835f1189a70592
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Mar 5 09:30:01 2002 +0000

    - small typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@259 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffe5629e8932e3720074cf26c1520614e942e48d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 4 10:33:35 2002 +0000

    - started to work on PuKDF stuff
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@258 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25f15f0ba14959a725e833220ea03934f9837f92
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 4 09:33:46 2002 +0000

    - Added support for Juha's latest API changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@257 c6295689-39f2-0310-b995-f0e70906c6a9

commit 12e6874f03efa663696d22214b47e520b2a3b55e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 4 09:32:56 2002 +0000

    - Fixes for Juha's rewrite of sc_pkcs15_object and friends
    - changes some names
    - allow profile to set private key access flags
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@256 c6295689-39f2-0310-b995-f0e70906c6a9

commit cbd72756ad87341d0ebbca1bab833c659067248d
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 4 09:31:53 2002 +0000

    - Added default access_flags for private key objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@255 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86df1c55ff19a963a675c0f045026bc54a85b6de
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 4 08:35:48 2002 +0000

    - adapted to juha's latest changes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@254 c6295689-39f2-0310-b995-f0e70906c6a9

commit 34bcc5c8332405ceff5302dbc04c17066a47d714
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Mar 4 06:58:12 2002 +0000

    - Fixed buffer overflow in C_FindObjectsInit
      (patch from Olaf Kirch <okir@caldera.de>)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@253 c6295689-39f2-0310-b995-f0e70906c6a9

commit 51c572ac1d72c4013ac177b83dbf5e89d4e81f70
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 3 17:36:23 2002 +0000

    - Fixed PKCS #11 module to use the new PKCS #15 API
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@252 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6b07ff64f6082ae44df9544129962a40a46fd548
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Mar 3 00:32:28 2002 +0000

    - Reworked PKCS #15 structure a bit (MANY THINGS
      WILL BREAK)
    - Added support for public key DFs (not tested yet)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@251 c6295689-39f2-0310-b995-f0e70906c6a9

commit e256d97f652055b9703c3fc117cb5a07fc40d75b
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Mar 2 14:03:41 2002 +0000

    - if required, read pin from stdin (fixed key download)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@250 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4ac49d6e88af07b7b7b5f83226270b74e3a43930
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Mar 1 11:52:55 2002 +0000

    - intermediary checkin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@249 c6295689-39f2-0310-b995-f0e70906c6a9

commit 44fbfd7c1a3a8d0b379eb22c10dd5b9e7a06acf7
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 27 22:15:48 2002 +0000

    - Implemented GET_PK_ALGORITHMS card_ctl
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@248 c6295689-39f2-0310-b995-f0e70906c6a9

commit 321e993d9a23f951a8f5ca7a45111b6482b6d5f0
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 27 22:15:12 2002 +0000

    - Fixed typo on _CTL_PREFIX
    - Added SC_CARDCTL_GET_PK_ALGORITHMS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@247 c6295689-39f2-0310-b995-f0e70906c6a9

commit 78d9c2060b5c47d421e9e4b09718bae6570ac80e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 26 21:15:18 2002 +0000

    - some platforms need -ltermcap to go with -lreadline
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@246 c6295689-39f2-0310-b995-f0e70906c6a9

commit f0cba186a9d29aa953a9da23da8d28e00588870a
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 26 21:11:11 2002 +0000

    - we may have readline.h but may still not be able to link the lib
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@245 c6295689-39f2-0310-b995-f0e70906c6a9

commit c58b72fc545bc33ca1151291f074f01bd0df8656
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 26 16:34:29 2002 +0000

    - implemented change/unblock pin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@244 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fa7283ae2559ca037c6799db2141fcf5c449671
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 26 11:27:49 2002 +0000

    - added some missing files
    - renamed card-setec.c to card-setcos.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@243 c6295689-39f2-0310-b995-f0e70906c6a9

commit 04dfc47d92ebfbccce826c4fcee970ea7f69c466
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Feb 26 11:23:25 2002 +0000

    - added a driver for MioCOS cards by Miotec
    - implemented EF(DIR) updating
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@242 c6295689-39f2-0310-b995-f0e70906c6a9

commit 570af2be562e0500b496ed2efe22dffbc06c3482
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 22:42:28 2002 +0000

    - fixed sc_card_driver initalization
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@241 c6295689-39f2-0310-b995-f0e70906c6a9

commit d08c34cad65d54dd011c85ebf9202ed3823bdd9e
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 18:58:59 2002 +0000

    - test commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@240 c6295689-39f2-0310-b995-f0e70906c6a9

commit ede029e1d7bc103db09594fa7833c640517df4b8
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 18:50:29 2002 +0000

    - cleanup and misc minor fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@239 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4a448f43cf37137fee0012ee72766cdab3259452
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 18:48:34 2002 +0000

    - first stab at signatures
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@238 c6295689-39f2-0310-b995-f0e70906c6a9

commit 680b9928c5c52428e4dc8e9489e0eb3105ccc7ab
Author: okir <okir@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 18:47:42 2002 +0000

    - avoid integer underflow for outlen < 11
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@237 c6295689-39f2-0310-b995-f0e70906c6a9

commit 97a7957e35d983a1b55d84c14d088cc1d6de047c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 18:43:16 2002 +0000

    Minor fixes to libreadline checking
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@236 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4aa18a9ff956777fb6238666b2ffadcec13ac688
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 16:30:38 2002 +0000

    Added support for checking libreadline and use it
    for opensc-explorer if one is found.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@235 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8de0c6da78433cf51125b625bbd67a3081fcb1b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 15:40:43 2002 +0000

    Minor fix for HAVE_PCSCLITE conditional
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@234 c6295689-39f2-0310-b995-f0e70906c6a9

commit 325cd8006d7be4d01ee55ce4f681727d87472eb1
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 14:13:18 2002 +0000

    - small bug fixed in encode_bit_string; patch by Olaf Kirch
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@233 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9879318a6a1a3b2a41c949186b5b7319587ef617
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 13:51:11 2002 +0000

    Add missing help text for --passphrase
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@232 c6295689-39f2-0310-b995-f0e70906c6a9

commit c2cbf21baad1aa079149287ebe981795a9e0e674
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 12:37:14 2002 +0000

    Obsolete
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@231 c6295689-39f2-0310-b995-f0e70906c6a9

commit b098c097a12332e35a721ab8419de82030a0c953
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 12:04:39 2002 +0000

    Upgrade to current OpenSC API
    Compiles, so far untested
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@229 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9c594003ee6e343957b5a8c7c6859e771c79274c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 11:50:32 2002 +0000

    Add pkcs15-init
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@228 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8d222efb57937889c9b4e2ef07c1117fbb634d05
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 11:13:50 2002 +0000

    HAVE_SSL cleanups
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@227 c6295689-39f2-0310-b995-f0e70906c6a9

commit 69b1e1bdece4cb6c019ca28a4642f84ba6c64bec
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 11:06:03 2002 +0000

    Get rid of PC/SC specific flags (thank god)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@226 c6295689-39f2-0310-b995-f0e70906c6a9

commit 24c6f4176ec707a1399aebfce413f4476161e1bd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 25 11:05:25 2002 +0000

    winscard.h / CFLAGS_PCSC cleanups
    Merge OpenSSL configure changes with SCIDI
    Build process changes for future CT-API support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@225 c6295689-39f2-0310-b995-f0e70906c6a9

commit e605e6fa8bb4cd3bd7ef384a6f40c606140c57a6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 24 21:14:17 2002 +0000

    Fix segfault for pcsc_finish
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@224 c6295689-39f2-0310-b995-f0e70906c6a9

commit 412292eab118135aed0c68032f98bf8dc3fd98b0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 24 20:16:07 2002 +0000

    Add missing SC_STATUS_TIMEOUT that was removed from sc-internal.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@223 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3fa1b27736355eb65c6df227678929980f77e16b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 24 19:32:14 2002 +0000

    - implemented reader abstraction layer; now it's easier to
      add support for e.g. CT-API
    - renamed ops_data field to drv_data in struct sc_card
    - copied coding style document from Linux kernel
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@221 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1f4e5c4b6d52e5fcb929230211215cdd6176aa51
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 24 16:50:29 2002 +0000

    Minor changes to get rid of compiler warnings for various OS's
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@220 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2adde8d501e6d7b5b3c34deed47b93624fec6479
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Feb 23 13:38:01 2002 +0000

    - implemented RSA and DSA key downloading to GPK cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@219 c6295689-39f2-0310-b995-f0e70906c6a9

commit f605dc631c506644fe4b0a4a14f7fcb2f3d47f60
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 22 20:46:43 2002 +0000

    - a small fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@218 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5736099a2980162c98e115a913363ad0bb9691e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 22 07:18:43 2002 +0000

    - added some missing files from last commits, whoops
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@217 c6295689-39f2-0310-b995-f0e70906c6a9

commit d2a36c88fd2d02fe20037b736bdc9bfe78dbefb3
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 21 19:23:21 2002 +0000

    - added sc_update_binary(), sc_append_binary() and
      sc_write_binary() with their corresponding ISO 7816-4
      reference functions
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@216 c6295689-39f2-0310-b995-f0e70906c6a9

commit e78dc964403cc301bc19ccf0607beff6ffff4f26
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 21 18:53:23 2002 +0000

    - added ATR for RSA SecurID 3100
    - exported pkcs15_encode_* functions
    - minor modification to sc_file_add_acl_entry()
    - boosted up opensc-explorer
    - added error(), warn() and fatal()
    - implemented a generic PKCS #15 structure generation tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@215 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3adef373bfaac9f3a160c8a2047c0e0050eb8487
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 20 18:42:16 2002 +0000

    Fix memory leak for sc_establish_context
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@214 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61fc1f93270daca5f10699d3a2037383ae83a6e6
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 20 09:56:47 2002 +0000

    - all instances struct sc_file should now be
      dynamically allocated with sc_file_new() and released
      with sc_file_free()
    - improved ACL's
    - moved struct sc_card_error to opensc.h
    - moved EF(DIR) parsing and encoding to dir.c
      (encoding is not working yet)
    - removed hst-test.c and filetest.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@213 c6295689-39f2-0310-b995-f0e70906c6a9

commit 092e87969d1670bbbc468bfd8ad19733976bd903
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 17 21:55:57 2002 +0000

    Bugfix for sc_destroy_context, pcsc_ctx was never released
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@212 c6295689-39f2-0310-b995-f0e70906c6a9

commit 262e5c20837601e3134dba0fedc9eff5807ad08e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Feb 15 23:17:58 2002 +0000

    - added error reporting for several new SWs
    - added check_sw function to sc_card_operations
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@211 c6295689-39f2-0310-b995-f0e70906c6a9

commit 709727d469954f09f96492a219ecb60b334a62a2
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 11 15:55:34 2002 +0000

    - added partial support for TCOS 2.0 cards
    - default card driver now tries to do a GET RESPONSE
      instead of SELECT FILE to detect the correct
      CLA byte
    - moved security attribute parsing from iso7816.c to card-setec.c
    - added some more sanity checking to sc_check_apdu
    - added 'debug' command line option to opensc-explorer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@210 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6db645e46c231ab0e1a03f18acc9ad07c1b564cd
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 11 11:01:27 2002 +0000

    AIX cc fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@209 c6295689-39f2-0310-b995-f0e70906c6a9

commit d8c9a43566fab761e655522194085c4407c42d05
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Feb 11 10:49:36 2002 +0000

    Portability fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@208 c6295689-39f2-0310-b995-f0e70906c6a9

commit b26554a957415b09b1095c81bec24e05cd2359c5
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 10 18:09:20 2002 +0000

    - added a license notice to card-gpk.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@207 c6295689-39f2-0310-b995-f0e70906c6a9

commit b4063302bf694f579aec1e83f6bcb7d13189e842
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Feb 10 18:04:03 2002 +0000

    - added partial support for GPK 4000
    - made line parsing in opensc-explorer saner
    - moved change_reference_data and reset_retry_counter to
      iso7816.c, where they belong
    - added partial libreadline support to opensc-explorer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@206 c6295689-39f2-0310-b995-f0e70906c6a9

commit bfc15fa7fd3375d98148ccfb11c9385cdfa24055
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Feb 7 13:10:53 2002 +0000

    small #define HAVE_OPENSSL fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@205 c6295689-39f2-0310-b995-f0e70906c6a9

commit ca4d5e5ba7dfdd2941c2e3cb2447ed1c69dc2218
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 6 12:32:22 2002 +0000

    Add install-exec-local and remove opensc-pkcs11.{la,a},
    like we do with opensc-signer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@204 c6295689-39f2-0310-b995-f0e70906c6a9

commit e798ffb59c2510bc7b1641cfd60139bdbef3a684
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Feb 6 10:36:58 2002 +0000

    Tru64: Fix for PTHREAD_CREATE_JOINABLE $ok
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@203 c6295689-39f2-0310-b995-f0e70906c6a9

commit 888b3788de428e6ac0f5d8101ba8cf56be9951df
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 29 14:38:40 2002 +0000

    Add install-exec-local and remove opensc-signer.{la,a},
    any better way to do this?
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@202 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1fb23e7623f28f1edc242f0850974b43fe89a8fb
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 28 21:04:53 2002 +0000

    - added support for T=1 protocol
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@201 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1e909781d70fc4cfe320015a81e79b8ee940a6ff
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 28 19:29:35 2002 +0000

    Testing version. Use if you dare.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@200 c6295689-39f2-0310-b995-f0e70906c6a9

commit 14ae4fc895c574216777fa7c3e34710be96555f7
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 28 12:16:26 2002 +0000

    Change OpenSC web site url to http://www.opensc.org/
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@199 c6295689-39f2-0310-b995-f0e70906c6a9

commit a2d2403684774dde74675eeb79416643811d4fe9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 26 21:16:56 2002 +0000

    Add opensc-config
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@197 c6295689-39f2-0310-b995-f0e70906c6a9

commit 55641e59612af5a9daa60c7b8fc984956c3c22cf
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 26 16:03:13 2002 +0000

    - added opensc-config script
    - added ATR string for Cryptoflex 8k
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@196 c6295689-39f2-0310-b995-f0e70906c6a9

commit d36e9ba93c19ee7307c95d42330662bb494c63ae
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 26 12:16:13 2002 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@195 c6295689-39f2-0310-b995-f0e70906c6a9

commit 17332ea10ee0ae6fcfd9e05eee9d91adfe35faa5
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 24 18:37:12 2002 +0000

    - last minute changes before the new release
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@194 c6295689-39f2-0310-b995-f0e70906c6a9

commit e6ccf518dab2d53b7eda2dab1a2e1481ff544815
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 24 16:27:09 2002 +0000

    - many bug fixes in pkcs #11 module
    - pkcs #11 module now creates public key objects too
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@193 c6295689-39f2-0310-b995-f0e70906c6a9

commit fd9c25eeed3e1a657c55978f9e8a16ead0888ace
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 24 16:24:24 2002 +0000

    - added README.Cryptoflex
    - modified ChangeLog
    - _really_ bumped up the version number this time
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@192 c6295689-39f2-0310-b995-f0e70906c6a9

commit c1cac5f311a0f282e7db0989675dbd39dbae654e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 24 16:02:54 2002 +0000

    - bumped up version number in preparation of the new release
    - unified PKCS #15 DF decoding
    - added PKCS #15 file caching
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@191 c6295689-39f2-0310-b995-f0e70906c6a9

commit ec83c728ad7159b4ebde0bae4c3ab20226845a1e
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 24 12:56:08 2002 +0000

    Silence debug messages by default for upcoming release
    README update
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@190 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9180ae86628584b0c001ce1769798c7ac3642f6f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 22 17:41:46 2002 +0000

    Fix pthread.h checking for recent releases of Tru64
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@189 c6295689-39f2-0310-b995-f0e70906c6a9

commit cfa366d7e6c6fd8eb4bc0b3e480345f83ff81407
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 22 16:43:38 2002 +0000

    - fixed a few typos
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@188 c6295689-39f2-0310-b995-f0e70906c6a9

commit c8313fb07ca73a05fdf9a90409d28028a3115f43
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 22 16:26:19 2002 +0000

    Fix compiler warnings, for digital cc this time
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@187 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9c165125be54428509a5b4ebfd856ef90711c11
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 22 14:54:01 2002 +0000

    * many bugfixes in pkcs11 module
    * memory corruption fix in pkcs15 framework
    * pool node deletion fixed in misc.c
    * now detects smartcards in C_GetSlotInfo too
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@186 c6295689-39f2-0310-b995-f0e70906c6a9

commit 82a2d72e6a3ba658b67586e51c189f8006a8b7f2
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 22 14:44:56 2002 +0000

    Many bugfixes including segfault in card detection and C_GetSlotInfo
    now detects the cards too.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@185 c6295689-39f2-0310-b995-f0e70906c6a9

commit 623e5ad1b409bfa6f389bca9de93ab19383ab610
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 15:37:01 2002 +0000

    - changed PIN1 path in PKCS #15 structure
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@184 c6295689-39f2-0310-b995-f0e70906c6a9

commit fee632833ac830521e772ebc372f71a3de44f177
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 15:11:35 2002 +0000

    - added KEY verification to Cryptoflex driver
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@183 c6295689-39f2-0310-b995-f0e70906c6a9

commit a016a592592f99b305155b44349721c48e69221b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 12:49:00 2002 +0000

    - added PKCS #15 structure generation to cryptoflex-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@182 c6295689-39f2-0310-b995-f0e70906c6a9

commit 552d4b260bd9f642634d8c79656783d49cc3eede
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 11:22:23 2002 +0000

    Add *.u
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@181 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6d533a1c3d107b34c3964567cbe59b7891a56161
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 10:56:30 2002 +0000

    Compiler warning fixups for various compilers
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@180 c6295689-39f2-0310-b995-f0e70906c6a9

commit 45a37df2f6cefda5a6c150a9cfc4cfee5f7fe248
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 10:56:03 2002 +0000

    Add *.u and cryptoflex-tool to .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@179 c6295689-39f2-0310-b995-f0e70906c6a9

commit f1582007f6925e9edf25bd5e5ff67c49e7246379
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 21 09:05:22 2002 +0000

    - improved file selection on Cryptoflex cards
    - fixed an incompatability in PKCS #11 module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@178 c6295689-39f2-0310-b995-f0e70906c6a9

commit d9792242cc5c7bdf24d14d0084ef26251f423f8d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 20 21:20:09 2002 +0000

    - fixed a bug with file permissions in flex_create_file()
    - added RSA signature generation with Cryptoflex cards
    - improved security environment handling
    - implemented cryptoflex-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@177 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c8759a2161b89e746a9fa7ffb7ee1606c990dc8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 20 18:24:53 2002 +0000

    README updates after not so recent filename changes
    sc-log.h cleanup for hst-test
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@176 c6295689-39f2-0310-b995-f0e70906c6a9

commit e7c65bf66905990d10cbd1ef09e7ed712827b057
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 23:47:03 2002 +0000

    - PKCS #15 generation is now in a semi-working state
    - started coding crypto support for Cryptoflexes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@175 c6295689-39f2-0310-b995-f0e70906c6a9

commit a55a073636f37abb7e1a9980d35c3dfcfcfb68c3
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 12:05:44 2002 +0000

    README cleanups
    Fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@174 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7fbc97efb5f184ee572cef8a8b1d729a8ea4c8c4
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 12:04:43 2002 +0000

    Remove gcc-specific options
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@173 c6295689-39f2-0310-b995-f0e70906c6a9

commit a8a31771f4c96ab70d07e9a76b783a53b732ca56
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 12:04:14 2002 +0000

    int error -> int sc_error, since it conflicts with error() and
    results to compiler error with various compilers.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@172 c6295689-39f2-0310-b995-f0e70906c6a9

commit e95f8aee84e7a446eea1b96bf5d46f85568b1a68
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 11:50:49 2002 +0000

    - small bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@171 c6295689-39f2-0310-b995-f0e70906c6a9

commit 54e5d23e9300517b809d55125077573df7e4fb76
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 11:44:27 2002 +0000

    - improved PKCS #15 generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@170 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee55164f075e2512b3106f12be7c1805bf066142
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 09:37:58 2002 +0000

    Add missing .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@169 c6295689-39f2-0310-b995-f0e70906c6a9

commit ffdc3c9a5821449407aef0bd0ee861d94bbf70b1
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 17 00:25:10 2002 +0000

    - fixed a goof in last commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@168 c6295689-39f2-0310-b995-f0e70906c6a9

commit 20adb4b39c17a9b344e1555eca776a87dd7ec1e2
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 16 23:59:18 2002 +0000

    - continued to improve PKCS #15 generation
    - fixed a few problems in sc_set_security_env
    - started to implement Better (tm) object handling for
      PKCS #15 objects
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@167 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2d95b18b27ec23264b7d39dc073cb15b4f542dc8
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 16 22:52:39 2002 +0000

    Changed pkcs11 header directory to rsaref.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@166 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3cd20d774f436132b0187a5bb3f31995b5297461
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 16 22:50:46 2002 +0000

    RSA header files.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@165 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6e6d7177f0ad882931d603f6570fd160b3da9d15
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 16 22:49:03 2002 +0000

    Rewritten implementation of pkcs#11 module. Semiworking.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@164 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7a7d7ee3d944eea0aa946fd4fe25f7abe3d0e2a9
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 16 22:43:22 2002 +0000

    Preparing to commit new implementation of pkcs#11 module.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@163 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4e2192b0f4540acc5ea01c28cade00191b882a66
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 16 20:20:40 2002 +0000

    - better ISO 7816-8 compatibility with various cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@162 c6295689-39f2-0310-b995-f0e70906c6a9

commit fec21385232bbfe9750a1aaf28587abbf77b3618
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 15 18:54:53 2002 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@161 c6295689-39f2-0310-b995-f0e70906c6a9

commit 452b9d4193edebc867f84bead59db08e895fe1e3
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 13 23:56:13 2002 +0000

    - pretty much finished the DER encoder
    - added delete and create file support for 'flex cards
    - PKCS #15 DF's are now stored more flexibly; this makes
      adding new types of DF's (such as PuKDF's) easier
    - added 'get' and 'put' commands to opensc-explorer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@160 c6295689-39f2-0310-b995-f0e70906c6a9

commit 921bbce7f58a6e4e5165f86141e7dc370177a928
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 10 23:14:12 2002 +0000

    - added doxygen.conf
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@159 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c993e1136efbf78f14510ea13475c0fe61c8870
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 10 23:02:48 2002 +0000

    - added PIN verification, file creation and file deletion to
      opensc-explorer
    - documented the core API a bit using doxygen
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@158 c6295689-39f2-0310-b995-f0e70906c6a9

commit b75b88a8b89bb74a35a4b6bfbe45d5c9d4e0a735
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 10 13:49:54 2002 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@157 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9dc705491907727b554cf11eb4124b55ecdb9ea4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 10 12:33:56 2002 +0000

    - added preliminary ASN.1 encoding support
    - modified ASN.1 decoding to make it easier to
      port decoder structures to the encoder
    - fixed a recently introduced bug in card driver handling
    - opensc-explorer will now allow only DF's to be cd'd into
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@156 c6295689-39f2-0310-b995-f0e70906c6a9

commit 26906e784398e95b7c3a53642103d2e3afce4c69
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 9 22:15:26 2002 +0000

    Oops, fixed --with-pcsclite multiple directory probing to actually work.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@155 c6295689-39f2-0310-b995-f0e70906c6a9

commit c718344ddca5a8148eb96294b062b82f9f72392d
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 9 18:28:02 2002 +0000

    libsc -> opensc
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@154 c6295689-39f2-0310-b995-f0e70906c6a9

commit e71e4492f35ee2c859cc7ba0878cae025a699a85
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 9 13:50:46 2002 +0000

    Add opensc-explorer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@153 c6295689-39f2-0310-b995-f0e70906c6a9

commit 269df3a6daaa13051383704a3c020b0bd29935d2
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 9 01:03:10 2002 +0000

    - created opensc-explorer tool
    - increased support for CryptoFlex cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@152 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6778d0b929399a0687d638b9e78a8aa5b07729ef
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 8 20:03:57 2002 +0000

    Add missing executables to .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@151 c6295689-39f2-0310-b995-f0e70906c6a9

commit 7ff4c4544c7f5333f640eb01cb81d790ab83f91b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 8 13:56:50 2002 +0000

    - added preliminary CryptoFlex 16k support
    - added short names to card drivers
    - moved various ISO 7816-9 functions to their correct places
    - added write binary support
    - renamed opensc-crypt to pkcs15-crypt
    - split a part opensc-tool to pkcs15-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@150 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1a3e530f01d91d6dea14c277c74687092cccf68b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 7 18:32:13 2002 +0000

    - finished removing sc- prefix from the .c files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@149 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9197babe53408cae5d3ffa1da843ce30f628b30a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 7 18:23:34 2002 +0000

    - renamed sc_asn1_parse to sc_asn1_decode
    - added capabilities and flags fields to struct sc_card
    - added a mutex to sc_context for future use
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@148 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d2599a923f9874f54d61f501caf4de4dce8b4db
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 7 16:24:45 2002 +0000

    Oops, accidently removed all pc/sc related stuff while
    merging changes to opensc-signer/configure.ac, fixed.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@147 c6295689-39f2-0310-b995-f0e70906c6a9

commit d35a8b3b7e3ad52b33877763589dd67002b89564
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Jan 7 12:41:41 2002 +0000

    Add npinclude to SUBDIRS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@146 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ca5849ab6552d83920387c116b243cc7f98b1c2
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 23:41:06 2002 +0000

    Fix another compiler warning
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@145 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68482721ccfe7955670008a9bcd3943412ae624a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 22:17:31 2002 +0000

    #include fixup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@144 c6295689-39f2-0310-b995-f0e70906c6a9

commit f92775fabe323198dd62ae06b9773ec31e3f6c04
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 21:26:07 2002 +0000

    Fix few compiler warnings on Tru64
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@143 c6295689-39f2-0310-b995-f0e70906c6a9

commit 859511f46c73b91fb7190d8e1ae1d6c61443b3ee
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 20:35:47 2002 +0000

    Sync with opensc-signer's configure.ac
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@142 c6295689-39f2-0310-b995-f0e70906c6a9

commit 59a76542d29ae5a90068121e9461f46ad6f23cde
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 20:06:00 2002 +0000

    Add CFLAGS_PCSC, CFLAGS_OPENSC, LIBOPENSC
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@141 c6295689-39f2-0310-b995-f0e70906c6a9

commit 259efb3b11a3edf514bc73405f3b658f7c205a86
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 19:40:24 2002 +0000

    Add CFLAGS_PCSC, CFLAGS_OPENSC, CFLAGS_ASSUAN, LIBOPENSC
    Add PIN_ENTRY instead of hardcoding it to "/usr/local/bin/gpinentry"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@140 c6295689-39f2-0310-b995-f0e70906c6a9

commit b9da2154289f43321eedbc11c6cfb6f6fe225bd5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Jan 6 19:40:12 2002 +0000

    Add CFLAGS_PCSC, CFLAGS_OPENSC and LIBOPENSC, use them
    instead of hardcoding paths into ../libopensc.la,
    -I../libopensc, etc.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@139 c6295689-39f2-0310-b995-f0e70906c6a9

commit 39c503ed7bd167b22e21d90d326e3fe3e1ba61d0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 5 22:24:14 2002 +0000

    Syncing with OpenSC's source tree
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@138 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6dbf1ae5e43e3e4b37865c3452c4cab551fcf04a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 5 21:46:15 2002 +0000

    Add .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@137 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3bcb086df45e7d3f72233ead2e9dcefb51b9d1a0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 5 19:05:29 2002 +0000

    Fix typo
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@136 c6295689-39f2-0310-b995-f0e70906c6a9

commit a3272093195434b876aafbc42b4ebf37688f5e7f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 5 19:01:55 2002 +0000

    SCardGetStatusChange/rgReaderStates changes for compatibility
    with older and/or modified pcsc-lite releases.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@135 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0a77426aa056723baa1760e308f0b3c630a720fc
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 5 14:56:52 2002 +0000

    - added new versions of PKCS #11 header files
    - fixed a typo in generic.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@134 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5898cc7abceb75b5998bd1f528d9dc59d5f45c69
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Jan 5 14:47:44 2002 +0000

    - blank padding added to some string values
    - changed a few hardcoded values
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@133 c6295689-39f2-0310-b995-f0e70906c6a9

commit ee712b8b25e99097d2f64c78c0c4b87284b65e3c
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 3 08:47:45 2002 +0000

    Warning fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@132 c6295689-39f2-0310-b995-f0e70906c6a9

commit 891c3dbf88a76a9b2a8ae996533249bdea27d5a0
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 3 07:33:28 2002 +0000

    AIX cc fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@131 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0c2086857aed0c5000f02ac0b3160f136c3332b6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Jan 3 07:32:36 2002 +0000

    Slight fixes for getopt_long hack, so it will
    work for systems without getopt.h at all.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@130 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9bd6c8f9bb0982e5a01d3cf69fe797e26fd7a176
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Jan 2 22:15:31 2002 +0000

    Add getopt/getopt_long sources from GNU C Library.
    
    Use them only if platform lacks support for getopt_long,
    like most commercial operating systems do.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@129 c6295689-39f2-0310-b995-f0e70906c6a9

commit fb4321ce0ff1908c132d6611124db0ae1b85f993
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 1 19:56:07 2002 +0000

    More size_t fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@128 c6295689-39f2-0310-b995-f0e70906c6a9

commit a95ed6fc7521437277ba7f8ed0757a9839ec60df
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 1 19:54:22 2002 +0000

    Use \33 instead of \e.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@127 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68928ae52001486494e013cb4907a1fce8f760c1
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 1 18:25:11 2002 +0000

    - changed \\e back to \e in sc_log.c
    - changed function prototypes in sc-asn1.c (int --> size_t)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@126 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5cdd262385a275736eeed0f3190b48ace3208c0c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Jan 1 17:25:10 2002 +0000

    - some fixes to the PKCS #11 module
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@125 c6295689-39f2-0310-b995-f0e70906c6a9

commit a769be2ae42d33fa8ddb88dcb96c18bdad28ff9b
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 31 14:47:18 2001 +0000

    Use -avoid-version, as we do with pam module.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@124 c6295689-39f2-0310-b995-f0e70906c6a9

commit 6adf61a7957f7b957e392b039130d9ed3cf420f9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 31 14:39:49 2001 +0000

    Remove unneeded install-exec-local
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@123 c6295689-39f2-0310-b995-f0e70906c6a9

commit 74f568b87e45aecd2dd6e217be071ad8f1a63b3b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 31 13:30:57 2001 +0000

    - a small bugfix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@122 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8368c13f5292bd3a1dd8c795036646fa4e76bec6
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 30 21:30:39 2001 +0000

    sc- -> opensc-
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@121 c6295689-39f2-0310-b995-f0e70906c6a9

commit 607271df531a390e0c7104636fac0ad2edfbc497
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 30 21:17:34 2001 +0000

    Merges with SCIDI to help integrating build process with it
    Remove some gcc specific flags from Makefile.am
    Rename some header defines
    size_t vs. int fixups
    opensc.h: Define inline as null for other compilers than gcc, for now
    Port pam_pkcs15 to compile for Solaris and HP-UX, untested
    Fix compiler warnings
    
    OpenSC now compiles cleanly for Tru64, AIX and HP-UX.
    
    The only problem is the tools using getopt_long() (GNU extension),
    to be fixed later..
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@120 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3e96a893ec8be3a7e8196204af4ce8bc595658f6
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 19:03:46 2001 +0000

    - ported certificate reading to new ASN.1 code
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@119 c6295689-39f2-0310-b995-f0e70906c6a9

commit da88fb7d62149770314fdb07faf7cda30d4f347a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 18:14:08 2001 +0000

    - renamed LIBPCSCLITE to LIBPCSC
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@117 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5201a83b21a60a45dd8084ebff268d5896150986
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 12:44:11 2001 +0000

    - another portability fix
    - renamed sc-emv.c to sc-card-emv.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@116 c6295689-39f2-0310-b995-f0e70906c6a9

commit 13b1325aefcd8f7b6a78b900fb6777c01e077572
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 12:39:41 2001 +0000

    - fixed a portability problem
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@115 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4f5a311552ff87ea932bee4663d12f99d57bf9f9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 12:26:21 2001 +0000

    Use -Werror if compiling with gcc
    Add check for getopt.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@114 c6295689-39f2-0310-b995-f0e70906c6a9

commit f09933657a4caec6d35b6d318a4d7402ff94a252
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 12:03:18 2001 +0000

    - added missing files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@113 c6295689-39f2-0310-b995-f0e70906c6a9

commit daf877fadda58f400d55a8ae23b60538489f0d27
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 11:57:34 2001 +0000

    - fixed resplen values in sc_decipher and sc_compute_signature
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@112 c6295689-39f2-0310-b995-f0e70906c6a9

commit ad2e34cb6c7694b62838ec1f3c76571da41cb84d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 29 02:07:32 2001 +0000

    - added preliminary support for EMV cards
    - changed a few function prototypes
    - implemented access control lists to files
    - added sc_read_record() function
    - updated the NEWS file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@111 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4586a88efc21677a1a50ced689591aad0ccf75f5
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 28 14:24:28 2001 +0000

    Move hex_dump() to generic.c
    Convert all C++-style comments to C-style
    Fix compiler warnings for various platforms
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@110 c6295689-39f2-0310-b995-f0e70906c6a9

commit c37418d3b07fcd9dbb2dccdb51fb3930021e09c8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 28 14:23:17 2001 +0000

    - sc_pkcs15_change_pin() prototype changed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@109 c6295689-39f2-0310-b995-f0e70906c6a9

commit db0740d1ca7cbe3203a2032aab044207ac3b3ce2
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 28 14:19:41 2001 +0000

    - fixed some compile warnings
    - updated TODO
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@108 c6295689-39f2-0310-b995-f0e70906c6a9

commit 695ad01b282ab0c2bf4a97cced64a5443657a443
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 27 17:25:10 2001 +0000

    - added preliminary EMV support
    - made a few bug fixes relating to select_file operation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@107 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2b99f2df144e240cb8a4369e25c50dd11809198c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 25 20:45:48 2001 +0000

    - added default driver for unidentified cards
    - added select_file operation in Multiflex driver
    - added 'list-drivers' command to opensc-tool
    - moved stuff from opensc.h to sc-internal.h
    - improved locking behaviour
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@106 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1d220ccdcab56174daeb118d141c51839770ca33
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 25 20:38:23 2001 +0000

    - added plugin description strings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@105 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5d5738f1854a64d56c18668118350ec5c7b927e8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 24 15:48:07 2001 +0000

    - added "-avoid-version" to LDFLAGS
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@104 c6295689-39f2-0310-b995-f0e70906c6a9

commit 21960bd1002dc56d4cd75e2a9ffb3f710f92240a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 23 15:48:02 2001 +0000

    - updated to support latest version of OpenSC
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@103 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9cab4ae46127d317919caf298416af784a0b8350
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 23 14:33:49 2001 +0000

    - updated NEWS and README
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@102 c6295689-39f2-0310-b995-f0e70906c6a9

commit b6d0249add75cd96ad8d7baa53bf2107d665a9cf
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 23 14:17:07 2001 +0000

    Add HAVE_SSL_AND_SSL conditional because automake isn't flexible enough
    Minor fixes for libpcsclite probe
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@101 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9905a8dd8edbcbf1406450cbe37e0a78a17548e6
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 23:51:12 2001 +0000

    - changed call convention of sc_select_file()
    - begun to add support for Multiflex cards
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@100 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8e5c50ff5141217e94224ca9786c660d72920a3a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 23:14:16 2001 +0000

    'make dist' fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@99 c6295689-39f2-0310-b995-f0e70906c6a9

commit 8ea4c8926ed3111e41dd91871cc4d055570bc8a8
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 23:13:59 2001 +0000

    Disable --force for automake
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@98 c6295689-39f2-0310-b995-f0e70906c6a9

commit 25da9e085b0d52f79818b1c74977564a463289a2
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 23:07:40 2001 +0000

    - added some filenames to .cvsignore
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@97 c6295689-39f2-0310-b995-f0e70906c6a9

commit e9682deeceebf057164ffa6b9569b215a6cd0c48
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 23:06:31 2001 +0000

    - added authors Anssi Tapaninen and Timo Ter�s
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@96 c6295689-39f2-0310-b995-f0e70906c6a9

commit 468a7e3daf469c108785d0742d34e1e6b3ca52f9
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 22:55:40 2001 +0000

    Fix LIBPCSCLITE
    Rename COMPILE_PAM conditional to HAVE_PAM
    Remove lex check from configure.ac
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@95 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3775b18c817ed447e782cc4baa3381dbf91e5fd1
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 22:27:20 2001 +0000

    Autotools update. Add bunch of stuff to configure.in to
    make building of libopensc more portable to various
    operating systems.
    
    Requires autoconf 2.52 and automake 1.5.
    
    Add all necessary files except Makefile.in, so you still
    need to run ./bootstrap though. There's not much point
    adding config.guess and friends without them, maybe later.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@94 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fffd5c70e7baae6983e76ecf1276bcb181b4050
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 22:20:59 2001 +0000

    Add directory aclocal for m4 macros.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@93 c6295689-39f2-0310-b995-f0e70906c6a9

commit baeae167544ac985308376054abec8819564723f
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 22:20:28 2001 +0000

    Add opensc-ssh, pam_pkcs15-test, bas64, hst-test, lottery, p15dump,
    pintest, prngtest, opensc-crypt and opensc-tool binary to .cvsignore.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@92 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4fdbb11a3206751c7f9a2b40e302c39cfbe77e2a
Author: aet <aet@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 22:11:43 2001 +0000

    Add .cvsignore skeleton
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@91 c6295689-39f2-0310-b995-f0e70906c6a9

commit 36965ca6ebf6998c7cba98ace5a3e5d780f06d55
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 20:52:57 2001 +0000

    - updated to work with latest library version
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@90 c6295689-39f2-0310-b995-f0e70906c6a9

commit c344e28a9269353884cb7082a4f9830ea6a74bed
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 20:43:09 2001 +0000

    - added card abstraction layer support
    - pretty much finished migrating to new ASN.1 code
    - changed call semantics for sc_select_file()
    - moved functions around
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@89 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0bba170d91878b8e176c13a1794d259255933d79
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 22 13:38:25 2001 +0000

    - LINT fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@88 c6295689-39f2-0310-b995-f0e70906c6a9

commit c17ff3ebdf8f0fcabd7c08b47dbfdd7b6c5a119b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 21 23:34:47 2001 +0000

    - continued improving ASN.1 decoding
    - improved debug levels
    - added some PC/SC Lite workarounds
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@87 c6295689-39f2-0310-b995-f0e70906c6a9

commit 41416437e5fdeb2417748f1846ed3b3868494c59
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 20 13:57:58 2001 +0000

    - paving way for dynamic card modules
    - fixed a few memory leaks
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@86 c6295689-39f2-0310-b995-f0e70906c6a9

commit ff560ba23927beda87e9e926aa69f960bd18fe24
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 20 12:22:18 2001 +0000

    - added basic logging to sc-pkcs15-sec.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@85 c6295689-39f2-0310-b995-f0e70906c6a9

commit 503cbd478221a0d0a2025dc79bdf85f238367b53
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 20 12:16:05 2001 +0000

    - added base64 conversion tool
    - updated to work with latest version of OpenSC library
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@84 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9989c11a6d88961484435cec75cbce49cd87389d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Dec 19 21:58:04 2001 +0000

    - remembered ChangeLog
    - moved some functions from sc.c to sc-iso7816-4.c
    - added fancy colors to log output =)
    - removed global sc_debug variable, moved it to sc_context
    - fixed new ASN.1 code (possibly still unstable)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@83 c6295689-39f2-0310-b995-f0e70906c6a9

commit ef3defb2977ebc25d67d0aafdd0ba482db96caf6
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Dec 17 21:36:41 2001 +0000

    - applied a patch by Antti Tapaninen that fixes a memory leak
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@82 c6295689-39f2-0310-b995-f0e70906c6a9

commit 83dd7bee00fed10e5bd864fe78e1c71cf47a2e6a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 16 20:30:42 2001 +0000

    - added a small fix. Swedish Posten eID cards are now supported.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@81 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5e00917fcc85a0aea0eeebf36ae84108333d3576
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 16 18:46:32 2001 +0000

    - bumped version number up to 0.4.0
    - improved ASN.1 decoding _lots_
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@80 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9423884172980146e62d98cd40a331f02ad50a81
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 01:48:47 2001 +0000

    - latest breaking news
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@79 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5930ce80069359e21e3508c7c671ef5d1a5ca138
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 01:44:46 2001 +0000

    - updated OpenSSH support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@78 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0191d6c07d8e6d00abe9033028bc5db42fb79a2f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 01:29:51 2001 +0000

    - paving way for version 0.3.5
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@77 c6295689-39f2-0310-b995-f0e70906c6a9

commit 166b369ffe0bb61be169457edda4c38c952ce0af
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 01:27:51 2001 +0000

    - meddled with command abbreviations
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@76 c6295689-39f2-0310-b995-f0e70906c6a9

commit b1a85aace07610dd79b765ff80774dc8de3b54c8
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 01:10:53 2001 +0000

    - fixed distribution tarball generation
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@75 c6295689-39f2-0310-b995-f0e70906c6a9

commit 89c1f182caec769cc9fbfbdb48bde2f520b6c7a1
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 01:08:24 2001 +0000

    - moved npunix.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@74 c6295689-39f2-0310-b995-f0e70906c6a9

commit d52bd93544d182d84d4378147f570f7edfab6073
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 00:57:33 2001 +0000

    - fixed changed "include" to "npinclude"
    - added a note about assuan to README
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@73 c6295689-39f2-0310-b995-f0e70906c6a9

commit ac3b36e8a5f0d81185b6f0dac6bb1af984a01752
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 00:46:40 2001 +0000

    - removed unnecessary assuan cruft
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@72 c6295689-39f2-0310-b995-f0e70906c6a9

commit 96be2f8d399b33bbd13a229d78d0b79fb454d68f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 15 00:39:45 2001 +0000

    - added include files from Netscape plugin SDK
    - removed hardcoded PIN
    - added PIN dialog through assuan
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@71 c6295689-39f2-0310-b995-f0e70906c6a9

commit bd9396d87f974b4d2bc2b48195397e293da9ca96
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 14 16:37:45 2001 +0000

    - updated tools to support latest version of the library
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@70 c6295689-39f2-0310-b995-f0e70906c6a9

commit c46ac85a0764886051fbb48a90cc728cc28e4992
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Dec 13 21:19:11 2001 +0000

    - improved logging facilities
    - removed a few compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@69 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9fccf2c6464a2249275abd919b1f82ff51bbdbc3
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 11 14:53:22 2001 +0000

    - added "learn-card" command to opensc-tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@68 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86bef9c75e60464e9fa50b7ae64905bcbe4027ee
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Dec 11 14:52:17 2001 +0000

    - improved certificate caching
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@67 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5a0f35f5ee48a5c9fc60db43287c0f7b416e059
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 8 15:35:30 2001 +0000

    - added depcomp to AUX_DIST
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@66 c6295689-39f2-0310-b995-f0e70906c6a9

commit 683f561800bacbb7da1e232d671c8dd0d2915dfb
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 8 15:27:40 2001 +0000

    - removed config directory
    - fixed compiling with C++
    - added error SC_ERROR_CARD_RESET
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@65 c6295689-39f2-0310-b995-f0e70906c6a9

commit 684623a2ec903af073251d749b0149e373772d6b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Dec 8 14:19:47 2001 +0000

    - begun to implement PIN dialog
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@64 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0fbe06b8eb4f327f4f16e63e59fca8d18dfe0a1d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Dec 7 00:57:16 2001 +0000

    - first working version of signer plugin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@63 c6295689-39f2-0310-b995-f0e70906c6a9

commit 06fc4565ba2dceb2adc62305e5fac6e263f8623b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 2 19:21:46 2001 +0000

    - fixed sc_pkcs15_change_pin()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@62 c6295689-39f2-0310-b995-f0e70906c6a9

commit bc946d6bfe24bd5ee6f00d354c883129fe7b54d9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Dec 2 19:17:11 2001 +0000

    - added support for Base64 decoding
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@61 c6295689-39f2-0310-b995-f0e70906c6a9

commit 61ca346203eb993316839778cf283b537282ca2c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Nov 30 11:57:21 2001 +0000

    - added PIN changing support
    - started to work on nsplugin
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@60 c6295689-39f2-0310-b995-f0e70906c6a9

commit 02178156652463b4fecb75f4772b2d9c44e83b7d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 27 23:37:30 2001 +0000

    - small changes in README
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@59 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5be3bd3b7e26078663f18898ad560f12f516632b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 27 21:25:15 2001 +0000

    - a few fixes for libopensc 0.3.2 support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@58 c6295689-39f2-0310-b995-f0e70906c6a9

commit d277cf5d5c01560aed40991dfb2112f253e47fb9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 27 21:11:32 2001 +0000

    - fixed a few bugs in Autotools support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@57 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5d40ca03c4fb3074e98e56834bf645a907098f4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 26 20:14:48 2001 +0000

    - started to migrate to GNU Autotools
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@56 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1349a68c41d2c42519eee7746695a055298dedc
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 26 16:14:22 2001 +0000

    - added defaults for FINEID S4-2 (organization) cards
    - fixed a few typos
    - renamed _sc_sw_to_errorcode() to sc_sw_to_errorcode()
    - PAM module now uses RSA_sign instead of RSA_public_encrypt
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@55 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5c4c94779daf64302869bc61e2a0d01c51f15846
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 24 15:12:32 2001 +0000

    - changed "sc.h" to "opensc.h"
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@54 c6295689-39f2-0310-b995-f0e70906c6a9

commit c75812bcf80051e38f0bcddfa59339530741021a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 24 13:34:48 2001 +0000

    - changed project name to OpenSC
    - removed obsolete rsa_libsc.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@53 c6295689-39f2-0310-b995-f0e70906c6a9

commit 939146ffed58af7b472ee448859cdedab93be7c3
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 24 13:32:52 2001 +0000

    - changed project name to OpenSC
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@52 c6295689-39f2-0310-b995-f0e70906c6a9

commit 674cbb19795b6747b7b7bf0c065e6b1a4b66ee59
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 22 15:40:51 2001 +0000

    - added sc-crypt program
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@51 c6295689-39f2-0310-b995-f0e70906c6a9

commit a96d31344a442b579aa912c5eb23e64b70cfc7bd
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 21 23:28:03 2001 +0000

    - converted C_Sign() to use the new API
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@50 c6295689-39f2-0310-b995-f0e70906c6a9

commit e0d6e061158d6cb25415cac99d70be2bb1320573
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 21 22:40:27 2001 +0000

    - small fix in sc-tool.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@49 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ac6b811a542680153b820fc1a59d3ffd0561ea9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 21 21:19:58 2001 +0000

    - added install target to libsc Makefile
    - added a few functions
    - added a patch against OpenSSH 3.0.1p1 to enable libsc support
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@48 c6295689-39f2-0310-b995-f0e70906c6a9

commit ea594e3e50037e10eaabe864016233ce3c4554c5
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 20 22:21:58 2001 +0000

    - added very partial SSH support
    - rearranged some functions
    - added several new functions
    - fixed handling of SW's
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@47 c6295689-39f2-0310-b995-f0e70906c6a9

commit e5cf39b2eb33d940334a0c29e94074add4373f55
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 18 20:36:15 2001 +0000

    - small bug fixed
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@46 c6295689-39f2-0310-b995-f0e70906c6a9

commit f2f3a30792c00ef61d3d44d055f15cc265056cc9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 18 01:52:32 2001 +0000

    - added sc-tool
    - removed certtest.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@45 c6295689-39f2-0310-b995-f0e70906c6a9

commit e53cfa459560eda0e1b5711d185fa85d4692dd4b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 17 15:48:10 2001 +0000

    - added README for PAM module
    - added a few error messages
    - fixed certificate caching (which is still kludgy)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@44 c6295689-39f2-0310-b995-f0e70906c6a9

commit 1194017d5a6a9f7656a8e5ace6fd2d6419ceb079
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 17 14:55:41 2001 +0000

    - added defaults; full PKCS#15 parsing is no-longer required at startup
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@43 c6295689-39f2-0310-b995-f0e70906c6a9

commit 584f5e5cb8a9d1fc4a1d2d60c4281b2df8ab52af
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Nov 17 00:11:29 2001 +0000

    - PAM module is semi-working now
    - added sc_asn1_put_tag() and sc_restore_security_env() functions
    - preliminary support for CREATE FILE and DELETE FILE commands
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@42 c6295689-39f2-0310-b995-f0e70906c6a9

commit eb4d366453349e7caff55d95c003733278268025
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 15 14:44:36 2001 +0000

    - added a PAM module playground directory
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@41 c6295689-39f2-0310-b995-f0e70906c6a9

commit e883b6f9891829c6a0078b50b8c34bebadfe9830
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 14 13:43:39 2001 +0000

    - committed a patch from Antti Tapaninen <aet@cc.hut.fi>
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@40 c6295689-39f2-0310-b995-f0e70906c6a9

commit 187d8a0b29471e90feff26bf2edffdd3c42f61cd
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 7 14:36:57 2001 +0000

    - moved sc_list_files() to sc.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@39 c6295689-39f2-0310-b995-f0e70906c6a9

commit fac50be0764ce7b3499ed951a0ec78bfbbe33df4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Nov 7 13:45:41 2001 +0000

    - fixed sc_get_random()
    - added ATR to struct sc_card
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@38 c6295689-39f2-0310-b995-f0e70906c6a9

commit 725a7177b2cc67ba6952a1f305cdab954722659e
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 6 18:43:36 2001 +0000

    Updated license to LGPL.
    Added short description.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@37 c6295689-39f2-0310-b995-f0e70906c6a9

commit 18bab373b8cddc4ec80d5e6ee67d6dc8e2affe3e
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Nov 6 18:34:19 2001 +0000

    - changed license to LGPL
    - moved ASN.1 function definitions from sc.h to sc-asn1.h
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@36 c6295689-39f2-0310-b995-f0e70906c6a9

commit 27cc0a0189f0e09a519af51cc2b5a72c43724650
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Nov 5 19:39:18 2001 +0000

    - fixed base64 encoding function
    - added file listing test to hst-test.c
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@35 c6295689-39f2-0310-b995-f0e70906c6a9

commit 16c6db4b2a67be2dfbc7cc0d24b0ce4fdb87e288
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 4 14:08:38 2001 +0000

    assorted small fixes
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@34 c6295689-39f2-0310-b995-f0e70906c6a9

commit 58fd72f22fafbcc4995aaf1b6dae3d9fb7a53103
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Nov 4 13:57:04 2001 +0000

    - added support for base64 encoding
    - added certtest tool
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@33 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3f727ca8b7c29ce8e4ea6f98d1e5e1b47f4a005b
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 1 15:44:19 2001 +0000

    - added a 'return 0' statement
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@32 c6295689-39f2-0310-b995-f0e70906c6a9

commit c57e2e266d89c1fb96f216813e3122862d980c92
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Nov 1 15:43:20 2001 +0000

    - moved libsc to its own directory
    - added non-working MIME plugin for "text/x-text-to-sign"
    - added pseudo-random number generator support
    - split hst-test.c into smaller files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@31 c6295689-39f2-0310-b995-f0e70906c6a9

commit aea833a5e8e336cd66a88289957b96dae107950f
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Tue Oct 30 16:16:18 2001 +0000

    Added copyright notes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@30 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2ffefc3f839068725b21b36c71a9d7777e6fef8a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 29 15:52:56 2001 +0000

    - updated README.decrypt
    - fixed a few compiler warnings
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@29 c6295689-39f2-0310-b995-f0e70906c6a9

commit f43f23050cd6d290b67db45020805c3e46a90721
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Thu Oct 25 11:56:26 2001 +0000

    added:
    - certificate parsing
    - support for reading RSA public key modulus on the fly
    - support for ASN.1 object id decoding and printing
    - fixed a lot of u8 * --> const u8 *
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@28 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2a981ac02ce0605e741a0fd8688d1bd5292de560
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 24 14:48:25 2001 +0000

    removed hard-coded PIN code... =)
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@27 c6295689-39f2-0310-b995-f0e70906c6a9

commit e52d097f2370b19e2a2403f7d8b6b3ad645353e1
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 24 14:02:47 2001 +0000

    latest version
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@26 c6295689-39f2-0310-b995-f0e70906c6a9

commit 32d6315d54f75018806c06ec6234367ecc99d2f0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Wed Oct 24 09:31:36 2001 +0000

    added COPYING file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@25 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2f086f5261d945f95e3d5dfafe90fbab9ad54bd2
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 22 21:09:17 2001 +0000

    Implementid basic signing functionality.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@24 c6295689-39f2-0310-b995-f0e70906c6a9

commit a1af1550181e442ac87f932c8e5e36c7053cb8eb
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 22 21:05:07 2001 +0000

    dirty fix
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@23 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0ba739b3d41a101c43d18bcc7b49c5b57cc1177f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 22 20:43:26 2001 +0000

    - quick and dirty fix applied
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@22 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5df5aa7ca9ea98f3b7ba812b946c596b8219755c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 22 20:07:59 2001 +0000

    - added ability to compute digital signatures
    - split functions to different files
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@21 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4d8a79ca42d5a3946690f565ea8d90b56affd23a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Mon Oct 22 14:51:15 2001 +0000

    - implemented decrypt support
    - split PIN related functions to a separate file
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@20 c6295689-39f2-0310-b995-f0e70906c6a9

commit bff3bf85609dc5359919534ab24b4244b8f6f3d5
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 22:25:11 2001 +0000

    Updates.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@19 c6295689-39f2-0310-b995-f0e70906c6a9

commit 68eedb40d2ec26f423025e5bec590ca5c17a1f73
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 21:26:22 2001 +0000

    small bug-fix in sc_enum_certificates()
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@18 c6295689-39f2-0310-b995-f0e70906c6a9

commit 5414ed9bb095e7418c5535b9897e87ad0336e005
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 21:22:16 2001 +0000

    - added struct sc_path
    - implemented private key enumeration
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@17 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9ea1e4be9e61b62202c6367d7c32316a714ab188
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 19:42:32 2001 +0000

    fixed PIN info reading
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@16 c6295689-39f2-0310-b995-f0e70906c6a9

commit 08fba4d225482a29f41c64c200b56bcc066b07fd
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 19:06:48 2001 +0000

    sc_pkcs15_read_certificate now dynamically allocates output buffer
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@15 c6295689-39f2-0310-b995-f0e70906c6a9

commit 731312443bcfdbea57548f4eb58537ea0b8d0e6a
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 18:55:59 2001 +0000

    - implemented certificate reading
    - started to implement private key enumeration
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@14 c6295689-39f2-0310-b995-f0e70906c6a9

commit 202c8e5227ee85e3567183b82f423559098ef1a0
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 18:12:48 2001 +0000

    - given ASN.1 decoding routines a facelift
    - implemented certificate enumeration
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@13 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3088f6547b65b11e4d33a812cf142eca4e9c8ea8
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 16:26:46 2001 +0000

    Minor bug fixes.
    Implemented the object finding properly.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@12 c6295689-39f2-0310-b995-f0e70906c6a9

commit 0af1a516a660c534b903daf093f28ac91fc1200d
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 16:01:07 2001 +0000

    Basic skeleton for object manipulation.
    Some testing stuff.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@11 c6295689-39f2-0310-b995-f0e70906c6a9

commit 07671adadd3c22ac9d32265eaf11457ac279933d
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sun Oct 21 15:42:56 2001 +0000

    fixed tokenInfo parsing
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@10 c6295689-39f2-0310-b995-f0e70906c6a9

commit 86bbeffc40e6528b615282cf7e4ee15f2350bd8f
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 20 23:51:58 2001 +0000

    Added basic session management.
    Implemented login, logout and change pin functions.
    Improved card management.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@9 c6295689-39f2-0310-b995-f0e70906c6a9

commit 4636ef651664c68053550b5041bdc43cd9f9d0a9
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 20 20:33:10 2001 +0000

    fixed a weird escaping bug in sc_read_binary(). this could affect other
    functions too. needs more research.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@8 c6295689-39f2-0310-b995-f0e70906c6a9

commit 9476addfa07d4a35fdfca7fb538279961e490d4f
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 20 16:54:54 2001 +0000

    lots and lots of changes.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@7 c6295689-39f2-0310-b995-f0e70906c6a9

commit b5d584e5a7febd8f613209115d4ce7b987a031bf
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Sat Oct 20 16:53:51 2001 +0000

    modified to use latest SC API
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@6 c6295689-39f2-0310-b995-f0e70906c6a9

commit ce82fc73164488ce64878e5214acfccb6c828ffc
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 19 23:23:16 2001 +0000

    Major additions and fixes to core API
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@5 c6295689-39f2-0310-b995-f0e70906c6a9

commit f3bf3dc0b8702a4473271e9b763e70d7ef009c89
Author: fabled <fabled@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 19 19:52:00 2001 +0000

    Implemented dummy functions for PKCS#15 module with
    functionality to read card reader names.
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@4 c6295689-39f2-0310-b995-f0e70906c6a9

commit a6a988ec68b84930881af5fd8e5bf0a9ef6fcaa4
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 19 17:30:59 2001 +0000

    some structural changes; might not even compile
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@3 c6295689-39f2-0310-b995-f0e70906c6a9

commit 2656921bbea2827031cae790b228467e8bc1c95c
Author: jey <jey@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 19 17:26:04 2001 +0000

    initial commit
    
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@2 c6295689-39f2-0310-b995-f0e70906c6a9

commit 3d1958a68fdc240d1201343b985111729111163f
Author: (no author) <(no author)@c6295689-39f2-0310-b995-f0e70906c6a9>
Date:   Fri Oct 19 17:26:04 2001 +0000

    New repository initialized by cvs2svn.
    
    git-svn-id: https://www.opensc-project.org/svnp/opensc/trunk@1 c6295689-39f2-0310-b995-f0e70906c6a9
